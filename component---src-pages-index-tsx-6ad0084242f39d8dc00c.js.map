{"version":3,"file":"component---src-pages-index-tsx-6ad0084242f39d8dc00c.js","mappings":";yHAEA,MAAMA,EAAY,YACZC,EAAY,YACZC,EAAkB,0BAClBC,EAAa,yBACbC,EAAa,WAEbC,EAAqB,IAAIC,OAAO,IAAMF,EAAWG,QACjDC,EAA4B,IAAIF,OAAOF,EAAWG,OAASJ,EAAWI,OAAQ,MAC9EE,EAAyB,IAAIH,OAAO,OAASH,EAAWI,OAAQ,MA6ChEG,EAAY,CAACC,EAAOC,KACzB,GAAuB,iBAAVD,IAAsBE,MAAMC,QAAQH,GAChD,MAAM,IAAII,UAAU,gDAiBrB,GAdAH,EAAU,CACTI,YAAY,EACZC,8BAA8B,KAC3BL,GAWiB,KAPpBD,EADGE,MAAMC,QAAQH,GACTA,EAAMO,KAAIC,GAAKA,EAAEC,SACvBC,QAAOF,GAAKA,EAAEG,SACdC,KAAK,KAECZ,EAAMS,QAGLE,OACT,MAAO,GAGR,MAAME,GAAiC,IAAnBZ,EAAQa,OAC3BC,GAAUA,EAAOF,cACjBE,GAAUA,EAAOC,kBAAkBf,EAAQa,QACtCG,GAAiC,IAAnBhB,EAAQa,OAC3BC,GAAUA,EAAOE,cACjBF,GAAUA,EAAOG,kBAAkBjB,EAAQa,QAE5C,GAAqB,IAAjBd,EAAMW,OACT,OAAOV,EAAQI,WAAaY,EAAYjB,GAASa,EAAYb,GAqB9D,OAlBqBA,IAAUa,EAAYb,KAG1CA,EAhFwB,EAACe,EAAQF,EAAaI,KAC/C,IAAIE,GAAkB,EAClBC,GAAkB,EAClBC,GAAsB,EAE1B,IAAK,IAAIC,EAAI,EAAGA,EAAIP,EAAOJ,OAAQW,IAAK,CACvC,MAAMC,EAAYR,EAAOO,GAErBH,GAAmB9B,EAAUmC,KAAKD,IACrCR,EAASA,EAAOU,MAAM,EAAGH,GAAK,IAAMP,EAAOU,MAAMH,GACjDH,GAAkB,EAClBE,EAAsBD,EACtBA,GAAkB,EAClBE,KACUF,GAAmBC,GAAuB/B,EAAUkC,KAAKD,IACnER,EAASA,EAAOU,MAAM,EAAGH,EAAI,GAAK,IAAMP,EAAOU,MAAMH,EAAI,GACzDD,EAAsBD,EACtBA,GAAkB,EAClBD,GAAkB,IAElBA,EAAkBN,EAAYU,KAAeA,GAAaN,EAAYM,KAAeA,EACrFF,EAAsBD,EACtBA,EAAkBH,EAAYM,KAAeA,GAAaV,EAAYU,KAAeA,EAEvF,CAEA,OAAOR,CAAM,EAsDJW,CAAkB1B,EAAOa,EAAaI,IAG/CjB,EAAQA,EAAM2B,QAAQjC,EAAoB,IAGzCM,EADGC,EAAQK,6BAxDwB,EAACN,EAAOa,KAC5CtB,EAAgBqC,UAAY,EAErB5B,EAAM2B,QAAQpC,GAAiBsC,GAAMhB,EAAYgB,MAsD/CvB,CAA6BN,EAAOa,GAEpCA,EAAYb,GAGjBC,EAAQI,aACXL,EAAQiB,EAAYjB,EAAM8B,OAAO,IAAM9B,EAAMyB,MAAM,IAzDjC,EAACzB,EAAOiB,KAC3BpB,EAA0B+B,UAAY,EACtC9B,EAAuB8B,UAAY,EAE5B5B,EAAM2B,QAAQ9B,GAA2B,CAACkC,EAAGC,IAAef,EAAYe,KAC7EL,QAAQ7B,GAAwBmC,GAAKhB,EAAYgB,MAuD5CC,CAAYlC,EAAOiB,EAAY,EAGvCkB,EAAOC,QAAUrC,EAEjBoC,EAAOC,QAAP,QAAyBrC,uBChHzB,OAOC,WACA,aAEA,IAAIsC,IACe,oBAAXC,SACPA,OAAOC,WACPD,OAAOC,SAASC,eAGbC,EAAuB,CAE1BJ,UAAWA,EAEXK,cAAiC,oBAAXC,OAEtBC,qBACCP,MAAgBC,OAAOO,mBAAoBP,OAAOQ,aAEnDC,eAAgBV,KAAeC,OAAOU,aAOrC,KAFD,aACC,OAAOP,CACP,+BAOH,CAhCA,uBCPAL,EAAQa,SAAWC,GAAaA,uqBCgnBhC,MCjmBaC,EAA2BC,IACC,oBAAhCC,kBACP,YAA6BA,iBAACC,UA6DI,SAAAC,EAGlCC,EACAC,EACAC,GAIA,MAAMpC,EAA8B,CAAC,EAErC,IAAaqC,EAAG,uBAmBhB,MAXe,UAAXD,GACFpC,EAAasC,MAAQJ,EACrBlC,EAAauC,OAASJ,GACF,gBAAXC,IAKTC,EAAA,yDAGK,CACLG,UAAAH,EACA,4BAA+B,GAC/BI,MAAOzC,EAEX,CA0GgB,SAAY0C,EAC1BR,EACAC,EACAC,EACApC,EACAqC,GA4BA,YA5BA,IAAAA,IAAAA,EAAuB,CAAC,GAkBnBM,EAAA,GAAAP,EACH,CAAAQ,QAAA5C,EACA6C,WAAYX,EACZ,kBAAqB,GACrBO,MAAKE,EAAA,GACAN,EAAK,CACRS,QAASX,EAAW,EAAI,KAK9B,UAOmCY,EACjCb,EACAC,EACAC,EACApC,EACAqC,EACAW,EACAC,EACAC,GAEA,MAAkBC,EAAkB,CAAC,EAEjCH,IACFG,EAAaC,gBAAkBJ,EAEhB,UAAXZ,GACFe,EAAab,MAAQtC,EACrBmD,EAAaZ,OAASF,EACtBc,EAAaC,gBAAkBJ,EAC/BG,EAAaE,SAAW,aACJ,gBAAXjB,GAMW,cAAXA,KALTe,EAAaE,SAAW,WACxBF,EAAaG,IAAM,EACnBH,EAAaI,KAAO,EACpBJ,EAAaK,OAAS,EACtBL,EAAaM,MAAQ,IAUrBR,IACFE,EAAaO,UAAYT,GAGvBC,IACFC,EAAaQ,eAAiBT,GAEhC,MAAYU,EAAAjB,EAAA,GACPT,EAAW,CACd,eAAc,EACd,yBAA4B,GAC5BO,MACEE,EAAA,CAAAG,QAASX,EAAW,EAAI,EACxB0B,WAAkC,wBAC/BV,KAeP,OACFS,CAAA,CCrUA,MAAAE,EAAA,aAkEWC,EAA2C,SAAAC,GAGpD,IAHmEC,OACnE9B,EAAMG,MACNF,EAAKG,OACLvC,GAAAgE,EAEA,MAAe,cAAX7B,EAEAD,EAAAA,cAAiB,wBAAAO,MAAO,CAAEyB,WAAgBlE,EAASoC,EAAS,IAAnB,OAI9B,gBAAXD,EAEAD,EAAAA,cAAA,OAAKO,MAAO,CAAE0B,SAAU/B,EAAOgC,QAAS,UACtClC,EAAAA,cAAA,OACEmC,IAAI,GACJC,KAAK,eACO,qBACZC,IAAA,qDAA0DvE,eAAoBoC,uEAC9EK,MAAO,CACL0B,SAAgB,OAChBC,QAAgB,QAChBf,SAAkB,aAOrB,IACT,EAE0BmB,EAEtB,SAA6CpC,GAAA,IAAtBqC,SAAEzE,GAAoBoC,EAAPC,EAAKqC,EAAAtC,EAAA0B,GAC7C,OACE5B,EAAAA,cAACC,EAAAA,SAAQ,KACPD,EAAAA,cAAC6B,EAAUpB,EAAA,GAAAN,IACVrC,EAEmC,KAG1C,EAAA2E,EAAA,8CAAAC,EAAA,oCC1EWC,EAAkC,SAAc1C,GAAA,IAACoC,IAC1DnC,EAAG0C,OACH9E,EAAM4C,QACNP,EAAOgC,IACPrB,EAAQ,GAAAH,WACRI,GACGd,EAAAe,EAEHwB,EAAAvC,EAAAwC,GAAA,OACEzC,EAAAA,cAAA,MAAAS,EAAA,GACMO,EAAK,CACT6B,SAAS,QACTnC,QAASP,EACTkC,IAAKtB,EAAab,OAAA,EAAe,WACtBa,OAAA,EAAab,EACxB0C,OAAQ7B,EAAajD,OAAA,EACR,cAACiD,OAAA,EAAajD,EAC3BqE,IAAKrB,IAGX,EAEoBgC,EAA2B,SAAgB7C,GAAC,IAAA8C,SAC9D7C,EAAQ8C,QACRlF,EAAU,GAAE6C,WACZR,GAAA,GAEDF,EADIa,EAEH0B,EAAAvC,EAAAyC,GAAA,MAAA3B,EAAcD,EAAMmC,QAAS,MAAA/C,OAAA,EAAAA,EAAU+C,OAAAjC,EAErChB,EAAAA,cAAC2C,EAAUlC,EAAA,GAAAK,EAAWZ,EAAU,CAAA+C,MAAOlC,EAAOJ,WAAYR,KAG5D,OAAKrC,EAAQX,OAAA6C,EAAAA,cAKX,eACGlC,EAAQf,KAAImG,IAAA,IAAGC,MAAAlD,EAAO2C,OAAA1C,EAAQkD,KAAAtF,GAAAoF,EAAA,OAC7BlD,EAAAA,cAAA,UACEqD,IAAQ,GAAApD,KAASnC,KAAQoC,IACzBkD,KAAMtF,EACNqF,MAAOlD,EACP2C,OAAQzC,EAAaD,OAAA,EACR,cAACC,OAAA,EAAaD,EAC3B+C,MAAOlC,GAAA,IAGVC,GAAAA,CAGP,ECvFA,IAAAsC,EDyFAX,EAAMY,UAAY,CAChBlB,IAAKX,EAAAA,OAAiB8B,WACtBrB,IAAKT,EAAAA,OAAiB8B,WACtBP,MAAOvB,EAAAA,OACPkB,OAAQlB,EAAAA,OACRf,WAAYe,EAAAA,MAGdoB,EAAQW,YAAc,UACtBX,EAAQS,UAAY,CAClBpB,IAAKT,EAAAA,OAAiB8B,WACtB7C,WAAYe,EAAAA,KACZqB,SAAUrB,EAAAA,MAAgB,CACxBW,IAAKX,EAAAA,OAAiB8B,WACtBZ,OAAQlB,EAAAA,OACRuB,MAAOvB,EAAAA,SAETsB,QAAStB,EAAAA,QACPA,EAAAA,UAAoB,CAClBA,EAAAA,MAAgB,CACdyB,MAAOzB,EAAAA,OAAiB8B,WACxBJ,KAAM1B,EAAAA,OACNuB,MAAOvB,EAAAA,OACPkB,OAAQlB,EAAAA,OAAiB8B,aAE3B9B,EAAAA,MAAgB,CACdyB,MAAOzB,EAAAA,OACP0B,KAAM1B,EAAAA,OAAiB8B,WACvBP,MAAOvB,EAAAA,OACPkB,OAAQlB,EAAAA,OAAiB8B,iBCtHjC,MAAAE,EAAA,aASaC,EACX,SAAoB1D,GAAC,IAAA8C,SAAE7C,GAAaD,EAAAnC,EAAA0E,EAAAvC,EAAAyD,GAClC,OAAIxD,EAEAF,EAAAA,cAAC8C,EACKrC,EAAA,GAAA3C,EACJ,CAAAiF,SAAU,CACRV,IAAKnC,GACN,iBAEDiC,IAAI,MAAAnC,EAAAA,cAID,MAASS,EAAA,GAAA3C,GAEpB,EAEF6F,EAAYF,YAAc,cAC1BE,EAAYJ,UAAY,CACtBR,SAAUrB,EAAAA,OACVsB,QAA0B,OAAnBM,EAAER,EAAQS,gBAAA,EAARD,EAAmBN,QAC5Bb,IAAK,SAAUnC,EAAOC,EAAUC,GAC9B,OAAKF,EAAMC,GAIJ,IAAS2D,MACd,kBAAkB3D,qBAA4BC,2BAH/C,IAKH,GClCW,MAAA2D,EAAoC,SAAmB5D,GAClE,OACED,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAAC8C,EAAYrC,EAAA,GAAAR,IACbD,EAAAA,cAAA,gBACEA,EAAAA,cAAC8C,EAAYrC,EAAA,GAAAR,EAAA,CAAOU,YAAA,MAI5B,EAEAkD,EAAUJ,YAAc,YACxBI,EAAUN,UAAYT,EAAQS,UAAA,MAAAO,EAAA,8HAAAC,EAAA,sBCRxBC,EAAkBhE,GAAwBA,EAAI7B,QAAQ,MAAO,IAmHtD8F,EAA4C,SACvDjE,EACAC,EACAC,GAAA,QAAAgE,EAAAC,UAAAhH,OACGW,EAAA,IAAApB,MAAAwH,EAAA,EAAAA,EAAA,KAAAE,EAAA,EAAAA,EAAAF,EAAAE,IAAAtG,EAAAsG,EAAA,GAAAD,UAAAC,GAAA,OAEEpE,EAAMmC,KAAqB,KAAdnC,EAAMmC,IAMRkC,IAAAA,OAACC,MAADD,IAAA,CAAQrE,EAAOC,EAAUC,GAAAqE,OAAkBzG,IALlD,IAAA8F,MAAA,iCAC4B1D,2JAAA,EAOjBsE,EAAG,CACvBC,MAAOJ,IAAAA,OAAiBb,WACxBrB,IAAK8B,GC7IPS,EAAA,8FAAAC,EAAA,sBAAAC,EA4BmB,IAAAC,IACnB,IAA8BC,EACyBC,EAgCvD,MAAMC,EAA4C,SAWjDhF,GAAA,IAX8EiF,GAC7EhF,EAAU,MAAAwE,MACVvE,EAAKK,MACLU,EAAKC,gBACLQ,EAAepB,UACf+D,EACAa,MAAOC,EAAWC,YAClBC,EAAWC,OACX7G,EAAM8G,QACNC,GAEDxF,EADIyF,EAEHjD,EAAAxC,EAAA0E,GAAA,MAAMtE,MAAEsF,EAAKrF,OAAEsF,EAAM5D,OAAE6D,GAAW1F,EAAA2F,EAK9B9F,EAAgB2F,EAAOC,EAAQC,IAHjCrF,MAAOuF,EACPxF,UAAWyF,GACRF,EAAAG,EAAAxD,EAAAqD,EAAAlB,GAECsB,GAAO9F,EAAAA,EAAAA,UAAA+F,GACIpF,EAAAA,EAAAA,UAAQ,IAAMqF,KAAKC,UAAUlG,EAAMmG,SAAS,CAACnG,EAAMmG,SAGhElB,IACFd,EAAYc,GAGd,MAAWmB,EAAA,SLxCXtG,EACAC,EACAC,GAEA,IAASpC,EAAG,GAWZ,MAVe,cAAXkC,IACFlC,EACE,+CAACoC,EAASD,EAAS,iBAIR,gBAAXD,IACFlC,EAAA,0BAAkCmC,mIAAuIC,eAAoBD,2IAGxLnC,CACT,CKwBa,CAAY8H,EAAQF,EAAOC,GA+HtC,OA7HA5E,EAAAA,EAAAA,YAAU,KACH+D,IACHA,EAA6B,8BAAyByB,MACpDC,IAAA,IAAGC,oBAAAzG,EAAqB0G,qBAAAzG,GAAAuG,EAAA,OACtBzB,EAAc/E,EAEP,CACLyG,oBAAAzG,EACA0G,qBAAAzG,EAAA,KAQR,MAAMD,EAAWiG,EAAKU,QAAQC,cACH,2BAE3B,GAAI5G,GAAYL,IAkCd,OAjCIK,EAAS6G,UAAA,MAEXxB,GAAAA,EAAc,CACZyB,WAAA,IAAW,MAEbrI,GAAAA,EAAS,CACPqI,WAAA,IAIFC,YAAW,KACT/G,EAASgH,gBAAgB,2BACxB,KAEQ,MAAX3B,GAAAA,EAAc,CACZyB,WAAA,IAGF9G,EAASX,iBAAuB,QAAE,SAAAY,IAChCD,EAASiH,oBAAA,OAA4BhH,GAE/B,MAANxB,GAAAA,EAAS,CACPqI,WAAA,IAGFC,YAAW,KACT/G,EAASgH,gBAAgB,wBAAuB,GAC/C,EACL,UAGFpC,EAAWsC,IAAIhB,GAKjB,GAAInB,GAAeH,EAAWuC,IAAIjB,GAChC,OAGF,IAAIjG,EACAnC,EAiCJ,OAhCAgH,EAA2ByB,MACzBa,IAAwB,IAArBX,oBAAAzG,EAAqB0G,qBAAAvG,GAAAiH,EACjBnB,EAAKU,UAIVV,EAAKU,QAAQU,UAAYrH,EAAAS,EAAA,CACvB6G,WAAA,EACAC,SAAU3C,EAAWuC,IAAIjB,GACzBzB,MAAAvE,GACGuF,IAGAb,EAAWuC,IAAIjB,KAClBjG,EAAiBuH,uBAAsB,KACjCvB,EAAKU,UACP7I,EAAkBqC,EAChB8F,EAAKU,QACLT,EACAtB,EACA3D,EACAoE,EACA5G,EACA+G,GAEH,KAEJ,IAKE,KACDvF,GACFwH,qBAAqBxH,GAEnBnC,GACFA,GACD,CACH,GACC,CAACoC,KAGJc,EAAAA,EAAAA,kBAAgB,KACV4D,EAAWuC,IAAIjB,IAAanB,IAC9BkB,EAAKU,QAAQU,UAAYtC,EACvBtE,EAAA,CAAA6G,UAAW1C,EAAWuC,IAAIjB,GAC1BqB,SAAU3C,EAAWuC,IAAIjB,GACzBzB,MAAAvE,GACGuF,IAAA,MAILJ,GAAAA,EAAc,CACZyB,WAAA,IAAW,MAEbrI,GAAAA,EAAS,CACPqI,WAAA,IAEH,GACA,CAAC5G,KAGGpC,EAAAA,EAAAA,eAAcmC,EAAAQ,EAAA,GAChBuF,EAAY,CACfzF,MAAKE,EAAA,GACAqF,EACA7E,EACH,CAAAC,gBAAAQ,IAEFpB,UAAW,GAAGyF,IAAS1B,EAAY,IAAIA,IAAA,KACvCqD,IAAKzB,EACL0B,wBAAyB,CACvBC,OAAQtB,GAEVuB,0BAAA,IAEJ,EAEwBC,GAAwC5H,EAAAA,EAAAA,OAC9D,SAAqBF,GACnB,OAAKA,EAAMyE,OAcJ3G,EAAAA,EAAAA,eAAckH,EAAqBhF,GARzC,IASH,IAGF8H,EAAYvE,UAAYiB,EACxBsD,EAAYrE,YAAc,cC5P1B,MAAAsE,EAAA,mPAsBgB,SAAAC,EACd/H,GAEA,OAAgB,SAuBfC,GAAA,IAvB2BmC,IAC1BvE,EACAmK,YAAa9H,EAAS+H,QACtBpH,GAmBGZ,EAAAa,EAEHyB,EAAAtC,EAAA6H,GAIA,OAJIjH,GACFqH,QAAQC,KAAKtH,GAGXX,EACKH,EAAAA,cAACC,EAAYQ,EAAA,CAAAgE,MAAOtE,GAAeY,KAE5CoH,QAAQC,KAAA,mBAAyBtK,GAOnC,MACF,CAEA,MAAiBuK,EACfL,GFvDA,SAAoB/H,GAAA,IAACgF,GACnB/E,EAAA,MAAUI,UACVxC,EACAoH,MAAO/E,EAAWI,MAClBO,EAAK2D,MACL1D,EAAKL,QACLM,EAAgB,OAAAsH,aAChBrH,EAAYsH,SACZ7G,EAAQR,gBACRmD,EAAe7C,UACf2D,EAAS1D,eACT4D,GAAApF,EACGxB,EAAK+D,EAAAvC,EAAA6D,GAER,IAAK/C,EAEH,OADAoH,QAAQC,KAAK,4CACN,KAGLjI,IACFrC,EAAYqC,GAGduB,EAAAjB,EAAA,CACEe,UAAA2D,EACA1D,eAAA4D,EACAnE,gBAAAmD,GACG3C,GAGL,MAAMtB,MACJoF,EAAKnF,OACLoF,EAAM1D,OACN2D,EAAMW,OACNV,EAAM6C,YACN5C,EACA1E,gBAAiB2E,GACf9E,EAMA+E,EAAA/F,EAAgByF,EAAOC,EAAQC,IAHjCnF,MAAOwF,EACPzF,UAAW0F,GACRF,EAAAG,EAAAzD,EAAAsD,EAAA/B,GAGCmC,EAA4C,CAChDnD,cAAA,EACAC,QAAS,IAoBX,OAlBI2C,EAAO5C,WACTmD,EAAcnD,SAAQtC,EAAA,GACjBkF,EAAO5C,SAAA,CACVH,OAAQ+C,EAAO5C,SAASH,OACpBoB,EAAe2B,EAAO5C,SAASH,aAAA,KAKnC+C,EAAO3C,UACTkD,EAAclD,QAAU2C,EAAO3C,QAAQjG,KAAIiD,GAAAS,EAAA,GAEpCT,EAAM,CACT4C,OAAQoB,EAAehE,EAAO4C,aAAA5C,EAAAA,cAMlCE,EAEKO,EAAA,GAAAwF,EAAA,CACH1F,MAAKE,EAAA,GACAsF,EACAjF,EAAK,CACRI,gBAAAmD,IAEF/D,UAAW,GAAG0F,IAASlI,EAAY,IAAIA,IAAA,OAEzCkC,EAAAA,cAACsC,EAAc,CAAAP,OAAQ2D,EAAQtF,MAAOoF,EAAOnF,OAAQoF,GACnDzF,EAAAA,cAAC2D,EAAWlD,EAAA,GACNI,EACF+E,GAAA,EAEAF,EACAF,EACAC,EACAI,EACAV,EACAE,KAIJrF,EAAAA,cAAC6D,EACuBpD,EAAA,4BACtBH,UAAWW,GACNxC,EAKD+B,EACU,UAAZQ,GAAA,EAEAkF,EACAlF,EACAU,MAKV,IErDuB+G,EAAgC,SACvDzI,EACAC,GAAA,QAAAyI,EAAAvE,UAAAhH,OACG+C,EAAA,IAAAxD,MAAAgM,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAAzI,EAAAyI,EAAA,GAAAxE,UAAAwE,GAAA,MAG2B,cAA5B3I,EAAM+B,QACQ,UAAb9B,GAAA,WAAwBA,IACzBD,EAAMC,GAAAoE,IAAAA,OAMSC,MANTD,IAAA,CAMgBrE,EAAOC,GAAAsE,OAAarE,IAJnC,IAAS0D,MACd,IAAI3D,MAAaD,EAAMC,iDAAA,EAMX2I,EAAG,IAAI/D,IAAI,CAAQ,QAAa,YAAe,gBAEpDgE,EAAY,CACvBxG,IAAKgC,IAAAA,OAAiBb,WACtBrB,IAAK8B,EACL7D,MAAOqI,EACPpI,OAAQoI,EACRxF,MAAOoB,IAAAA,OACPtC,OAAS/B,IACP,YAAIA,EAAM+B,SAGN6G,EAAazB,IAAInH,EAAM+B,QAI3B,OAAW,IAAA6B,MACT,iBAAiB5D,EAAM+B,2HAA0H,GAKvJsG,EAAY5E,YAAc,cAC1B4E,EAAY9E,UAAYsF,EC7FlB,MAAAC,EACJd,EAAgBF,GAElBgB,EAAYrF,YAAc,cAC1BqF,EAAYvF,UAAYsF,uJClBjB,SAASE,IACZ,OAAO,UAAoBhM,GAC/B,mCCFO,MAAMiM,GAAU,SAAoB,UAAuB,KAAEC,KAAUxM,GAAWyM,GACrF,MAAMC,EAAU,IAAI,UAAeF,EAAMxM,GACzC,OAAO,OAAoB0M,GAAS,QAAcD,EAAK,CACnDE,iBAAkBD,IAE1B,IAAG,SAAuBE,EAAOC,EAAOC,GAChCD,EAAM/I,QAAUgJ,EAAUhJ,QACP,MAAf+I,EAAM/I,MACN8I,EAAMG,aAENH,EAAMI,SAASH,EAAM/I,OAGjC,kBCbO,MAAMmJ,GAAe,SAAoB,UAA4B,OAAEC,EAASpH,SAAUqH,KAAQnN,GAAWyM,GAChH,MAAMW,EAAS,IAAI,eAAoBF,EAAQlN,GAC/C,OAAO,OAAoBoN,GAAQ,QAAcX,EAAK,CAClDE,iBAAkBS,IAE1B,GAAG,KCLUC,GAAS,SAAqB,UAAsB,SAAE3I,KAAc1E,GAAWyM,GACxF,MAAMW,EAAS,IAAI,SAAc1I,EAAU1E,GAC3C,OAAO,OAAoBoN,GAAQ,QAAcX,EAAK,CAClDE,iBAAkBS,IAE1B,IAAG,SAAsBA,EAAQP,EAAOC,GAChCD,EAAMnI,WAAaoI,EAAUpI,UAC7B0I,EAAOE,UAAUT,EAAMnI,UAET,MAAdmI,EAAMU,MAAgBV,EAAMU,OAAST,EAAUS,MAC/CH,EAAOI,QAAQX,EAAMU,MAEC,MAAtBV,EAAMY,cAAwBZ,EAAMY,eAAiBX,EAAUW,cAC/DL,EAAOM,gBAAgBb,EAAMY,cAEZ,MAAjBZ,EAAM1I,SAAmB0I,EAAM1I,UAAY2I,EAAU3I,SACrDiJ,EAAOO,WAAWd,EAAM1I,SAEL,MAAnBiJ,EAAOQ,UAAoBf,EAAMgB,YAAcf,EAAUe,aACjC,IAApBhB,EAAMgB,UACNT,EAAOQ,SAASE,SAEhBV,EAAOQ,SAASG,UAG5B,IC3BA,SAASC,IAYL,OAXAA,EAAWC,OAAOC,QAAU,SAASC,GACjC,IAAI,IAAI9M,EAAI,EAAGA,EAAIqG,UAAUhH,OAAQW,IAAI,CACrC,IAAI1B,EAAS+H,UAAUrG,GACvB,IAAI,IAAIuF,KAAOjH,EACPsO,OAAO5K,UAAU+K,eAAeC,KAAK1O,EAAQiH,KAC7CuH,EAAOvH,GAAOjH,EAAOiH,GAGjC,CACA,OAAOuH,CACX,EACOH,EAASnG,MAAMyG,KAAM5G,UAChC,CAIA,SAAS6G,GAAsB,OAAEC,EAAO,cAAEC,EAAc,OAAEvB,EAAO,SAAEpH,EAAS,UAAEjC,EAAU,GAAE6K,EAAG,YAAE3C,EAAY,MAAEjI,EAAM,UAAE6K,EAAU,KAAEC,KAAU5O,GAAW6O,GAClJ,MAAOhC,IAAS,IAAAiC,UAAS,CACrBjL,YACA6K,KACA5K,WAEGiL,EAASC,IAAc,IAAAF,UAAS,OACvC,IAAAG,qBAAoBJ,GAAc,IAAIE,GAASzO,KAAO,MAAM,CACxDyO,IAEJ,MAAMG,GAAS,IAAAC,cAAaC,IACxB,GAAa,OAATA,GAA6B,OAAZL,EAAkB,CACnC,MAAMzO,EAAM,IAAI,MAAW8O,EAAMpP,GACnB,MAAVkN,GAA0B,MAAR0B,EAClBtO,EAAI+O,QAAQnC,EAAQ0B,GACH,MAAVJ,GACPlO,EAAIgP,UAAUd,EAAQC,GAET,MAAbE,GACArO,EAAIqO,UAAUA,GAElBK,GAAW,QAAqB1O,GACpC,IAED,KACH,IAAAiP,YAAU,IACC,KACHR,GAASzO,IAAIkP,QAAQ,GAE1B,CACCT,IAEJ,MAAMU,EAAWV,EAAwB,gBAAoB,KAAiB,CAC1EW,MAAOX,GACRjJ,GAAYiG,GAAe,KAC9B,OAAqB,gBAAoB,MAAOiC,EAAS,CAAC,EAAGnB,EAAO,CAChE5B,IAAKiE,IACLO,EACR,CACO,MAAME,GAA6B,IAAAC,YAAWrB,2BCtD9C,MAAMsB,GAAY,SAAyB,UAAyB,IAAEC,KAAS9P,GAAW+O,GAC7F,MAAMnC,EAAQ,IAAI,YAAiBkD,GAAK,OAAS9P,EAAS+O,IAC1D,OAAO,OAAoBnC,EAAOmC,EACtC,IAAG,SAAyBnC,EAAOC,EAAOC,IACtC,OAAgBF,EAAOC,EAAOC,GAC9B,MAAM,IAAEgD,GAASjD,EACN,MAAPiD,GAAeA,IAAQhD,EAAUgD,KACjClD,EAAMmD,OAAOD,EAErB,6CCsBO,MAAME,EAAa,gBAAoB,CAAC,GAiCxC,SAASC,EAAiBC,GAC/B,MAAMC,EAAoB,aAAiBH,GAG3C,OAAO,WAAc,IAEO,mBAAfE,EACFA,EAAWC,GAGb,IAAIA,KAAsBD,IAChC,CAACC,EAAmBD,GACzB,CC3EA,SAASE,EAAkBvD,GACzB,MAAMwD,EAAcpC,OAAOC,OAAO,CAChCoC,GAAI,KACJ1H,EAAG,IACH2H,GAAI,KACJ9M,EAAG,KACF+M,IAAsB3D,EAAMqD,YAC/B,OAAOO,EAAAA,cAAoBA,EAAAA,SAAgB,KAAMA,EAAAA,cAAoBJ,EAAYC,GAAI,KAAM,YAAa,KAAMG,EAAAA,cAAoBJ,EAAYzH,EAAG,KAAM,yZAA0Z,KAAM6H,EAAAA,cAAoBJ,EAAYzH,EAAG,KAAM,qeAAse,KAAM6H,EAAAA,cAAoBJ,EAAYzH,EAAG,KAAM,qCAAsC6H,EAAAA,cAAoBJ,EAAYE,GAAI,KAAME,EAAAA,cAAoBJ,EAAY5M,EAAG,CACtuCiN,KAAM,mEACL,uBAAwB,oEAAqED,EAAAA,cAAoBJ,EAAY5M,EAAG,CACjIiN,KAAM,8CACL,UAAW,0PAA4P,KAAMD,EAAAA,cAAoBJ,EAAYzH,EAAG,KAAM,8BAA+B6H,EAAAA,cAAoBJ,EAAYE,GAAI,KAAM,iBAAoB,4LAA6L,KAAME,EAAAA,cAAoBJ,EAAYzH,EAAG,KAAM,yBAA0B6H,EAAAA,cAAoBJ,EAAYE,GAAI,KAAM,0BAA6B,kcAAmc,KAAME,EAAAA,cAAoBJ,EAAYzH,EAAG,KAAM,6TAA8T6H,EAAAA,cAAoBJ,EAAY5M,EAAG,CACpjDiN,KAAM,4DACL,mBAAoB,WAAYD,EAAAA,cAAoBJ,EAAY5M,EAAG,CACpEiN,KAAM,+BACL,yBAA0B,WAAYD,EAAAA,cAAoBJ,EAAY5M,EAAG,CAC1EiN,KAAM,8BACL,kBAAmB,WAAYD,EAAAA,cAAoBJ,EAAY5M,EAAG,CACnEiN,KAAM,sBACL,uBAAwB,+FAAgG,KAAMD,EAAAA,cAAoBJ,EAAYzH,EAAG,KAAM,kiBAAmiB,KAAM6H,EAAAA,cAAoBJ,EAAYzH,EAAG,KAAM,sSAC9vB,CAKA,MAJA,SAAoBiE,QAAK,IAALA,IAAAA,EAAQ,CAAC,GAC3B,MAAO8D,QAASC,GAAa3C,OAAOC,OAAO,CAAC,EAAGsC,IAAsB3D,EAAMqD,YAC3E,OAAOU,EAAYH,EAAAA,cAAoBG,EAAW/D,EAAO4D,EAAAA,cAAoBL,EAAmBvD,IAAUuD,EAAkBvD,EAC9H,EC1BIgE,EAAY5C,OAAO6C,eAEnBC,EAAgB,CAACC,EAAKpK,EAAK8I,IADT,EAACsB,EAAKpK,EAAK8I,IAAU9I,KAAOoK,EAAMH,EAAUG,EAAKpK,EAAK,CAAEqK,YAAY,EAAMC,cAAc,EAAMC,UAAU,EAAMzB,UAAWsB,EAAIpK,GAAO8I,EACjH0B,CAAgBJ,EAAoB,iBAARpK,EAAmBA,EAAM,GAAKA,EAAK8I,GAMpG2B,EAA8B,IAAIC,IAClCC,EAA0B,IAAIC,QAC9BC,EAAS,EACTC,OAAmB,EAWvB,SAASC,EAAY3R,GACnB,OAAOiO,OAAO2D,KAAK5R,GAAS6R,OAAOpR,QAChCmG,QAAyB,IAAjB5G,EAAQ4G,KACjBtG,KAAKsG,IACL,MAAO,GAAGA,KAAe,SAARA,GAXFkL,EAW6B9R,EAAQ8R,KAVjDA,GACDP,EAAQ7G,IAAIoH,KAChBL,GAAU,EACVF,EAAQQ,IAAID,EAAML,EAAOO,aAFKT,EAAQU,IAAIH,IADxB,KAU4C9R,EAAQ4G,KAXxE,IAAmBkL,CAW2D,IACzEE,UACL,CA6BA,SAASE,EAAQC,EAASC,EAAUpS,EAAU,CAAC,EAAGqS,EAAiBX,GACjE,QAA2C,IAAhCrP,OAAOiQ,2BAA2D,IAAnBD,EAA2B,CACnF,MAAM7D,EAAS2D,EAAQI,wBAUvB,OATAH,EAASC,EAAgB,CACvBG,eAAgBH,EAChBlE,OAAQgE,EACRM,kBAAgD,iBAAtBzS,EAAQ0S,UAAyB1S,EAAQ0S,UAAY,EAC/EC,KAAM,EACNC,mBAAoBpE,EACpBqE,iBAAkBrE,EAClBsE,WAAYtE,IAEP,MAET,CACA,MAAM,GAAEE,EAAE,SAAEqE,EAAQ,SAAEC,GA3CxB,SAAwBhT,GACtB,MAAM0O,EAAKiD,EAAY3R,GACvB,IAAIiT,EAAW5B,EAAYY,IAAIvD,GAC/B,IAAKuE,EAAU,CACb,MAAMD,EAA2B,IAAI1B,IACrC,IAAI4B,EACJ,MAAMH,EAAW,IAAIT,sBAAsBa,IACzCA,EAAQC,SAASC,IACf,IAAIC,EACJ,MAAMC,EAASF,EAAMb,gBAAkBU,EAAWM,MAAMd,GAAcW,EAAMZ,mBAAqBC,IAC7F1S,EAAQyT,sBAA8C,IAApBJ,EAAMK,YAC1CL,EAAMK,UAAYH,GAEiB,OAApCD,EAAKN,EAASf,IAAIoB,EAAMlF,UAA4BmF,EAAGF,SAAShB,IAC/DA,EAASmB,EAAQF,EAAM,GACvB,GACF,GACDrT,GACHkT,EAAaH,EAASG,aAAejT,MAAMC,QAAQF,EAAQ0S,WAAa1S,EAAQ0S,UAAY,CAAC1S,EAAQ0S,WAAa,IAClHO,EAAW,CACTvE,KACAqE,WACAC,YAEF3B,EAAYU,IAAIrD,EAAIuE,EACtB,CACA,OAAOA,CACT,CAgBqCU,CAAe3T,GAC5C4T,EAAYZ,EAASf,IAAIE,IAAY,GAM3C,OALKa,EAAStI,IAAIyH,IAChBa,EAASjB,IAAII,EAASyB,GAExBA,EAAUC,KAAKzB,GACfW,EAASb,QAAQC,GACV,WACLyB,EAAUE,OAAOF,EAAUG,QAAQ3B,GAAW,GACrB,IAArBwB,EAAUlT,SACZsS,EAASgB,OAAO7B,GAChBY,EAASkB,UAAU9B,IAEC,IAAlBa,EAASkB,OACXnB,EAASoB,aACT9C,EAAY2C,OAAOtF,GAEvB,CACF,CAM2B,YC1FpB,MAAM0F,GAAqBC,EAAAA,EAAAA,oBAAkDC,GAE7E,SAASC,EAAclB,GAC5B,MAAMmB,GAAqBC,EAAAA,EAAAA,YAAWL,GACtC,IAAKI,EACH,OAAO,EAET,MAAM,YAAEE,GAAgBF,EACxB,IAAKE,EACH,OAAO,EAET,MAAMC,EAAa,IAAIC,KAAKF,GAAaG,mBAAmB,QAAS,CAAEC,SAAU,QAC3EC,GAAyC,IAAxB1B,EAAMU,QAAQ,KAAe,mBAAqB,MAEzE,OAAOY,IADW,IAAIC,KAAKvB,GAAOwB,mBAAmB,QAAS,CAAEC,SAAUC,GAE5E,CAEO,SAASC,EAAgB3B,GAC9B,MAAMmB,GAAqBC,EAAAA,EAAAA,YAAWL,IAChC,eAAEa,GAAmBT,GACrB,IAAEvJ,GD+KV,UAAmB,UACjByH,EAAS,MACTwC,EAAK,gBACLzB,EAAe,WACf0B,EAAU,KACVrD,EAAI,YACJsD,EAAW,KACXC,EAAI,cACJC,EAAa,eACbjD,EAAc,SACdkD,GACE,CAAC,GACH,IAAIjC,EACJ,MAAOrI,EAAKuK,GAAU,WAAgB,MAChCpD,EAAW,SAAcmD,IACxBE,EAAOC,GAAY,WAAgB,CACxCnC,SAAU+B,EACVjC,WAAO,IAETjB,EAASlI,QAAUqL,EACnB,aACE,KACE,GAAIF,IAASpK,EAAK,OAClB,IAAIgJ,EAyBJ,OAxBAA,EAAY/B,EACVjH,GACA,CAACsI,EAAQF,KACPqC,EAAS,CACPnC,SACAF,UAEEjB,EAASlI,SAASkI,EAASlI,QAAQqJ,EAAQF,GAC3CA,EAAMb,gBAAkB4C,GAAenB,IACzCA,IACAA,OAAY,EACd,GAEF,CACEnC,OACAqD,aACAzC,YAEAe,kBAEAyB,SAEF7C,GAEK,KACD4B,GACFA,GACF,CACD,GAIH,CAEEhU,MAAMC,QAAQwS,GAAaA,EAAUV,WAAaU,EAClDzH,EACA6G,EACAqD,EACAC,EACAC,EACA5B,EACApB,EACA6C,IAGJ,MAAMS,EAAoC,OAArBrC,EAAKmC,EAAMpC,YAAiB,EAASC,EAAGnF,OACvDyH,EAAsB,cAAc,GACrC3K,IAAO0K,GAAgBP,GAAgBC,GAAQO,EAAoB1L,UAAYyL,IAClFC,EAAoB1L,QAAUyL,EAC9BD,EAAS,CACPnC,SAAU+B,EACVjC,WAAO,KAGX,MAAMwC,EAAS,CAACL,EAAQC,EAAMlC,OAAQkC,EAAMpC,OAI5C,OAHAwC,EAAO5K,IAAM4K,EAAO,GACpBA,EAAOtC,OAASsC,EAAO,GACvBA,EAAOxC,MAAQwC,EAAO,GACfA,CACT,CClQkBC,CAAU,CAExBpD,UAAW,EACXyC,WAAY,mBAEZI,SAAUA,CAACQ,EAASC,KACdA,EAA0BxD,gBAC5ByC,EAAe5B,EACjB,IAGJ,OAAOpI,CACT,CCzBA,SAASgL,EAAaC,GAAwC,IAAAC,EAAA,IAAvC,UAAEC,EAAS,KAAEC,GAAwBH,EAC1D,MAAM,EAACI,EAAO,EAAEC,IAAczH,EAAAA,EAAAA,YACxBxO,EAAMgM,KACLkK,EAAMC,GAAiBJ,EAAKK,MAAM,KACnCC,EAAWpC,EAAciC,IAA+C,YAAtCF,SAAmB,QAAZH,EAAPG,EAASM,kBAAU,IAAAT,OAAZ,EAAPA,EAAqBU,cACvDC,EAAQH,EAAW,UAAY,OACrC,GAAIL,GAAWK,EAAU,CACvB,MAAMnI,EAAS,IAAIuI,EAAAA,aACjB,CAACT,EAAQU,KAAM,GAAIV,EAAQU,KAAM,IACjC,CAACV,EAAQU,KAAM,GAAKV,EAAQU,KAAM,KAEpC1W,EAAI2W,YAAYzI,EAAQ,CAAE0I,SAAU,GACtC,EACA3H,EAAAA,EAAAA,YAAU,KACR4H,MAAMf,GACHtM,MAAKsN,GAAQA,EAAKC,SAClBvN,KAAKyM,EAAW,GAClB,IAMH,OAAOD,GACL7F,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAAClE,EAAO,CAACC,KAAM8J,EAASxS,MAAO,CAAEgT,SAASQ,cAAe,CACvDC,MAAOA,KAAQjV,SAASkV,eAAehB,GAAOiB,gBAAe,EAAK,KAEnEd,GACClG,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAACxD,EAAY,CAACC,QAZSwK,EAYqBpB,EAAQqB,SAASC,YAZf,CAACF,EAAO,GAAG,GAAIA,EAAO,GAAG,KAYIG,OAAQ,EAAGf,MAAOA,EAAOgB,YAAa,CAAEC,YAAa,MAChItH,EAAAA,cAACxD,EAAY,CAACC,OAZQwK,KAC5B,MAAMM,EAAYN,EAAOA,EAAOhX,OAAS,GACzC,MAAO,CAACsX,EAAU,GAAIA,EAAU,GAAG,EAUPC,CAAqB3B,EAAQqB,SAASC,aAAcC,OAAQ,EAAGf,MAAM,QAAQgB,YAAa,CAAEC,YAAa,QAbxGL,KAgBjC,CAEA,SAASQ,EAAeC,GAAkE,IAAjE,OAAEC,EAAM,SAAEtS,GAAqDqS,EACtF,MAAM,EAACE,EAAM,EAAEC,IAAWxJ,EAAAA,EAAAA,WAAS,GACnC,OAAOyF,EAAc6D,EAAOG,aAAe9H,EAAAA,cAAAA,EAAAA,SAAA,KACzCA,EAAAA,cAACpD,EAAM,CAAC3I,SAAU,CAAC0T,EAAOR,YAAYY,SAAUJ,EAAOR,YAAYa,WAAYnB,cAAe,CAC5FC,MAAOA,KAAQe,GAAQ,EAAK,KAE9B7H,EAAAA,cAACiI,IAAK,CAAC5U,MAAO,CAAE6U,QAAS,CAAElT,QAAS,OAAQmT,eAAgB,UAAYC,QAAS,CAAEnU,SAAU,SAAUoU,OAAQ,KAAOT,OAAQA,EAAQU,eAAgBA,KAAQT,GAAQ,EAAM,GACzKxS,GAGP,CAEA,SAASkT,EAAeC,GAA6C,IAA5C,gBAAEC,EAAe,OAAEd,GAAuBa,EACjE,OACExI,EAAAA,cAACyH,EAAe,CAACE,OAAQA,GACvB3H,EAAAA,cAAC0I,EAAAA,EAAW,CAACnR,MAAOkR,EAAiBE,gBAAiBtV,MAAO,CAAE0B,SAAU,OAAQ6T,UAAW,QAAU3T,IAAK,kBAAkB,IAAIkP,KAAKwD,EAAOG,YAAYe,eAAe,QAAS,CAAExE,SAAU,yBAGnM,CAEA,SAASyE,EAAeC,GAA0C,IAAzC,UAAEpD,KAAcqD,GAAuBD,EAC9D,OACE/I,EAAAA,cAACyH,EAAoBuB,EACnBhJ,EAAAA,cAAA,SAAO7K,IAAKwQ,EAAWsD,UAAQ,EAACC,UAAQ,EAAC7V,MAAO,CAAE0B,SAAU,OAAQ6T,UAAW,UAGrF,CA2EA,SAASO,EAAOvU,GAAgE,IAA/D,SAAEwU,GAA2DxU,EAC5E,MAAM4F,EAAM+J,OAAgBV,GAC5B,OACE7D,EAAAA,cAAA,UAAQ5M,UAAU,QAAQoH,IAAKA,GAC7BwF,EAAAA,cAAA,OAAK3M,MAAO,CAAE2B,QAAS,SACvBgL,EAAAA,cAACqJ,EAAAA,EAAW,CACVlU,IAAI,kCAAkCF,IAAI,uBAC1C5B,MAAO,CAAEiW,SAAU,OACnBzU,OAAO,YACP0U,YAAa,EAAMxO,YAAAyO,EAAA,QAErBxJ,EAAAA,cAAA,OAAK5M,UAAU,mCAAmCC,MAAO,CAAEiW,SAAU,QACnEtJ,EAAAA,cAAA,MAAI5M,UAAU,yCAAyCgW,EAASK,SAGjEL,EAASM,YAGhB,CAmBA,SAASC,EAAK3T,GAAqI,IAApI,YAAE4T,EAAW,KAAEC,EAAI,SAAEC,GAA6G9T,EAC/I,MAAM+P,EAAO6D,EAAY7D,KAAKE,MAAM,KAAK,GACnC8D,GAAUC,EAAAA,EAAAA,QAA2B,MACrCC,EAAW1F,EAAgBwB,GAK3BmE,EAAQ,CACZC,UAAWP,EAAYQ,MAAON,aAAQ,EAARA,EAAUM,MAAO,IAAIC,QAAQ,GAC3DC,OAAOR,aAAQ,EAARA,EAAUM,MAAO,EACxBA,IAAKR,EAAYQ,KAGnB,OACEpK,EAAAA,cAAA,WAASxF,IAXUkH,IACnBqI,EAAQtQ,QAAUiI,EAClBuI,EAASvI,EAAQ,EASUtO,UAAY0Q,EAAciC,GAAQ,qBAAuB,SAClF/F,EAAAA,cAAA,MAAI5M,UAAU,qBAAqB6K,GAAI8H,EAAMwE,QAASA,KAAA,IAAAC,EAAA,OAAqB,QAArBA,EAAMT,EAAQtQ,eAAO,IAAA+Q,OAAA,EAAfA,EAAiBxD,gBAAgB,GAjCnG,SAAeyD,EAAoCC,GACjD,IAAIC,EACAC,EAIFD,EAHGD,EAGaA,EAAUG,aAAe,QAAQH,EAAUN,MAF3CK,EAAMH,MAIxB,MAAMQ,EAAcL,EAAMI,aAAe,QAAQJ,EAAML,MAMvD,OAJEQ,EADED,IAAkBG,EACPA,EAEA,GAAGH,QAAoBG,IAE/B,UAAUL,EAAMM,QAAQH,GACjC,CAmBSnB,CAAMG,EAAaE,IAEtB9J,EAAAA,cAAA,OAAK5M,UAAU,sBACb4M,EAAAA,cAAA,WAAM,IAAImE,KAAKyF,EAAY7D,MAAM3B,mBAAmB,QAAS,CAAEC,SAAU,SACzErE,EAAAA,cAAA,WAAMkK,EAAMC,SAAS,UACrBnK,EAAAA,cAAA,WAAMkK,EAAMI,MAAM,OAAKJ,EAAME,IAAI,WAEnCpK,EAAAA,cAAA,OAAK5M,UAAU,sBACb4M,EAAAA,cAAA,WAAK,UAAQ4J,EAAYoB,OACzBhL,EAAAA,cAAA,WAAK,gBAAc4J,EAAYqB,WAAW,QAC1CjL,EAAAA,cAAA,WAAK,UAAQ4J,EAAYsB,gBACzBlL,EAAAA,cAAA,WAAK,SAAO4J,EAAYuB,MACxBnL,EAAAA,cAAA,WAAK,cAAY4J,EAAYwB,kBAAkB,SAEjDpL,EAAAA,cAAA,OAAKvF,wBAAyB,CAAEC,OAAQmP,KAG9C,CAEA,SAASwB,IACP,MAAM,YAAEpH,IAAgBD,EAAAA,EAAAA,YAAWL,GAC7B9T,EAAMgM,IAIZ,YAHoBgI,IAAhBI,GACFpU,EAAIyb,MAAM,CAAC,cAAe,cAAe,EAAG,CAAE7E,SAAU,OAEnD,CACT,CAEe,SAAS8E,EAASjS,GAAiC,IAAhC,KAAEyC,GAA4BzC,EAC9D,MAAMkS,EAAoBzP,EAAK0P,QAAQC,MAAM7b,KAAI8O,GAAQqB,EAAAA,cAACwF,EAAahI,OAAAC,OAAA,CAACtH,IAAKwI,EAAKiH,MAAUjH,MACtFxF,EAAS4C,EAAK5C,OAAOuS,MAAM7b,KAAI8O,GAAQqB,EAAAA,cAACuI,EAAe/K,OAAAC,OAAA,CAACtH,IAAKwI,EAAKV,IAAQU,MAC1EgN,EAAS5P,EAAK4P,OAAOD,MAAM7b,KAAI8O,GAAQqB,EAAAA,cAAC8I,EAAetL,OAAAC,OAAA,CAACtH,IAAKwI,EAAKV,IAAQU,OAC1E,EAACsF,EAAW,EAAEO,IAAkBnG,EAAAA,EAAAA,YACtC,OACE2B,EAAAA,cAAA,YACEA,EAAAA,cAAC2D,EAAmBiI,SAAQ,CAAC3M,MAAO,CAAEgF,cAAaO,mBACnDxE,EAAAA,cAAA,OAAK3M,MAAO,CAACY,SAAU,UACrB+L,EAAAA,cAACd,EAAY,CAAC7L,MAAO,CAAEF,OAAQ,QAASD,MAAO,KAAOuJ,OAAQ,CAAC,cAAe,cAAe0B,KAAM,EAAG0N,iBAAiB,GACrH7L,EAAAA,cAACqL,EAAc,MACfrL,EAAAA,cAACZ,EAAS,CACR0M,YAAY,qFACZzM,IAAI,uDAELmM,EACDxL,EAAAA,cAAC+L,IAAkB,CAACC,iBAAkB,GAAIC,qBAAqB,GAAM,GAAA5U,QAAA6U,EAAAA,EAAAA,GAC9D/S,IAAM+S,EAAAA,EAAAA,GAAKP,OAItB3L,EAAAA,cAAA,OAAK3M,MAAO,CAAE8Y,WAAY,IAAKC,QAAS,KACtCpM,EAAAA,cAACmJ,EAAO,CAACC,SAAUrN,EAAKsQ,KAAKC,eAC5BvQ,EAAKwQ,kBAAkBC,MAAM3c,KAAIqK,IAAA,IAAC,KAAEyE,EAAI,SAAEmL,GAAU5P,EAAA,OACnD8F,EAAAA,cAAC2J,EAAKnM,OAAAC,OAAA,CAACtH,IAAKwI,EAAKiL,YAAYmB,IAAKjB,SAAUA,aAAQ,EAARA,EAAUF,aAAiBjL,GAAQ,IAEjFqB,EAAAA,cAACyM,EAAQ,QAKjB,CA5PAxE,IAAAA,cAAoB,cA+Ub,SAASyE,EAAIC,GAAkC,IAAhC,KAAE5Q,GAA4B4Q,EAClD,OAAO3M,EAAAA,cAAA,aAAQjE,EAAKsQ,KAAKC,aAAa7C,MACxC,uBCnVQ,SAAU/X,GAAW,aAM5B,IAAIqa,EAAqBa,EAAEb,mBAAqBa,EAAEC,aAAaC,OAAO,CAErEvd,QAAS,CACRyc,iBAAkB,GAClBe,mBAAoB,KACpBC,YAAaJ,EAAEhQ,OAAOhK,UAAUrD,QAAQ0d,KAExCC,qBAAqB,EACrBC,mBAAmB,EACnBlB,qBAAqB,EACrBmB,qBAAqB,EACrBC,kBAAkB,EAElBC,wBAAyB,KAIzBC,4BAA4B,EAK5BC,SAAS,EAITC,sBAAsB,EAGtBC,uBAAwB,KAGxBC,2BAA4B,EAG5BC,yBAA0B,CAAEC,OAAQ,IAAKxH,MAAO,OAAQ3S,QAAS,IAGjEoa,gBAAgB,EAChBC,cAAe,IACfC,WAAY,GACZC,cAAe,KAGfC,eAAgB,CAAC,GAGlBC,WAAY,SAAU5e,GACrBqd,EAAEwB,KAAKC,WAAWxQ,KAAMtO,GACnBsO,KAAKtO,QAAQwd,qBACjBlP,KAAKtO,QAAQwd,mBAAqBlP,KAAKyQ,4BAGxCzQ,KAAK0Q,cAAgB3B,EAAE4B,eACvB3Q,KAAK0Q,cAAcE,eAAe5Q,MAElCA,KAAK6Q,eAAiB9B,EAAE4B,eACxB3Q,KAAK6Q,eAAeD,eAAe5Q,MAEnCA,KAAK8Q,iBAAmB,EACxB9Q,KAAK+Q,iBAAmB,GACxB/Q,KAAKgR,eAAiB,GAEtBhR,KAAKiR,oBAAsB,KAE3BjR,KAAKkR,OAAS,GAEdlR,KAAKmR,0BAA4B,CAChC,UAAanR,KAAKoR,sBAClB,KAAQpR,KAAKqR,kBACb,QAAWrR,KAAKsR,qBAIjB,IAAI3B,EAAUZ,EAAEwC,QAAQC,YAAcxR,KAAKtO,QAAQie,QACnDZ,EAAEE,OAAOjP,KAAM2P,EAAU3P,KAAKyR,eAAiBzR,KAAK0R,cAEpD1R,KAAK2R,eAAiBhC,EAAUZ,EAAE6C,cAAgB7C,EAAE8C,wBACrD,EAEAC,SAAU,SAAUxT,GAEnB,GAAIA,aAAiByQ,EAAEgD,WACtB,OAAO/R,KAAKgS,UAAU,CAAC1T,IAIxB,IAAKA,EAAM2T,UAGV,OAFAjS,KAAK6Q,eAAeiB,SAASxT,GAC7B0B,KAAKkS,KAAK,WAAY,CAAE5T,MAAOA,IACxB0B,KAGR,IAAKA,KAAKmS,KAGT,OAFAnS,KAAK+Q,iBAAiBxL,KAAKjH,GAC3B0B,KAAKkS,KAAK,WAAY,CAAE5T,MAAOA,IACxB0B,KAGR,GAAIA,KAAKoS,SAAS9T,GACjB,OAAO0B,KAMJA,KAAKqS,aACRrS,KAAKqS,cAGNrS,KAAKsS,UAAUhU,EAAO0B,KAAKuS,UAC3BvS,KAAKkS,KAAK,WAAY,CAAE5T,MAAOA,IAG/B0B,KAAKwS,iBAAiBC,qBAEtBzS,KAAK0S,wBAGL,IAAIC,EAAerU,EACfsU,EAAc5S,KAAK6S,MACvB,GAAIvU,EAAMwU,SACT,KAAOH,EAAaG,SAASD,OAASD,GACrCD,EAAeA,EAAaG,SAW9B,OAPI9S,KAAKiR,oBAAoB8B,SAASJ,EAAaV,eAC9CjS,KAAKtO,QAAQke,qBAChB5P,KAAKgT,mBAAmB1U,EAAOqU,GAE/B3S,KAAKiT,8BAA8B3U,EAAOqU,IAGrC3S,IACR,EAEAkT,YAAa,SAAU5U,GAEtB,OAAIA,aAAiByQ,EAAEgD,WACf/R,KAAKmT,aAAa,CAAC7U,IAItBA,EAAM2T,UAMNjS,KAAKmS,KAQL7T,EAAMwU,UAIP9S,KAAKqS,cACRrS,KAAKqS,cACLrS,KAAKoT,iBAAiB9U,IAIvB0B,KAAKqT,aAAa/U,GAAO,GACzB0B,KAAKkS,KAAK,cAAe,CAAE5T,MAAOA,IAGlC0B,KAAKwS,iBAAiBC,qBAEtBzS,KAAK0S,wBAELpU,EAAMgV,IAAItT,KAAKmR,0BAA2BnR,MAEtCA,KAAK0Q,cAAc0B,SAAS9T,KAC/B0B,KAAK0Q,cAAcwC,YAAY5U,GAC3BA,EAAMiV,aACTjV,EAAMiV,eAIDvT,MA1BCA,OARFA,KAAKwT,aAAaxT,KAAK+Q,iBAAkBzS,IAAU0B,KAAKoS,SAAS9T,IACrE0B,KAAKgR,eAAezL,KAAK,CAAEjH,MAAOA,EAAOmV,OAAQnV,EAAMoV,UAExD1T,KAAKkS,KAAK,cAAe,CAAE5T,MAAOA,IAC3B0B,OAVPA,KAAK6Q,eAAeqC,YAAY5U,GAChC0B,KAAKkS,KAAK,cAAe,CAAE5T,MAAOA,IAC3B0B,KAuCT,EAGAgS,UAAW,SAAU2B,EAAaC,GACjC,IAAK7E,EAAEwB,KAAK3e,QAAQ+hB,GACnB,OAAO3T,KAAK8R,SAAS6B,GAGtB,IAQIjgB,EARAmgB,EAAK7T,KAAK0Q,cACVoD,EAAM9T,KAAK6Q,eACXkD,EAAU/T,KAAKtO,QAAQue,eACvBC,EAAgBlQ,KAAKtO,QAAQwe,cAC7BE,EAAgBpQ,KAAKtO,QAAQ0e,cAC7Bla,EAAIyd,EAAYvhB,OAChB4hB,EAAS,EACTC,GAAgB,EAGpB,GAAIjU,KAAKmS,KAAM,CACd,IAAI+B,GAAU,IAAK5N,MAAQ6N,UACvBC,EAAUrF,EAAEsF,MAAK,WACpB,IAAI5H,GAAQ,IAAKnG,MAAQ6N,UAOzB,IAJInU,KAAKmS,MAAQnS,KAAKqS,aACrBrS,KAAKqS,cAGC2B,EAAS9d,KACX6d,GAAWC,EAAS,KAAQ,IAEjB,IAAK1N,MAAQ6N,UAAY1H,EACzByD,GAJG8D,IAiBlB,IARAtgB,EAAIigB,EAAYK,cAQCjF,EAAEgD,WACdkC,IACHN,EAAcA,EAAYzgB,QAC1B+gB,GAAgB,GAEjBjU,KAAKsU,uBAAuB5gB,EAAGigB,GAC/Bzd,EAAIyd,EAAYvhB,YAKjB,GAAKsB,EAAEue,WAQP,IAAIjS,KAAKoS,SAAS1e,KAIlBsM,KAAKsS,UAAU5e,EAAGsM,KAAKuS,UAClBqB,GACJ5T,KAAKkS,KAAK,WAAY,CAAE5T,MAAO5K,IAI5BA,EAAEof,UAC8B,IAA/Bpf,EAAEof,SAASyB,iBAAuB,CACrC,IAAIC,EAAU9gB,EAAEof,SAAS2B,qBACrBC,EAAcF,EAAQ,KAAO9gB,EAAI8gB,EAAQ,GAAKA,EAAQ,GAC1DX,EAAGX,YAAYwB,EAChB,OAtBAZ,EAAIhC,SAASpe,GACRkgB,GACJ5T,KAAKkS,KAAK,WAAY,CAAE5T,MAAO5K,IAwB9B0c,GAEHA,EAAc4D,EAAQ9d,GAAG,IAAKoQ,MAAQ6N,UAAYD,GAI/CF,IAAW9d,GAGd8J,KAAKwS,iBAAiBC,qBAEtBzS,KAAK0S,wBAEL1S,KAAKwS,iBAAiBmC,6BAA6B,KAAM3U,KAAK6S,MAAO7S,KAAKiR,sBAE1EjV,WAAWoY,EAASpU,KAAKtO,QAAQye,WAEnC,GAAGnQ,MAEHoU,GACD,MAGC,IAFA,IAAIQ,EAAkB5U,KAAK+Q,iBAEpBiD,EAAS9d,EAAG8d,KAClBtgB,EAAIigB,EAAYK,cAGCjF,EAAEgD,YACdkC,IACHN,EAAcA,EAAYzgB,QAC1B+gB,GAAgB,GAEjBjU,KAAKsU,uBAAuB5gB,EAAGigB,GAC/Bzd,EAAIyd,EAAYvhB,QAKZsB,EAAEue,UAKHjS,KAAKoS,SAAS1e,IAIlBkhB,EAAgBrP,KAAK7R,GARpBogB,EAAIhC,SAASpe,GAWhB,OAAOsM,IACR,EAGAmT,aAAc,SAAUQ,GACvB,IAAI5gB,EAAGW,EACHwC,EAAIyd,EAAYvhB,OAChByhB,EAAK7T,KAAK0Q,cACVoD,EAAM9T,KAAK6Q,eACXoD,GAAgB,EAEpB,IAAKjU,KAAKmS,KAAM,CACf,IAAKpf,EAAI,EAAGA,EAAImD,EAAGnD,KAClBW,EAAIigB,EAAY5gB,cAGCgc,EAAEgD,YACdkC,IACHN,EAAcA,EAAYzgB,QAC1B+gB,GAAgB,GAEjBjU,KAAKsU,uBAAuB5gB,EAAGigB,GAC/Bzd,EAAIyd,EAAYvhB,SAIjB4N,KAAKwT,aAAaxT,KAAK+Q,iBAAkBrd,GACzCogB,EAAIZ,YAAYxf,GACZsM,KAAKoS,SAAS1e,IACjBsM,KAAKgR,eAAezL,KAAK,CAAEjH,MAAO5K,EAAG+f,OAAQ/f,EAAEggB,UAEhD1T,KAAKkS,KAAK,cAAe,CAAE5T,MAAO5K,KAEnC,OAAOsM,IACR,CAEA,GAAIA,KAAKqS,YAAa,CACrBrS,KAAKqS,cAGL,IAAIwC,EAAelB,EAAYzgB,QAC3B4hB,EAAK5e,EACT,IAAKnD,EAAI,EAAGA,EAAI+hB,EAAI/hB,KACnBW,EAAImhB,EAAa9hB,cAGAgc,EAAEgD,YAClB/R,KAAKsU,uBAAuB5gB,EAAGmhB,GAC/BC,EAAKD,EAAaziB,QAInB4N,KAAKoT,iBAAiB1f,EAExB,CAEA,IAAKX,EAAI,EAAGA,EAAImD,EAAGnD,KAClBW,EAAIigB,EAAY5gB,cAGCgc,EAAEgD,YACdkC,IACHN,EAAcA,EAAYzgB,QAC1B+gB,GAAgB,GAEjBjU,KAAKsU,uBAAuB5gB,EAAGigB,GAC/Bzd,EAAIyd,EAAYvhB,QAIZsB,EAAEof,UAMP9S,KAAKqT,aAAa3f,GAAG,GAAM,GAC3BsM,KAAKkS,KAAK,cAAe,CAAE5T,MAAO5K,IAE9BmgB,EAAGzB,SAAS1e,KACfmgB,EAAGX,YAAYxf,GACXA,EAAE6f,aACL7f,EAAE6f,iBAXHO,EAAIZ,YAAYxf,GAChBsM,KAAKkS,KAAK,cAAe,CAAE5T,MAAO5K,KAuBpC,OAPAsM,KAAKwS,iBAAiBC,qBAEtBzS,KAAK0S,wBAGL1S,KAAKwS,iBAAiBmC,6BAA6B,KAAM3U,KAAK6S,MAAO7S,KAAKiR,qBAEnEjR,IACR,EAGA+U,YAAa,WA6BZ,OAzBK/U,KAAKmS,OACTnS,KAAK+Q,iBAAmB,GACxB/Q,KAAKgR,eAAiB,UACfhR,KAAKgV,qBACLhV,KAAKiV,kBAGTjV,KAAKkV,wBACRlV,KAAKkV,yBAINlV,KAAK0Q,cAAcqE,cACnB/U,KAAK6Q,eAAekE,cAEpB/U,KAAKmV,WAAU,SAAUrW,GACxBA,EAAOwU,IAAItT,KAAKmR,0BAA2BnR,aACpClB,EAAOgU,QACf,GAAG9S,MAECA,KAAKmS,MAERnS,KAAKoV,2BAGCpV,IACR,EAGAqV,UAAW,WACV,IAAInV,EAAS,IAAI6O,EAAEtG,aAEfzI,KAAKwS,kBACRtS,EAAO+O,OAAOjP,KAAKwS,iBAAiB8C,SAGrC,IAAK,IAAIviB,EAAIiN,KAAK+Q,iBAAiB3e,OAAS,EAAGW,GAAK,EAAGA,IACtDmN,EAAO+O,OAAOjP,KAAK+Q,iBAAiBhe,GAAGkf,aAKxC,OAFA/R,EAAO+O,OAAOjP,KAAK6Q,eAAewE,aAE3BnV,CACR,EAGAiV,UAAW,SAAUI,EAAQ9U,GAC5B,IAEC+U,EAAmBziB,EAAG0iB,EAFnBjB,EAAUxU,KAAK+Q,iBAAiB7d,QACnCwiB,EAAgB1V,KAAKgR,eAOtB,IAJIhR,KAAKwS,kBACRxS,KAAKwS,iBAAiBiC,mBAAmBD,GAGrCzhB,EAAIyhB,EAAQpiB,OAAS,EAAGW,GAAK,EAAGA,IAAK,CAGzC,IAFAyiB,GAAoB,EAEfC,EAAIC,EAActjB,OAAS,EAAGqjB,GAAK,EAAGA,IAC1C,GAAIC,EAAcD,GAAGnX,QAAUkW,EAAQzhB,GAAI,CAC1CyiB,GAAoB,EACpB,KACD,CAGGA,GACHD,EAAOxV,KAAKU,EAAS+T,EAAQzhB,GAE/B,CAEAiN,KAAK6Q,eAAesE,UAAUI,EAAQ9U,EACvC,EAGAkV,UAAW,WACV,IAAIC,EAAS,GAIb,OAHA5V,KAAKmV,WAAU,SAAUjf,GACxB0f,EAAOrQ,KAAKrP,EACb,IACO0f,CACR,EAGAC,SAAU,SAAUzV,GACnB,IAAImH,EAAS,KAUb,OARAnH,EAAK0V,SAAS1V,EAAI,IAElBJ,KAAKmV,WAAU,SAAUjf,GACpB6Y,EAAEgH,MAAM7f,KAAOkK,IAClBmH,EAASrR,EAEX,IAEOqR,CACR,EAGA6K,SAAU,SAAU9T,GACnB,IAAKA,EACJ,OAAO,EAGR,IAAIvL,EAAGijB,EAAUhW,KAAK+Q,iBAEtB,IAAKhe,EAAIijB,EAAQ5jB,OAAS,EAAGW,GAAK,EAAGA,IACpC,GAAIijB,EAAQjjB,KAAOuL,EAClB,OAAO,EAKT,IAAKvL,GADLijB,EAAUhW,KAAKgR,gBACE5e,OAAS,EAAGW,GAAK,EAAGA,IACpC,GAAIijB,EAAQjjB,GAAGuL,QAAUA,EACxB,OAAO,EAIT,SAAUA,EAAMwU,UAAYxU,EAAMwU,SAASmD,SAAWjW,OAASA,KAAK6Q,eAAeuB,SAAS9T,EAC7F,EAGA4X,gBAAiB,SAAU5X,EAAOwF,GAEjC,IAAI9R,EAAMgO,KAAKmS,KAES,mBAAbrO,IACVA,EAAW,WAAa,GAGzB,IAAIqS,EAAa,YAGXnkB,EAAIogB,SAAS9T,KAAUtM,EAAIogB,SAAS9T,EAAMwU,WAAe9S,KAAK8Q,mBAClE9Q,KAAKmS,KAAKmB,IAAI,UAAW6C,EAAYnW,MACrCA,KAAKsT,IAAI,eAAgB6C,EAAYnW,MAEjChO,EAAIogB,SAAS9T,GAChBwF,IACUxF,EAAMwU,SAASsD,QACzBpW,KAAKqW,KAAK,aAAcvS,EAAU9D,MAClC1B,EAAMwU,SAASwD,YAGlB,EAEIhY,EAAM8X,OAASpW,KAAKmS,KAAKkD,YAAYtC,SAASzU,EAAM2T,aAEvDnO,IACUxF,EAAMwU,SAASD,MAAQ0D,KAAKC,MAAMxW,KAAKmS,KAAKU,QAEtD7S,KAAKmS,KAAKsE,GAAG,UAAWN,EAAYnW,MACpCA,KAAKmS,KAAKuE,MAAMpY,EAAM2T,eAEtBjS,KAAKmS,KAAKsE,GAAG,UAAWN,EAAYnW,MACpCA,KAAKyW,GAAG,eAAgBN,EAAYnW,MACpC1B,EAAMwU,SAAS6D,eAEjB,EAGAC,MAAO,SAAU5kB,GAEhB,IAAIe,EAAGmD,EAAGoI,EAEV,GAHA0B,KAAKmS,KAAOngB,GAGP6kB,SAAS7W,KAAKmS,KAAK2E,cACvB,KAAM,+BAaP,IAVA9W,KAAK0Q,cAAcqG,MAAM/kB,GACzBgO,KAAK6Q,eAAekG,MAAM/kB,GAErBgO,KAAKgV,eACThV,KAAKoV,2BAGNpV,KAAKgX,QAAUhlB,EAAIN,QAAQulB,IAAIC,WAAWC,aAGrCpkB,EAAI,EAAGmD,EAAI8J,KAAKgR,eAAe5e,OAAQW,EAAImD,EAAGnD,KAClDuL,EAAQ0B,KAAKgR,eAAeje,IACtBqkB,UAAY9Y,EAAMA,MAAMoV,QAC9BpV,EAAMA,MAAMoV,QAAUpV,EAAMmV,OAG7B,IAAK1gB,EAAI,EAAGmD,EAAI8J,KAAKgR,eAAe5e,OAAQW,EAAImD,EAAGnD,IAClDuL,EAAQ0B,KAAKgR,eAAeje,GAC5BiN,KAAKqT,aAAa/U,EAAMA,OAAO,GAC/BA,EAAMA,MAAMoV,QAAUpV,EAAM8Y,UAE7BpX,KAAKgR,eAAiB,GAGtBhR,KAAK6S,MAAQ0D,KAAKC,MAAMxW,KAAKmS,KAAKU,OAClC7S,KAAKiR,oBAAsBjR,KAAKqX,4BAEhCrX,KAAKmS,KAAKsE,GAAG,UAAWzW,KAAKsX,SAAUtX,MACvCA,KAAKmS,KAAKsE,GAAG,UAAWzW,KAAKuX,SAAUvX,MAEnCA,KAAKwX,kBACRxX,KAAKwX,mBAGNxX,KAAKyX,cAGLvhB,EAAI8J,KAAK+Q,iBACT/Q,KAAK+Q,iBAAmB,GACxB/Q,KAAKgS,UAAU9b,GAAG,EACnB,EAGAwhB,SAAU,SAAU1lB,GACnBA,EAAIshB,IAAI,UAAWtT,KAAKsX,SAAUtX,MAClChO,EAAIshB,IAAI,UAAWtT,KAAKuX,SAAUvX,MAElCA,KAAK2X,gBAGL3X,KAAKmS,KAAKyF,SAASriB,UAAYyK,KAAKmS,KAAKyF,SAASriB,UAAUnC,QAAQ,wBAAyB,IAEzF4M,KAAK6X,qBACR7X,KAAK6X,6BAGC7X,KAAKgX,QAGZhX,KAAK8X,gBACL9X,KAAK0Q,cAAcxP,SACnBlB,KAAK6Q,eAAe3P,SAEpBlB,KAAK0Q,cAAcqE,cAEnB/U,KAAKmS,KAAO,IACb,EAEA4F,iBAAkB,SAAUjZ,GAE3B,IADA,IAAIkZ,EAAUlZ,EACPkZ,IAAYA,EAAQ5B,OAC1B4B,EAAUA,EAAQlF,SAEnB,OAAOkF,GAAW,IACnB,EAGAxE,aAAc,SAAUwC,EAAStT,GAChC,IAAK,IAAI3P,EAAIijB,EAAQ5jB,OAAS,EAAGW,GAAK,EAAGA,IACxC,GAAIijB,EAAQjjB,KAAO2P,EAElB,OADAsT,EAAQxQ,OAAOzS,EAAG,IACX,CAGV,EAQAklB,2BAA4B,SAAUnZ,EAAQ9J,GAK7C,IAJA,IAAIhD,EAAMgO,KAAKmS,KACX+F,EAAkBlY,KAAKiV,iBAC1BkD,EAAU5B,KAAK6B,MAAMpY,KAAKmS,KAAKkG,cAEzBrjB,GAAKmjB,GACND,EAAgBljB,GAAGsjB,aAAaxZ,EAAQ9M,EAAIumB,QAAQzZ,EAAOmT,YAAajd,IADzDA,KAKtB,EAEAoc,sBAAuB,SAAUnc,GAChCA,EAAE4K,OAAO2Y,YAAcvjB,EAAE4K,OAAO6T,OACjC,EAEArC,kBAAmB,SAAUpc,GAC5B,IAAK+K,KAAKyY,cAAgBxjB,EAAE4K,OAAO2Y,YAAa,CAC/C,IAAIE,EAAczjB,EAAE4K,OAAO8Y,QAAU1jB,EAAE4K,OAAO8Y,OAAO5O,SAErD/J,KAAK4Y,WAAW3jB,EAAE4K,OAAQ5K,EAAE4jB,UAAW5jB,EAAEwe,QAErCiF,GACHzjB,EAAE4K,OAAOiZ,WAEX,CACD,EAEAF,WAAY,SAAUta,EAAOya,EAAMC,GAClC1a,EAAMoV,QAAUqF,EAChB/Y,KAAKkT,YAAY5U,GAEjBA,EAAMoV,QAAUsF,EAChBhZ,KAAK8R,SAASxT,EACf,EAEAgT,oBAAqB,SAAUrc,GAC9B,IAAIgkB,EAAYhkB,EAAE4K,OAAO2Y,mBAClBvjB,EAAE4K,OAAO2Y,YACZS,GACHjZ,KAAK4Y,WAAW3jB,EAAE4K,OAAQoZ,EAAWhkB,EAAE4K,OAAO6T,QAEhD,EAKAL,aAAc,SAAUvU,EAAQoa,EAAwBC,GACvD,IAAIC,EAAepZ,KAAKgV,cACvBkD,EAAkBlY,KAAKiV,iBACvBpB,EAAK7T,KAAK0Q,cACV1e,EAAMgO,KAAKmS,KACXgG,EAAU5B,KAAK6B,MAAMpY,KAAKmS,KAAKkG,cAG5Ba,GACHlZ,KAAKiY,2BAA2BnZ,EAAQkB,KAAKuS,UAI9C,IAECmC,EAFG2E,EAAUva,EAAOgU,SACpB0B,EAAU6E,EAAQC,SAMnB,IAFAtZ,KAAKwT,aAAagB,EAAS1V,GAEpBua,IACNA,EAAQE,cACRF,EAAQG,mBAAoB,IAExBH,EAAQxG,MAAQsF,KAGTe,GAA0BG,EAAQE,aAAe,GAE3D7E,EAAc2E,EAAQC,SAAS,KAAOxa,EAASua,EAAQC,SAAS,GAAKD,EAAQC,SAAS,GAGtFF,EAAaC,EAAQxG,OAAOyF,aAAae,EAASrnB,EAAIumB,QAAQc,EAAQI,SAAUJ,EAAQxG,QACxFqF,EAAgBmB,EAAQxG,OAAO6G,UAAUhF,EAAa1iB,EAAIumB,QAAQ7D,EAAYzC,YAAaoH,EAAQxG,QAGnG7S,KAAKwT,aAAa6F,EAAQvG,SAAS6G,eAAgBN,GACnDA,EAAQvG,SAASwG,SAAS/T,KAAKmP,GAC/BA,EAAY5B,SAAWuG,EAAQvG,SAE3BuG,EAAQjD,QAEXvC,EAAGX,YAAYmG,GACVF,GACJtF,EAAG/B,SAAS4C,KAId2E,EAAQO,kBAAmB,EAG5BP,EAAUA,EAAQvG,gBAGZhU,EAAOgU,QACf,EAEA+G,cAAe,SAAUC,EAAIC,GAC5B,KAAOA,GAAK,CACX,GAAID,IAAOC,EACV,OAAO,EAERA,EAAMA,EAAIC,UACX,CACA,OAAO,CACR,EAGA9H,KAAM,SAAU7Z,EAAM6F,EAAM+b,GAC3B,GAAI/b,GAAQA,EAAKI,iBAAiByQ,EAAE6C,cAAe,CAElD,GAAI1T,EAAKgc,eAAiBla,KAAK6Z,cAAc3b,EAAKI,MAAM8X,MAAOlY,EAAKgc,cAAcC,eACjF,OAED9hB,EAAO,UAAYA,CACpB,CAEA0W,EAAEC,aAAaja,UAAUmd,KAAKnS,KAAKC,KAAM3H,EAAM6F,EAAM+b,EACtD,EAGAG,QAAS,SAAU/hB,EAAM4hB,GACxB,OAAOlL,EAAEC,aAAaja,UAAUqlB,QAAQra,KAAKC,KAAM3H,EAAM4hB,IAAclL,EAAEC,aAAaja,UAAUqlB,QAAQra,KAAKC,KAAM,UAAY3H,EAAM4hB,EACtI,EAGAxJ,2BAA4B,SAAU4I,GACrC,IAAIgB,EAAahB,EAAQ9E,gBAErBjb,EAAI,mBASR,OAPCA,GADG+gB,EAAa,GACX,QACKA,EAAa,IAClB,SAEA,QAGC,IAAItL,EAAEuL,QAAQ,CAAEtO,KAAM,cAAgBqO,EAAa,gBAAiB9kB,UAAW,iBAAmB+D,EAAGihB,SAAU,IAAIxL,EAAEyL,MAAM,GAAI,KACvI,EAEA/C,YAAa,WACZ,IAAIzlB,EAAMgO,KAAKmS,KACX7C,EAAoBtP,KAAKtO,QAAQ4d,kBACjClB,EAAsBpO,KAAKtO,QAAQ0c,oBACnCmB,EAAsBvP,KAAKtO,QAAQ6d,oBACnCF,EAAsBrP,KAAKtO,QAAQ2d,qBAGnCC,GAAqBC,GAAuBF,IAC/CrP,KAAKyW,GAAG,+BAAgCzW,KAAKya,gBAAiBza,MAI3DoO,IACHpO,KAAKyW,GAAG,mBAAoBzW,KAAK0a,cAAe1a,MAChDA,KAAKyW,GAAG,kBAAmBzW,KAAK8X,cAAe9X,MAC/ChO,EAAIykB,GAAG,UAAWzW,KAAK8X,cAAe9X,MAExC,EAEAya,gBAAiB,SAAUxlB,GAC1B,IAAIokB,EAAUpkB,EAAEqJ,MACZqc,EAAgBtB,EAEpB,GAAe,oBAAXpkB,EAAEoD,OAA8BpD,EAAEilB,eAA6C,KAA5BjlB,EAAEilB,cAAcU,QAAvE,CAIA,KAA+C,IAAxCD,EAAchB,eAAevnB,QACnCuoB,EAAgBA,EAAchB,eAAe,GAG1CgB,EAAc9H,QAAU7S,KAAKuS,UAChCoI,EAAcpB,cAAgBF,EAAQE,aACtCvZ,KAAKtO,QAAQ4d,kBAGb+J,EAAQ/C,WACEtW,KAAKtO,QAAQ6d,qBACvB8J,EAAQ1C,eAGL3W,KAAKtO,QAAQ2d,qBAChBgK,EAAQ/C,WAILrhB,EAAEilB,eAA6C,KAA5BjlB,EAAEilB,cAAcU,SACtC5a,KAAKmS,KAAK0I,WAAWC,OAtBtB,CAwBD,EAEAJ,cAAe,SAAUzlB,GACxB,IAAIjD,EAAMgO,KAAKmS,KACXnS,KAAK8Q,mBAGL9Q,KAAK+a,eACR/oB,EAAIkhB,YAAYlT,KAAK+a,eAElB9lB,EAAEqJ,MAAMiW,gBAAkB,GAAKtf,EAAEqJ,QAAU0B,KAAKgb,cACnDhb,KAAK+a,cAAgB,IAAIhM,EAAEkM,QAAQhmB,EAAEqJ,MAAM4c,gBAAiBlb,KAAKtO,QAAQ2e,gBACzEre,EAAI8f,SAAS9R,KAAK+a,gBAEpB,EAEAjD,cAAe,WACV9X,KAAK+a,gBACR/a,KAAKmS,KAAKe,YAAYlT,KAAK+a,eAC3B/a,KAAK+a,cAAgB,KAEvB,EAEApD,cAAe,WACd,IAAIrI,EAAoBtP,KAAKtO,QAAQ4d,kBACpClB,EAAsBpO,KAAKtO,QAAQ0c,oBACnCmB,EAAsBvP,KAAKtO,QAAQ6d,oBACnCF,EAAsBrP,KAAKtO,QAAQ2d,oBACnCrd,EAAMgO,KAAKmS,MAER7C,GAAqBC,GAAuBF,IAC/CrP,KAAKsT,IAAI,+BAAgCtT,KAAKya,gBAAiBza,MAE5DoO,IACHpO,KAAKsT,IAAI,mBAAoBtT,KAAK0a,cAAe1a,MACjDA,KAAKsT,IAAI,kBAAmBtT,KAAK8X,cAAe9X,MAChDhO,EAAIshB,IAAI,UAAWtT,KAAK8X,cAAe9X,MAEzC,EAEAsX,SAAU,WACJtX,KAAKmS,OAGVnS,KAAKmb,sBAELnb,KAAK6S,MAAQ0D,KAAKC,MAAMxW,KAAKmS,KAAKU,OAClC7S,KAAKiR,oBAAsBjR,KAAKqX,4BACjC,EAEAE,SAAU,WACT,IAAIvX,KAAK8Q,iBAAT,CAIA,IAAIsK,EAAYpb,KAAKqX,4BAErBrX,KAAKwS,iBAAiB6I,kCAAkCrb,KAAKiR,oBAAqBsF,KAAK6B,MAAMpY,KAAKmS,KAAKkG,cAAerY,KAAK6S,MAAOuI,GAClIpb,KAAKwS,iBAAiBmC,6BAA6B,KAAM4B,KAAKC,MAAMxW,KAAKmS,KAAKU,OAAQuI,GAEtFpb,KAAKiR,oBAAsBmK,CAP3B,CASD,EAEAhG,yBAA0B,WACzB,IAAIkG,EAAU/E,KAAKgF,KAAKvb,KAAKmS,KAAK2E,cACjCqB,EAAU5B,KAAK6B,MAAMpY,KAAKmS,KAAKkG,cAC/B9O,EAASvJ,KAAKtO,QAAQyc,iBACtBqN,EAAWjS,EAKU,mBAAXA,IACViS,EAAW,WAAc,OAAOjS,CAAQ,GAGI,OAAzCvJ,KAAKtO,QAAQ+d,0BAChB6L,EAAUtb,KAAKtO,QAAQ+d,wBAA0B,GAElDzP,KAAKuS,SAAW+I,EAChBtb,KAAKgV,cAAgB,CAAC,EACtBhV,KAAKiV,iBAAmB,CAAC,EAGzB,IAAK,IAAI3U,EAAOgb,EAAShb,GAAQ6X,EAAS7X,IACzCN,KAAKgV,cAAc1U,GAAQ,IAAIyO,EAAE0M,aAAaD,EAASlb,IACvDN,KAAKiV,iBAAiB3U,GAAQ,IAAIyO,EAAE0M,aAAaD,EAASlb,IAI3DN,KAAKwS,iBAAmB,IAAIxS,KAAK2R,eAAe3R,KAAMmY,EAAU,EACjE,EAGA7F,UAAW,SAAUhU,EAAOgC,GAC3B,IAGIob,EAAa1mB,EAHbokB,EAAepZ,KAAKgV,cACpBkD,EAAkBlY,KAAKiV,iBAC1BkD,EAAU5B,KAAK6B,MAAMpY,KAAKmS,KAAKkG,cAUhC,IAPIrY,KAAKtO,QAAQ8d,kBAChBxP,KAAK2b,oBAAoBrd,GAG1BA,EAAMmY,GAAGzW,KAAKmR,0BAA2BnR,MAGlCM,GAAQ6X,EAAS7X,IAAQ,CAC/Bob,EAAc1b,KAAKmS,KAAKoG,QAAQja,EAAM2T,YAAa3R,GAGnD,IAAIsb,EAAUxC,EAAa9Y,GAAMub,cAAcH,GAC/C,GAAIE,EAGH,OAFAA,EAAQE,UAAUxd,QAClBA,EAAMwU,SAAW8I,GAMlB,GADAA,EAAU1D,EAAgB5X,GAAMub,cAAcH,GACjC,CACZ,IAAIK,EAASH,EAAQ9I,SACjBiJ,GACH/b,KAAKqT,aAAauI,GAAS,GAK5B,IAAII,EAAa,IAAIhc,KAAK2R,eAAe3R,KAAMM,EAAMsb,EAAStd,GAC9D8a,EAAa9Y,GAAMoZ,UAAUsC,EAAYhc,KAAKmS,KAAKoG,QAAQyD,EAAWvC,SAAUnZ,IAChFsb,EAAQ9I,SAAWkJ,EACnB1d,EAAMwU,SAAWkJ,EAGjB,IAAIC,EAAaD,EACjB,IAAKhnB,EAAIsL,EAAO,EAAGtL,EAAI+mB,EAAOlJ,MAAO7d,IACpCinB,EAAa,IAAIjc,KAAK2R,eAAe3R,KAAMhL,EAAGinB,GAC9C7C,EAAapkB,GAAG0kB,UAAUuC,EAAYjc,KAAKmS,KAAKoG,QAAQqD,EAAQ3J,YAAajd,IAO9E,OALA+mB,EAAOD,UAAUG,QAGjBjc,KAAKiY,2BAA2B2D,EAAStb,EAG1C,CAGA4X,EAAgB5X,GAAMoZ,UAAUpb,EAAOod,EACxC,CAGA1b,KAAKwS,iBAAiBsJ,UAAUxd,GAChCA,EAAMwU,SAAW9S,KAAKwS,gBAEvB,EAOAE,sBAAuB,WACtB1S,KAAK0Q,cAAcyE,WAAU,SAAU7b,GAClCA,aAAayV,EAAE6C,eAAiBtY,EAAEsgB,kBACrCtgB,EAAE4iB,aAEJ,GACD,EAGAC,SAAU,SAAUC,GACnBpc,KAAKkR,OAAO3L,KAAK6W,GACZpc,KAAKqc,gBACTrc,KAAKqc,cAAgBrgB,WAAW+S,EAAEsF,KAAKrU,KAAKsc,cAAetc,MAAO,KAEpE,EACAsc,cAAe,WACd,IAAK,IAAIvpB,EAAI,EAAGA,EAAIiN,KAAKkR,OAAO9e,OAAQW,IACvCiN,KAAKkR,OAAOne,GAAGgN,KAAKC,MAErBA,KAAKkR,OAAO9e,OAAS,EACrBmqB,aAAavc,KAAKqc,eAClBrc,KAAKqc,cAAgB,IACtB,EAGAlB,oBAAqB,WACpB,IAAIqB,EAAUjG,KAAKC,MAAMxW,KAAKmS,KAAKU,OAGnC7S,KAAKsc,gBAEDtc,KAAK6S,MAAQ2J,GAAWxc,KAAKiR,oBAAoBwL,WAAWzc,KAAKqX,8BACpErX,KAAK0c,kBAEL1c,KAAKwS,iBAAiB6I,kCAAkCrb,KAAKiR,oBAAqBsF,KAAK6B,MAAMpY,KAAKmS,KAAKkG,cAAerY,KAAK6S,MAAO7S,KAAKqX,6BAEvIrX,KAAK2c,iBAAiB3c,KAAK6S,MAAO2J,IAExBxc,KAAK6S,MAAQ2J,GACvBxc,KAAK0c,kBAEL1c,KAAK4c,kBAAkB5c,KAAK6S,MAAO2J,IAEnCxc,KAAKuX,UAEP,EAGAF,0BAA2B,WAC1B,OAAKrX,KAAKtO,QAAQge,2BAEPX,EAAE8N,QAAQC,OACb9c,KAAK+c,mBAAmB/c,KAAKmS,KAAKkD,aAGnCrV,KAAK+c,mBAAmB/c,KAAKmS,KAAKkD,YAAY2H,IAAI,IALjDhd,KAAKid,kBAMd,EAYAF,mBAAoB,SAAU7c,GAC7B,IAAIgd,EAASld,KAAKgX,QAWlB,YATehR,IAAXkX,IACChd,EAAOid,YAAcD,IACxBhd,EAAOkd,WAAWC,IAAMC,KAErBpd,EAAOqd,aAAeL,IACzBhd,EAAOsd,WAAWH,KAAM,MAInBnd,CACR,EAGA+S,8BAA+B,SAAU3U,EAAO0d,GAC/C,GAAIA,IAAe1d,EAClB0B,KAAK0Q,cAAcoB,SAASxT,QACtB,GAA+B,IAA3B0d,EAAWzC,YAAmB,CACxCyC,EAAWyB,YAEX,IAAIjJ,EAAUwH,EAAWvH,qBACzBzU,KAAK0Q,cAAcwC,YAAYsB,EAAQ,IACvCxU,KAAK0Q,cAAcwC,YAAYsB,EAAQ,GACxC,MACCwH,EAAWE,aAEb,EASA5H,uBAAwB,SAAUoJ,EAAOC,GACxC,IAEIrf,EAFAsX,EAAS8H,EAAM/H,YACf5iB,EAAI,EAKR,IAFA4qB,EAASA,GAAU,GAEZ5qB,EAAI6iB,EAAOxjB,OAAQW,KACzBuL,EAAQsX,EAAO7iB,cAEMgc,EAAEgD,WACtB/R,KAAKsU,uBAAuBhW,EAAOqf,GAIpCA,EAAOpY,KAAKjH,GAGb,OAAOqf,CACR,EAQAhC,oBAAqB,SAAUrd,GAU9B,OATWA,EAAM5M,QAAQuN,KAAOe,KAAKtO,QAAQwd,mBAAmB,CAC/DqF,cAAe,WACd,OAAO,CACR,EACAE,mBAAoB,WACnB,MAAO,CAACnW,EACT,GAIF,IAIDyQ,EAAEb,mBAAmB0P,QAAQ,CAC5BX,mBAAoB,IAAIlO,EAAEtG,aAAa,IAAIsG,EAAE8O,QAAO,KAAW,KAAY,IAAI9O,EAAE8O,OAAOP,IAAUA,QAGnGvO,EAAEb,mBAAmB0P,QAAQ,CAC5BlM,aAAc,CAEbgL,gBAAiB,WAEjB,EACAC,iBAAkB,SAAUmB,EAAmBC,GAC9C/d,KAAKwS,iBAAiB6I,kCAAkCrb,KAAKiR,oBAAqBsF,KAAK6B,MAAMpY,KAAKmS,KAAKkG,cAAeyF,GACtH9d,KAAKwS,iBAAiBmC,6BAA6B,KAAMoJ,EAAc/d,KAAKqX,6BAG5ErX,KAAKkS,KAAK,eACX,EACA0K,kBAAmB,SAAUkB,EAAmBC,GAC/C/d,KAAKwS,iBAAiB6I,kCAAkCrb,KAAKiR,oBAAqBsF,KAAK6B,MAAMpY,KAAKmS,KAAKkG,cAAeyF,GACtH9d,KAAKwS,iBAAiBmC,6BAA6B,KAAMoJ,EAAc/d,KAAKqX,6BAG5ErX,KAAKkS,KAAK,eACX,EACAc,mBAAoB,SAAU1U,EAAO0d,GACpChc,KAAKiT,8BAA8B3U,EAAO0d,EAC3C,GAGDvK,eAAgB,CAEfiL,gBAAiB,WAChB1c,KAAKmS,KAAKyF,SAASriB,WAAa,wBAChCyK,KAAK8Q,kBACN,EAEA6L,iBAAkB,SAAUmB,EAAmBC,GAC9C,IAGIhrB,EAHAmN,EAASF,KAAKqX,4BACdxD,EAAK7T,KAAK0Q,cACbyH,EAAU5B,KAAK6B,MAAMpY,KAAKmS,KAAKkG,cAGhCrY,KAAKyY,aAAc,EAGnBzY,KAAKwS,iBAAiBwL,aAAa9d,EAAQ4d,EAAmB3F,GAAS,SAAU7e,GAChF,IAEI5F,EAFAuqB,EAAW3kB,EAAEoa,QACbc,EAAWlb,EAAEggB,SAkBjB,IAfKpZ,EAAO6S,SAASkL,KACpBA,EAAW,MAGR3kB,EAAE4kB,mBAAqBJ,EAAoB,IAAMC,GACpDlK,EAAGX,YAAY5Z,GACfA,EAAEqb,6BAA6B,KAAMoJ,EAAc7d,KAGnD5G,EAAE6kB,cACF7kB,EAAEqb,6BAA6BsJ,EAAUF,EAAc7d,IAKnDnN,EAAIyhB,EAAQpiB,OAAS,EAAGW,GAAK,EAAGA,IACpCW,EAAI8gB,EAAQzhB,GACPmN,EAAO6S,SAASrf,EAAEggB,UACtBG,EAAGX,YAAYxf,EAIlB,IAEAsM,KAAKoe,eAGLpe,KAAKwS,iBAAiB6L,0BAA0Bne,EAAQ6d,GAExDlK,EAAGsB,WAAU,SAAUnf,GAChBA,aAAa+Y,EAAE6C,gBAAkB5b,EAAEogB,OACxCpgB,EAAEud,aAEJ,IAGAvT,KAAKwS,iBAAiBwL,aAAa9d,EAAQ4d,EAAmBC,GAAc,SAAUzkB,GACrFA,EAAEglB,kCAAkCP,EACrC,IAEA/d,KAAKyY,aAAc,EAGnBzY,KAAKmc,UAAS,WAEbnc,KAAKwS,iBAAiBwL,aAAa9d,EAAQ4d,EAAmB3F,GAAS,SAAU7e,GAChFua,EAAGX,YAAY5Z,GACfA,EAAEia,aACH,IAEAvT,KAAKue,eACN,GACD,EAEA3B,kBAAmB,SAAUkB,EAAmBC,GAC/C/d,KAAKwe,wBAAwBxe,KAAKwS,iBAAkBsL,EAAoB,EAAGC,GAG3E/d,KAAKwS,iBAAiBmC,6BAA6B,KAAMoJ,EAAc/d,KAAKqX,6BAE5ErX,KAAKwS,iBAAiB6I,kCAAkCrb,KAAKiR,oBAAqBsF,KAAK6B,MAAMpY,KAAKmS,KAAKkG,cAAeyF,EAAmB9d,KAAKqX,4BAC/I,EAEArE,mBAAoB,SAAU1U,EAAO0d,GACpC,IAAIne,EAAKmC,KACL6T,EAAK7T,KAAK0Q,cAEdmD,EAAG/B,SAASxT,GACR0d,IAAe1d,IACd0d,EAAWzC,YAAc,GAE5ByC,EAAWE,cACXlc,KAAKoe,eACLpe,KAAK0c,kBAELpe,EAAMmgB,QAAQze,KAAKmS,KAAKuM,mBAAmB1C,EAAW/J,cACtD3T,EAAM6f,cAENne,KAAKmc,UAAS,WACbtI,EAAGX,YAAY5U,GACfA,EAAMiV,cAEN1V,EAAG0gB,eACJ,MAGAve,KAAKoe,eAELvgB,EAAG6e,kBACH7e,EAAG2gB,wBAAwBxC,EAAYhc,KAAKmS,KAAK2E,aAAc9W,KAAK6S,QAGvE,GAID2L,wBAAyB,SAAUnF,EAASyE,EAAmBC,GAC9D,IAAI7d,EAASF,KAAKqX,4BACjBc,EAAU5B,KAAK6B,MAAMpY,KAAKmS,KAAKkG,cAGhCgB,EAAQsF,6CAA6Cze,EAAQiY,EAAS2F,EAAoB,EAAGC,GAE7F,IAAIlgB,EAAKmC,KAGTA,KAAKoe,eACL/E,EAAQgF,0BAA0Bne,EAAQ6d,GAI1C/d,KAAKmc,UAAS,WAGb,GAA4B,IAAxB9C,EAAQE,YAAmB,CAC9B,IAAI7lB,EAAI2lB,EAAQC,SAAS,GAEzBtZ,KAAKyY,aAAc,EACnB/kB,EAAEsL,UAAUtL,EAAEue,aACdjS,KAAKyY,aAAc,EACf/kB,EAAE6f,aACL7f,EAAE6f,aAEJ,MACC8F,EAAQ2E,aAAa9d,EAAQ6d,EAAc5F,GAAS,SAAU7e,GAC7DA,EAAE+hB,kCAAkCnb,EAAQiY,EAAS2F,EAAoB,EAC1E,IAEDjgB,EAAG0gB,eACJ,GACD,EAEAA,cAAe,WACVve,KAAKmS,OACRnS,KAAKmS,KAAKyF,SAASriB,UAAYyK,KAAKmS,KAAKyF,SAASriB,UAAUnC,QAAQ,wBAAyB,KAE9F4M,KAAK8Q,mBACL9Q,KAAKkS,KAAK,eACX,EAIAkM,aAAc,WAIbrP,EAAEwB,KAAKqO,QAAQ5qB,SAAS6qB,KAAKC,YAC9B,IAGD/P,EAAEgQ,mBAAqB,SAAUrtB,GAChC,OAAO,IAAIqd,EAAEb,mBAAmBxc,EACjC,EAEA,IAAIkgB,EAAgB7C,EAAE6C,cAAgB7C,EAAEhQ,OAAOkQ,OAAO,CACrDvd,QAASqd,EAAEiQ,KAAKjqB,UAAUrD,QAE1B4e,WAAY,SAAUoN,EAAOpd,EAAMnL,EAAGyF,GAErCmU,EAAEhQ,OAAOhK,UAAUub,WAAWvQ,KAAKC,KAAM7K,EAAKA,EAAEskB,UAAYtkB,EAAE8c,YAAe,IAAIlD,EAAE8O,OAAO,EAAG,GACnF,CAAE5e,KAAMe,KAAMoP,KAAMsO,EAAMhsB,QAAQyd,cAE5CnP,KAAKiW,OAASyH,EACd1d,KAAK6S,MAAQvS,EAEbN,KAAKsZ,SAAW,GAChBtZ,KAAK2Z,eAAiB,GACtB3Z,KAAKuZ,YAAc,EACnBvZ,KAAK4Z,kBAAmB,EACxB5Z,KAAKwZ,mBAAoB,EAEzBxZ,KAAKsV,QAAU,IAAIvG,EAAEtG,aAEjBtT,GACH6K,KAAK8b,UAAU3mB,GAEZyF,GACHoF,KAAK8b,UAAUlhB,EAEjB,EAGA6Z,mBAAoB,SAAUwK,EAAcC,GAC3CD,EAAeA,GAAgB,GAE/B,IAAK,IAAIlsB,EAAIiN,KAAK2Z,eAAevnB,OAAS,EAAGW,GAAK,EAAGA,IACpDiN,KAAK2Z,eAAe5mB,GAAG0hB,mBAAmBwK,EAAcC,GAGzD,IAAK,IAAIzJ,EAAIzV,KAAKsZ,SAASlnB,OAAS,EAAGqjB,GAAK,EAAGA,IAC1CyJ,GAAuBlf,KAAKsZ,SAAS7D,GAAG+C,aAG5CyG,EAAa1Z,KAAKvF,KAAKsZ,SAAS7D,IAGjC,OAAOwJ,CACR,EAGA1K,cAAe,WACd,OAAOvU,KAAKuZ,WACb,EAGA5C,aAAc,SAAUwI,GASvB,IARA,IAKCpsB,EALGqsB,EAAgBpf,KAAK2Z,eAAezmB,QACvClB,EAAMgO,KAAKiW,OAAO9D,KAClBkN,EAAartB,EAAIstB,cAActf,KAAKsV,SACpChV,EAAON,KAAK6S,MAAQ,EACpB2J,EAAUxqB,EAAIutB,UAIRH,EAAchtB,OAAS,GAAKitB,EAAa/e,GAAM,CACrDA,IACA,IAAIkf,EAAc,GAClB,IAAKzsB,EAAI,EAAGA,EAAIqsB,EAAchtB,OAAQW,IACrCysB,EAAcA,EAAYhmB,OAAO4lB,EAAcrsB,GAAG4mB,gBAEnDyF,EAAgBI,CACjB,CAEIH,EAAa/e,EAChBN,KAAKiW,OAAO9D,KAAKpR,QAAQf,KAAK0T,QAASpT,GAC7B+e,GAAc7C,EACxBxc,KAAKiW,OAAO9D,KAAKpR,QAAQf,KAAK0T,QAAS8I,EAAU,GAEjDxc,KAAKiW,OAAO9D,KAAKnR,UAAUhB,KAAKsV,QAAS6J,EAE3C,EAEA9J,UAAW,WACV,IAAInV,EAAS,IAAI6O,EAAEtG,aAEnB,OADAvI,EAAO+O,OAAOjP,KAAKsV,SACZpV,CACR,EAEAgc,YAAa,WACZlc,KAAK4Z,kBAAmB,EACpB5Z,KAAKoW,OACRpW,KAAKd,QAAQc,KAEf,EAGAyf,WAAY,WAKX,OAJIzf,KAAK4Z,mBACR5Z,KAAK0f,SAAW1f,KAAKiW,OAAOvkB,QAAQwd,mBAAmBlP,MACvDA,KAAK4Z,kBAAmB,GAElB5Z,KAAK0f,SAASD,YACtB,EACAE,aAAc,WACb,OAAO3f,KAAK0f,SAASC,cACtB,EAGA7D,UAAW,SAAU8D,EAAMC,GAE1B7f,KAAK4Z,kBAAmB,EAExB5Z,KAAKwZ,mBAAoB,EACzBxZ,KAAK8f,kBAAkBF,GAEnBA,aAAgB7Q,EAAE6C,eAChBiO,IACJ7f,KAAK2Z,eAAepU,KAAKqa,GACzBA,EAAK9M,SAAW9S,MAEjBA,KAAKuZ,aAAeqG,EAAKrG,cAEpBsG,GACJ7f,KAAKsZ,SAAS/T,KAAKqa,GAEpB5f,KAAKuZ,eAGFvZ,KAAK8S,UACR9S,KAAK8S,SAASgJ,UAAU8D,GAAM,EAEhC,EAOAE,kBAAmB,SAAUC,GACvB/f,KAAKyZ,WAETzZ,KAAKyZ,SAAWsG,EAAMtG,UAAYsG,EAAMrM,QAE1C,EAQAsM,aAAc,WACb,IAAI9f,EAASF,KAAKsV,QAEdpV,EAAOsd,aACVtd,EAAOsd,WAAWH,IAAMC,IACxBpd,EAAOsd,WAAWyC,IAAM3C,KAErBpd,EAAOkd,aACVld,EAAOkd,WAAWC,KAAM,IACxBnd,EAAOkd,WAAW6C,KAAM,IAE1B,EAEAxN,mBAAoB,WACnB,IAKI1f,EAAGgtB,EAAOG,EAAa7F,EALvB7F,EAAUxU,KAAKsZ,SACf8F,EAAgBpf,KAAK2Z,eACrBwG,EAAS,EACTC,EAAS,EACTC,EAAargB,KAAKuZ,YAItB,GAAmB,IAAf8G,EAAJ,CAQA,IAHArgB,KAAKggB,eAGAjtB,EAAI,EAAGA,EAAIyhB,EAAQpiB,OAAQW,IAC/BmtB,EAAc1L,EAAQzhB,GAAG2gB,QAEzB1T,KAAKsV,QAAQrG,OAAOiR,GAEpBC,GAAUD,EAAY7C,IACtB+C,GAAUF,EAAYD,IAIvB,IAAKltB,EAAI,EAAGA,EAAIqsB,EAAchtB,OAAQW,KACrCgtB,EAAQX,EAAcrsB,IAGZymB,mBACTuG,EAAMtN,qBAGPzS,KAAKsV,QAAQrG,OAAO8Q,EAAMzK,SAE1B4K,EAAcH,EAAMO,SACpBjG,EAAa0F,EAAMxG,YAEnB4G,GAAUD,EAAY7C,IAAMhD,EAC5B+F,GAAUF,EAAYD,IAAM5F,EAG7Bra,KAAK0T,QAAU1T,KAAKsgB,SAAW,IAAIvR,EAAE8O,OAAOsC,EAASE,EAAYD,EAASC,GAG1ErgB,KAAKwZ,mBAAoB,CApCzB,CAqCD,EAGAiE,UAAW,SAAUQ,GAChBA,IACHje,KAAKugB,cAAgBvgB,KAAK0T,QAC1B1T,KAAKhB,UAAUif,IAEhBje,KAAKiW,OAAOvF,cAAcoB,SAAS9R,KACpC,EAEAwgB,8BAA+B,SAAUtgB,EAAQtB,EAAQ0c,GACxDtb,KAAKge,aAAa9d,EAAQF,KAAKiW,OAAO9D,KAAKkG,aAAciD,EAAU,GAClE,SAAUhiB,GACT,IACCvG,EAAGW,EADA8gB,EAAUlb,EAAEggB,SAEhB,IAAKvmB,EAAIyhB,EAAQpiB,OAAS,EAAGW,GAAK,EAAGA,KACpCW,EAAI8gB,EAAQzhB,IAGNqjB,QACL1iB,EAAE+qB,QAAQ7f,GACVlL,EAAEyqB,cAGL,IACA,SAAU7kB,GACT,IACCmc,EAAGgL,EADArB,EAAgB9lB,EAAEqgB,eAEtB,IAAKlE,EAAI2J,EAAchtB,OAAS,EAAGqjB,GAAK,EAAGA,KAC1CgL,EAAKrB,EAAc3J,IACZW,QACNqK,EAAGhC,QAAQ7f,GACX6hB,EAAGtC,cAGN,GAEF,EAEAQ,6CAA8C,SAAUze,EAAQwgB,EAAY5C,EAAmBC,GAC9F/d,KAAKge,aAAa9d,EAAQ6d,EAAc2C,GACvC,SAAUpnB,GACTA,EAAEknB,8BAA8BtgB,EAAQ5G,EAAE2c,OAAO9D,KAAKuM,mBAAmBplB,EAAE2Y,aAAauE,QAASsH,GAI7FxkB,EAAE4kB,mBAAqBJ,EAAoB,IAAMC,GACpDzkB,EAAEia,cACFja,EAAE+hB,kCAAkCnb,EAAQwgB,EAAY5C,IAExDxkB,EAAE6kB,cAGH7kB,EAAEmkB,WACH,GAEF,EAEAY,0BAA2B,SAAUne,EAAQygB,GAC5C3gB,KAAKge,aAAa9d,EAAQF,KAAKiW,OAAO9D,KAAKkG,aAAcsI,EAAW,MAAM,SAAUrnB,GACnFA,EAAEia,aACH,GACD,EAEAoB,6BAA8B,SAAUsJ,EAAU0C,EAAWzgB,GAC5DF,KAAKge,aAAa9d,EAAQF,KAAKiW,OAAO9D,KAAKkG,aAAe,EAAGsI,GAC5D,SAAUrnB,GACT,GAAIqnB,IAAcrnB,EAAEuZ,MAKpB,IAAK,IAAI9f,EAAIuG,EAAEggB,SAASlnB,OAAS,EAAGW,GAAK,EAAGA,IAAK,CAChD,IAAI6tB,EAAKtnB,EAAEggB,SAASvmB,GAEfmN,EAAO6S,SAAS6N,EAAGlN,WAIpBuK,IACH2C,EAAGL,cAAgBK,EAAG3O,YAEtB2O,EAAG5hB,UAAUif,GACT2C,EAAGzC,aACNyC,EAAGzC,eAIL7kB,EAAE2c,OAAOvF,cAAcoB,SAAS8O,GACjC,CACD,IACA,SAAUtnB,GACTA,EAAEmkB,UAAUQ,EACb,GAEF,EAEAK,kCAAmC,SAAUqC,GAE5C,IAAK,IAAI5tB,EAAIiN,KAAKsZ,SAASlnB,OAAS,EAAGW,GAAK,EAAGA,IAAK,CACnD,IAAI6tB,EAAK5gB,KAAKsZ,SAASvmB,GACnB6tB,EAAGL,gBACNK,EAAG5hB,UAAU4hB,EAAGL,sBACTK,EAAGL,cAEZ,CAEA,GAAII,EAAY,IAAM3gB,KAAK6S,MAE1B,IAAK,IAAI4C,EAAIzV,KAAK2Z,eAAevnB,OAAS,EAAGqjB,GAAK,EAAGA,IACpDzV,KAAK2Z,eAAelE,GAAGoL,wBAGxB,IAAK,IAAI9lB,EAAIiF,KAAK2Z,eAAevnB,OAAS,EAAG2I,GAAK,EAAGA,IACpDiF,KAAK2Z,eAAe5e,GAAGujB,kCAAkCqC,EAG5D,EAEAE,iBAAkB,WACb7gB,KAAKugB,gBACRvgB,KAAKhB,UAAUgB,KAAKugB,sBACbvgB,KAAKugB,cAEd,EAGAlF,kCAAmC,SAAUyF,EAAgBJ,EAAYC,EAAWI,GACnF,IAAIrtB,EAAGX,EACPiN,KAAKge,aAAa8C,EAAgBJ,EAAa,EAAGC,EAAY,GAC7D,SAAUrnB,GAET,IAAKvG,EAAIuG,EAAEggB,SAASlnB,OAAS,EAAGW,GAAK,EAAGA,IACvCW,EAAI4F,EAAEggB,SAASvmB,GACVguB,GAAiBA,EAAahO,SAASrf,EAAEggB,WAC7Cpa,EAAE2c,OAAOvF,cAAcwC,YAAYxf,GAC/BA,EAAE6f,aACL7f,EAAE6f,cAIN,IACA,SAAUja,GAET,IAAKvG,EAAIuG,EAAEqgB,eAAevnB,OAAS,EAAGW,GAAK,EAAGA,IAC7CW,EAAI4F,EAAEqgB,eAAe5mB,GAChBguB,GAAiBA,EAAahO,SAASrf,EAAEggB,WAC7Cpa,EAAE2c,OAAOvF,cAAcwC,YAAYxf,GAC/BA,EAAE6f,aACL7f,EAAE6f,cAIN,GAEF,EAQAyK,aAAc,SAAUgD,EAAiBC,EAAkBC,EAAiBC,EAAiBC,GAC5F,IAEIruB,EAAGuG,EAFH8lB,EAAgBpf,KAAK2Z,eACrBrZ,EAAON,KAAK6S,MAYhB,GATIoO,GAAoB3gB,IACnB6gB,GACHA,EAAgBnhB,MAEbohB,GAAoB9gB,IAAS4gB,GAChCE,EAAiBphB,OAIfM,EAAO2gB,GAAoB3gB,EAAO4gB,EACrC,IAAKnuB,EAAIqsB,EAAchtB,OAAS,EAAGW,GAAK,EAAGA,KAC1CuG,EAAI8lB,EAAcrsB,IACZymB,mBACLlgB,EAAEmZ,qBAECuO,EAAgBvE,WAAWnjB,EAAEgc,UAChChc,EAAE0kB,aAAagD,EAAiBC,EAAkBC,EAAiBC,EAAiBC,EAIxF,EAGAlD,gBAAiB,WAEhB,OAAOle,KAAK2Z,eAAevnB,OAAS,GAAK4N,KAAK2Z,eAAe,GAAGJ,cAAgBvZ,KAAKuZ,WACtF,IAWDxK,EAAEhQ,OAAO6e,QAAQ,CAChBO,YAAa,WACZ,IAAIkD,EAASrhB,KAAKtO,QAAQmE,QAG1B,OAFAmK,KAAKX,WAAW,GAChBW,KAAKtO,QAAQmE,QAAUwrB,EAChBrhB,IACR,EAEAuT,YAAa,WACZ,OAAOvT,KAAKX,WAAWW,KAAKtO,QAAQmE,QACrC,IAGDkZ,EAAE0M,aAAe,SAAU6F,GAC1BthB,KAAKuhB,UAAYD,EACjBthB,KAAKwhB,YAAcF,EAAWA,EAC9BthB,KAAKyhB,MAAQ,CAAC,EACdzhB,KAAK0hB,aAAe,CAAE,CACvB,EAEA3S,EAAE0M,aAAa1mB,UAAY,CAE1B2kB,UAAW,SAAUhX,EAAKif,GACzB,IAAI1vB,EAAI+N,KAAK4hB,UAAUD,EAAM1vB,GACzB0I,EAAIqF,KAAK4hB,UAAUD,EAAMhnB,GACzBknB,EAAO7hB,KAAKyhB,MACZK,EAAMD,EAAKlnB,GAAKknB,EAAKlnB,IAAM,CAAC,EAC5BonB,EAAOD,EAAI7vB,GAAK6vB,EAAI7vB,IAAM,GAC1B8jB,EAAQhH,EAAEwB,KAAKwF,MAAMrT,GAEzB1C,KAAK0hB,aAAa3L,GAAS4L,EAE3BI,EAAKxc,KAAK7C,EACX,EAEAsf,aAAc,SAAUtf,EAAKif,GAC5B3hB,KAAKsY,aAAa5V,GAClB1C,KAAK0Z,UAAUhX,EAAKif,EACrB,EAGArJ,aAAc,SAAU5V,EAAKif,GAC5B,IAKI5uB,EAAGkvB,EALHhwB,EAAI+N,KAAK4hB,UAAUD,EAAM1vB,GACzB0I,EAAIqF,KAAK4hB,UAAUD,EAAMhnB,GACzBknB,EAAO7hB,KAAKyhB,MACZK,EAAMD,EAAKlnB,GAAKknB,EAAKlnB,IAAM,CAAC,EAC5BonB,EAAOD,EAAI7vB,GAAK6vB,EAAI7vB,IAAM,GAK9B,WAFO+N,KAAK0hB,aAAa3S,EAAEwB,KAAKwF,MAAMrT,IAEjC3P,EAAI,EAAGkvB,EAAMF,EAAK3vB,OAAQW,EAAIkvB,EAAKlvB,IACvC,GAAIgvB,EAAKhvB,KAAO2P,EAQf,OANAqf,EAAKvc,OAAOzS,EAAG,GAEH,IAARkvB,UACIH,EAAI7vB,IAGL,CAIV,EAEAiwB,WAAY,SAAU9F,EAAI3b,GACzB,IAAI1N,EAAG0iB,EAAG1a,EAAGknB,EAAKH,EAAKC,EACnBF,EAAO7hB,KAAKyhB,MAEhB,IAAK1uB,KAAK8uB,EAGT,IAAKpM,KAFLqM,EAAMD,EAAK9uB,GAKV,IAAKgI,EAAI,EAAGknB,GAFZF,EAAOD,EAAIrM,IAEYrjB,OAAQ2I,EAAIknB,EAAKlnB,IAC7BqhB,EAAGrc,KAAKU,EAASshB,EAAKhnB,MAE/BA,IACAknB,IAKL,EAEApG,cAAe,SAAU8F,GACxB,IAEI5uB,EAAG0iB,EAAG1a,EAAG+mB,EAAKC,EAAME,EAAKvf,EAAKyf,EAF9BlwB,EAAI+N,KAAK4hB,UAAUD,EAAM1vB,GACzB0I,EAAIqF,KAAK4hB,UAAUD,EAAMhnB,GAEzBynB,EAAcpiB,KAAK0hB,aACnBW,EAAgBriB,KAAKwhB,YACrB5F,EAAU,KAEd,IAAK7oB,EAAI4H,EAAI,EAAG5H,GAAK4H,EAAI,EAAG5H,IAE3B,GADA+uB,EAAM9hB,KAAKyhB,MAAM1uB,GAGhB,IAAK0iB,EAAIxjB,EAAI,EAAGwjB,GAAKxjB,EAAI,EAAGwjB,IAE3B,GADAsM,EAAOD,EAAIrM,GAGV,IAAK1a,EAAI,EAAGknB,EAAMF,EAAK3vB,OAAQ2I,EAAIknB,EAAKlnB,IACvC2H,EAAMqf,EAAKhnB,KACXonB,EAAOniB,KAAKsiB,QAAQF,EAAYrT,EAAEwB,KAAKwF,MAAMrT,IAAOif,IACzCU,GACVF,GAAQE,GAA6B,OAAZzG,KACzByG,EAAgBF,EAChBvG,EAAUlZ,GAOhB,OAAOkZ,CACR,EAEAgG,UAAW,SAAU3vB,GACpB,IAAIswB,EAAQhM,KAAK6B,MAAMnmB,EAAI+N,KAAKuhB,WAChC,OAAO1K,SAAS0L,GAASA,EAAQtwB,CAClC,EAEAqwB,QAAS,SAAUhoB,EAAGkoB,GACrB,IAAIC,EAAKD,EAAGvwB,EAAIqI,EAAErI,EACdywB,EAAKF,EAAG7nB,EAAIL,EAAEK,EAClB,OAAO8nB,EAAKA,EAAKC,EAAKA,CACvB,GA8BA3T,EAAE4T,UAAY,CAQbC,WAAY,SAAUC,EAAKC,GAC1B,IAAIC,EAAKD,EAAG,GAAGzF,IAAMyF,EAAG,GAAGzF,IAE3B,OADMyF,EAAG,GAAG7C,IAAM6C,EAAG,GAAG7C,MACV4C,EAAIxF,IAAMyF,EAAG,GAAGzF,KAAO0F,GAAMF,EAAI5C,IAAM6C,EAAG,GAAG7C,IAC5D,EASA+C,iCAAkC,SAAUC,EAAUC,GACrD,IAGCnwB,EAAGowB,EAAIxsB,EAHJysB,EAAO,EACVC,EAAQ,KACRC,EAAY,GAGb,IAAKvwB,EAAImwB,EAAQ9wB,OAAS,EAAGW,GAAK,EAAGA,IACpCowB,EAAKD,EAAQnwB,IACb4D,EAAIqJ,KAAK4iB,WAAWO,EAAIF,IAEhB,IACPK,EAAU/d,KAAK4d,GAKZxsB,EAAIysB,IACPA,EAAOzsB,EACP0sB,EAAQF,IAIV,MAAO,CAAEI,SAAUF,EAAOC,UAAWA,EACtC,EAUAE,gBAAiB,SAAUP,EAAUC,GACpC,IAAIO,EAAsB,GACzBvuB,EAAI8K,KAAKgjB,iCAAiCC,EAAUC,GAErD,OAAIhuB,EAAEquB,SAKLE,GAJAA,EACCA,EAAoBjqB,OACnBwG,KAAKwjB,gBAAgB,CAACP,EAAS,GAAI/tB,EAAEquB,UAAWruB,EAAEouB,aAG/B9pB,OACnBwG,KAAKwjB,gBAAgB,CAACtuB,EAAEquB,SAAUN,EAAS,IAAK/tB,EAAEouB,YAI7C,CAACL,EAAS,GAEnB,EASA/H,cAAe,SAAUgI,GAExB,IAKCnwB,EALGmqB,GAAS,EAAOwG,GAAS,EAC5BC,GAAS,EAAOC,GAAS,EACzBC,EAAW,KAAMC,EAAW,KAC5BC,EAAW,KAAMC,EAAW,KAC5BX,EAAQ,KAAMY,EAAQ,KAGvB,IAAKlxB,EAAImwB,EAAQ9wB,OAAS,EAAGW,GAAK,EAAGA,IAAK,CACzC,IAAIowB,EAAKD,EAAQnwB,KACF,IAAXmqB,GAAoBiG,EAAG9F,IAAMH,KAChC2G,EAAWV,EACXjG,EAASiG,EAAG9F,OAEE,IAAXqG,GAAoBP,EAAG9F,IAAMqG,KAChCI,EAAWX,EACXO,EAASP,EAAG9F,OAEE,IAAXsG,GAAoBR,EAAGlD,IAAM0D,KAChCI,EAAWZ,EACXQ,EAASR,EAAGlD,OAEE,IAAX2D,GAAoBT,EAAGlD,IAAM2D,KAChCI,EAAWb,EACXS,EAAST,EAAGlD,IAEd,CAYA,OAVIyD,IAAWxG,GACd+G,EAAQH,EACRT,EAAQQ,IAERI,EAAQD,EACRX,EAAQU,GAGA,GAAGvqB,OAAOwG,KAAKwjB,gBAAgB,CAACS,EAAOZ,GAAQH,GACnDljB,KAAKwjB,gBAAgB,CAACH,EAAOY,GAAQf,GAE3C,GAIFnU,EAAE6C,cAAcgM,QAAQ,CACvB1C,cAAe,WACd,IAEC5gB,EAAGvH,EAFAmxB,EAAelkB,KAAKyU,qBACvB0P,EAAS,GAGV,IAAKpxB,EAAImxB,EAAa9xB,OAAS,EAAGW,GAAK,EAAGA,IACzCuH,EAAI4pB,EAAanxB,GAAGkf,YACpBkS,EAAO5e,KAAKjL,GAGb,OAAOyU,EAAE4T,UAAUzH,cAAciJ,EAClC,IAMDpV,EAAE6C,cAAcgM,QAAQ,CAEvBwG,KAAgB,EAAV7N,KAAK8N,GACXC,sBAAuB,GACvBC,kBAAmB,EAEnBC,sBAAwB,GACxBC,mBAAoB,GACpBC,oBAAqB,EAErBC,wBAAyB,EAGzBrO,SAAU,WACT,GAAItW,KAAKiW,OAAO+E,cAAgBhb,OAAQA,KAAKiW,OAAOnF,iBAApD,CAIA,IAIC8T,EAJGV,EAAelkB,KAAKyU,mBAAmB,MAAM,GAGhD7V,EAFQoB,KAAKiW,OACD9D,KACCuM,mBAAmB1e,KAAK0T,SAGtC1T,KAAKiW,OAAO5D,cACZrS,KAAKiW,OAAO+E,YAAchb,KAItBA,KAAKiW,OAAOvkB,QAAQme,uBACvB+U,EAAY5kB,KAAKiW,OAAOvkB,QAAQme,uBAAuBqU,EAAa9xB,OAAQwM,GAClEslB,EAAa9xB,QAAU4N,KAAK2kB,wBACtCC,EAAY5kB,KAAK6kB,sBAAsBX,EAAa9xB,OAAQwM,IAE5DA,EAAOjE,GAAK,GACZiqB,EAAY5kB,KAAK8kB,sBAAsBZ,EAAa9xB,OAAQwM,IAG7DoB,KAAK+kB,mBAAmBb,EAAcU,EAtBtC,CAuBD,EAEAI,WAAY,SAAUC,GAEjBjlB,KAAKiW,OAAOnF,mBAGhB9Q,KAAKklB,qBAAqBD,GAE1BjlB,KAAKiW,OAAO+E,YAAc,KAC3B,EAEA8J,sBAAuB,SAAUK,EAAOC,GACvC,IAICryB,EAAGsyB,EAHHC,EADmBtlB,KAAKiW,OAAOvkB,QAAQoe,2BAA6B9P,KAAKskB,uBAAyB,EAAIa,GAC1EnlB,KAAKokB,KACjCmB,EAAYvlB,KAAKokB,KAAOe,EACxBK,EAAM,GAOP,IAJAF,EAAY/O,KAAKkP,IAAIH,EAAW,IAEhCE,EAAIpzB,OAAS+yB,EAERpyB,EAAI,EAAGA,EAAIoyB,EAAOpyB,IACtBsyB,EAAQrlB,KAAKukB,kBAAoBxxB,EAAIwyB,EACrCC,EAAIzyB,GAAK,IAAIgc,EAAEyL,MAAM4K,EAASnzB,EAAIqzB,EAAY/O,KAAKmP,IAAIL,GAAQD,EAASzqB,EAAI2qB,EAAY/O,KAAKoP,IAAIN,IAAQO,SAG1G,OAAOJ,CACR,EAEAX,sBAAuB,SAAUM,EAAOC,GACvC,IAMCryB,EANG+c,EAA6B9P,KAAKiW,OAAOvkB,QAAQoe,2BACpDwV,EAAYxV,EAA6B9P,KAAKykB,mBAC9CoB,EAAa/V,EAA6B9P,KAAKwkB,sBAC/CsB,EAAehW,EAA6B9P,KAAK0kB,oBAAsB1kB,KAAKokB,KAC5EiB,EAAQ,EACRG,EAAM,GAMP,IAHAA,EAAIpzB,OAAS+yB,EAGRpyB,EAAIoyB,EAAOpyB,GAAK,EAAGA,IAGnBA,EAAIoyB,IACPK,EAAIzyB,GAAK,IAAIgc,EAAEyL,MAAM4K,EAASnzB,EAAIqzB,EAAY/O,KAAKmP,IAAIL,GAAQD,EAASzqB,EAAI2qB,EAAY/O,KAAKoP,IAAIN,IAAQO,UAG1GN,GAAaQ,GADbT,GAASQ,EAAaP,EAAgB,KAAJvyB,GAGnC,OAAOyyB,CACR,EAEAtQ,uBAAwB,WACvB,IAICxhB,EAAGX,EAJA2qB,EAAQ1d,KAAKiW,OAChBjkB,EAAM0rB,EAAMvL,KACZ0B,EAAK6J,EAAMhN,cACXwT,EAAelkB,KAAKyU,mBAAmB,MAAM,GAM9C,IAHAiJ,EAAMjF,aAAc,EAEpBzY,KAAKX,WAAW,GACXtM,EAAImxB,EAAa9xB,OAAS,EAAGW,GAAK,EAAGA,IACzCW,EAAIwwB,EAAanxB,GAEjB8gB,EAAGX,YAAYxf,GAEXA,EAAEqyB,qBACLryB,EAAEsL,UAAUtL,EAAEqyB,2BACPryB,EAAEqyB,oBAENryB,EAAE0L,iBACL1L,EAAE0L,gBAAgB,GAGf1L,EAAEsyB,aACLh0B,EAAIkhB,YAAYxf,EAAEsyB,mBACXtyB,EAAEsyB,YAIXtI,EAAMxL,KAAK,eAAgB,CAC1BmH,QAASrZ,KACTwU,QAAS0P,IAEVxG,EAAMjF,aAAc,EACpBiF,EAAM1C,YAAc,IACrB,IAIDjM,EAAE8C,yBAA2B9C,EAAE6C,cAAc3C,OAAO,CACnD8V,mBAAoB,SAAUb,EAAcU,GAC3C,IAIC7xB,EAAGW,EAAGuyB,EAAKC,EAJRxI,EAAQ1d,KAAKiW,OAChBjkB,EAAM0rB,EAAMvL,KACZ0B,EAAK6J,EAAMhN,cACXyV,EAAanmB,KAAKiW,OAAOvkB,QAAQqe,yBAOlC,IAJA2N,EAAMjF,aAAc,EAIf1lB,EAAI,EAAGA,EAAImxB,EAAa9xB,OAAQW,IACpCmzB,EAASl0B,EAAIo0B,mBAAmBxB,EAAU7xB,IAC1CW,EAAIwwB,EAAanxB,GAGjBkzB,EAAM,IAAIlX,EAAEsX,SAAS,CAACrmB,KAAK0T,QAASwS,GAASC,GAC7Cn0B,EAAI8f,SAASmU,GACbvyB,EAAEsyB,WAAaC,EAGfvyB,EAAEqyB,mBAAqBryB,EAAEggB,QACzBhgB,EAAEsL,UAAUknB,GACRxyB,EAAE0L,iBACL1L,EAAE0L,gBAAgB,KAGnByU,EAAG/B,SAASpe,GAEbsM,KAAKX,WAAW,IAEhBqe,EAAMjF,aAAc,EACpBiF,EAAMxL,KAAK,aAAc,CACxBmH,QAASrZ,KACTwU,QAAS0P,GAEX,EAEAgB,qBAAsB,WACrBllB,KAAKkV,wBACN,IAIDnG,EAAE6C,cAAcgM,QAAQ,CAEvBmH,mBAAoB,SAAUb,EAAcU,GAC3C,IASC7xB,EAAGW,EAAGuyB,EAAKK,EAAShB,EAAWY,EAT5BroB,EAAKmC,KACR0d,EAAQ1d,KAAKiW,OACbjkB,EAAM0rB,EAAMvL,KACZ0B,EAAK6J,EAAMhN,cACX6V,EAAkBvmB,KAAK0T,QACvB8S,EAAex0B,EAAI0sB,mBAAmB6H,GACtCE,EAAM1X,EAAE2X,KAAKC,IACbR,EAAapX,EAAEE,OAAO,CAAC,EAAGjP,KAAKiW,OAAOvkB,QAAQqe,0BAC9C6W,EAAkBT,EAAWtwB,QAuB9B,SApBwBmQ,IAApB4gB,IACHA,EAAkB7X,EAAEb,mBAAmBnZ,UAAUrD,QAAQqe,yBAAyBla,SAG/E4wB,GAEHN,EAAWtwB,QAAU,EAGrBswB,EAAW5wB,WAAa4wB,EAAW5wB,WAAa,IAAM,+BAGtD4wB,EAAWtwB,QAAU+wB,EAGtBlJ,EAAMjF,aAAc,EAKf1lB,EAAI,EAAGA,EAAImxB,EAAa9xB,OAAQW,IACpCW,EAAIwwB,EAAanxB,GAEjBmzB,EAASl0B,EAAIo0B,mBAAmBxB,EAAU7xB,IAG1CkzB,EAAM,IAAIlX,EAAEsX,SAAS,CAACE,EAAiBL,GAASC,GAChDn0B,EAAI8f,SAASmU,GACbvyB,EAAEsyB,WAAaC,EAIXQ,IAEHnB,GADAgB,EAAUL,EAAIY,OACMC,iBAAmB,GACvCR,EAAQ9wB,MAAMuxB,gBAAkBzB,EAChCgB,EAAQ9wB,MAAMwxB,iBAAmB1B,GAI9B5xB,EAAE0L,iBACL1L,EAAE0L,gBAAgB,KAEf1L,EAAEyqB,aACLzqB,EAAEyqB,cAIHtK,EAAG/B,SAASpe,GAERA,EAAE+qB,SACL/qB,EAAE+qB,QAAQ+H,GAQZ,IAJA9I,EAAMU,eACNV,EAAMhB,kBAGD3pB,EAAImxB,EAAa9xB,OAAS,EAAGW,GAAK,EAAGA,IACzCmzB,EAASl0B,EAAIo0B,mBAAmBxB,EAAU7xB,KAC1CW,EAAIwwB,EAAanxB,IAGfgzB,mBAAqBryB,EAAEggB,QACzBhgB,EAAEsL,UAAUknB,GAERxyB,EAAE6f,aACL7f,EAAE6f,cAICkT,KAEHH,GADAL,EAAMvyB,EAAEsyB,YACMa,OACNrxB,MAAMwxB,iBAAmB,EAEjCf,EAAIvnB,SAAS,CAAC7I,QAAS+wB,KAGzB5mB,KAAKX,WAAW,IAEhBqe,EAAMjF,aAAc,EAEpBzc,YAAW,WACV0hB,EAAMa,gBACNb,EAAMxL,KAAK,aAAc,CACxBmH,QAASxb,EACT2W,QAAS0P,GAEX,GAAG,IACJ,EAEAgB,qBAAsB,SAAUD,GAC/B,IAOCvxB,EAAGX,EAAGkzB,EAAKK,EAAShB,EAAW2B,EAP5BppB,EAAKmC,KACR0d,EAAQ1d,KAAKiW,OACbjkB,EAAM0rB,EAAMvL,KACZ0B,EAAK6J,EAAMhN,cACX8V,EAAevB,EAAcjzB,EAAIk1B,uBAAuBlnB,KAAK0T,QAASuR,EAAY3kB,KAAM2kB,EAAYrmB,QAAU5M,EAAI0sB,mBAAmB1e,KAAK0T,SAC1IwQ,EAAelkB,KAAKyU,mBAAmB,MAAM,GAC7CgS,EAAM1X,EAAE2X,KAAKC,IAQd,IALAjJ,EAAMjF,aAAc,EACpBiF,EAAMhB,kBAGN1c,KAAKX,WAAW,GACXtM,EAAImxB,EAAa9xB,OAAS,EAAGW,GAAK,EAAGA,KACzCW,EAAIwwB,EAAanxB,IAGVgzB,qBAKPryB,EAAEyzB,aAGFzzB,EAAEsL,UAAUtL,EAAEqyB,2BACPryB,EAAEqyB,mBAGTkB,GAAgB,EACZvzB,EAAE+qB,UACL/qB,EAAE+qB,QAAQ+H,GACVS,GAAgB,GAEbvzB,EAAEyqB,cACLzqB,EAAEyqB,cACF8I,GAAgB,GAEbA,GACHpT,EAAGX,YAAYxf,GAIZ+yB,IAGHnB,GADAgB,GADAL,EAAMvyB,EAAEsyB,YACMa,OACMC,iBAAmB,GACvCR,EAAQ9wB,MAAMwxB,iBAAmB1B,EACjCW,EAAIvnB,SAAS,CAAC7I,QAAS,MAIzB6nB,EAAMjF,aAAc,EAEpBzc,YAAW,WAEV,IAAIorB,EAAuB,EAC3B,IAAKr0B,EAAImxB,EAAa9xB,OAAS,EAAGW,GAAK,EAAGA,KACzCW,EAAIwwB,EAAanxB,IACXizB,YACLoB,IAKF,IAAKr0B,EAAImxB,EAAa9xB,OAAS,EAAGW,GAAK,EAAGA,KACzCW,EAAIwwB,EAAanxB,IAEVizB,aAIHtyB,EAAE6f,aACL7f,EAAE6f,cAEC7f,EAAE0L,iBACL1L,EAAE0L,gBAAgB,GAGfgoB,EAAuB,GAC1BvT,EAAGX,YAAYxf,GAGhB1B,EAAIkhB,YAAYxf,EAAEsyB,mBACXtyB,EAAEsyB,YAEVtI,EAAMa,gBACNb,EAAMxL,KAAK,eAAgB,CAC1BmH,QAASxb,EACT2W,QAAS0P,GAEX,GAAG,IACJ,IAIDnV,EAAEb,mBAAmB0P,QAAQ,CAE5B5C,YAAa,KAEbgK,WAAY,WACXhlB,KAAKqS,YAAY9Y,MAAMyG,KAAM5G,UAC9B,EAEAoe,iBAAkB,WACjBxX,KAAKmS,KAAKsE,GAAG,QAASzW,KAAKqnB,mBAAoBrnB,MAE3CA,KAAKmS,KAAKzgB,QAAQ41B,eACrBtnB,KAAKmS,KAAKsE,GAAG,YAAazW,KAAKunB,qBAAsBvnB,MAGtDA,KAAKmS,KAAKsE,GAAG,UAAWzW,KAAKkV,uBAAwBlV,MAEhD+O,EAAE8N,QAAQ2K,OACdxnB,KAAKmS,KAAKsV,YAAYznB,KAKxB,EAEA6X,oBAAqB,WACpB7X,KAAKmS,KAAKmB,IAAI,QAAStT,KAAKqnB,mBAAoBrnB,MAChDA,KAAKmS,KAAKmB,IAAI,YAAatT,KAAKunB,qBAAsBvnB,MACtDA,KAAKmS,KAAKmB,IAAI,WAAYtT,KAAK0nB,oBAAqB1nB,MACpDA,KAAKmS,KAAKmB,IAAI,UAAWtT,KAAKkV,uBAAwBlV,MAItDA,KAAKkV,wBACN,EAIAqS,qBAAsB,WAChBvnB,KAAKmS,MAIVnS,KAAKmS,KAAKsE,GAAG,WAAYzW,KAAK0nB,oBAAqB1nB,KACpD,EAEA0nB,oBAAqB,SAAUzC,GAE1BlW,EAAEwC,QAAQoW,SAAS3nB,KAAKmS,KAAKyF,SAAU,sBAI3C5X,KAAKmS,KAAKmB,IAAI,WAAYtT,KAAK0nB,oBAAqB1nB,MACpDA,KAAKqS,YAAY4S,GAClB,EAEAoC,mBAAoB,WAEnBrnB,KAAKqS,aACN,EAEAA,YAAa,SAAU4S,GAClBjlB,KAAKgb,aACRhb,KAAKgb,YAAYgK,WAAWC,EAE9B,EAEA/P,uBAAwB,WACnBlV,KAAKgb,aACRhb,KAAKgb,YAAY9F,wBAEnB,EAGA9B,iBAAkB,SAAU9U,GACvBA,EAAM0nB,aACThmB,KAAK0Q,cAAcwC,YAAY5U,GAE3BA,EAAMiV,aACTjV,EAAMiV,cAGHjV,EAAMc,iBACTd,EAAMc,gBAAgB,GAGvBY,KAAKmS,KAAKe,YAAY5U,EAAM0nB,mBACrB1nB,EAAM0nB,WAEf,IAWDjX,EAAEb,mBAAmB0P,QAAQ,CAS5BgK,gBAAiB,SAAUhS,GAoB1B,OAnBKA,EAEMA,aAAkB7G,EAAEb,mBAC9B0H,EAASA,EAAOpD,iBAAiBiC,qBACvBmB,aAAkB7G,EAAEgD,WAC9B6D,EAASA,EAAOiS,QACNjS,aAAkB7G,EAAE6C,cAC9BgE,EAASA,EAAOnB,qBACNmB,aAAkB7G,EAAEhQ,SAC9B6W,EAAS,CAACA,IARVA,EAAS5V,KAAKwS,iBAAiBiC,qBAUhCzU,KAAK8nB,4BAA4BlS,GACjC5V,KAAK0S,wBAGD1S,KAAKtO,QAAQ8d,kBAChBxP,KAAK+nB,gCAAgCnS,GAG/B5V,IACR,EAOA8nB,4BAA6B,SAAUlS,GACtC,IAAIxV,EAAI2b,EAGR,IAAK3b,KAAMwV,EAOV,IADAmG,EAASnG,EAAOxV,GAAI0S,SACbiJ,GACNA,EAAOnC,kBAAmB,EAC1BmC,EAASA,EAAOjJ,QAGnB,EAQAiV,gCAAiC,SAAUnS,GAC1C,IAAIxV,EAAI9B,EAER,IAAK8B,KAAMwV,EACVtX,EAAQsX,EAAOxV,GAGXJ,KAAKoS,SAAS9T,IAEjBA,EAAMY,QAAQc,KAAK2b,oBAAoBrd,GAG1C,IAGDyQ,EAAEhQ,OAAO6e,QAAQ,CAQhBoK,mBAAoB,SAAUt2B,EAASu2B,GACtC,IAAIhpB,EAAOe,KAAKtO,QAAQuN,KAcxB,OAZA8P,EAAEyB,WAAWvR,EAAMvN,GAEnBsO,KAAKd,QAAQD,GAMTgpB,GAA2BjoB,KAAK8S,UACnC9S,KAAK8S,SAASmD,OAAO2R,gBAAgB5nB,MAG/BA,IACR,IAGDnM,EAAQqa,mBAAqBA,EAC7Bra,EAAQ+d,cAAgBA,EAExBjS,OAAO6C,eAAe3O,EAAS,aAAc,CAAEuN,OAAO,GAEvD,CArpFgE8mB,CAAQr0B,0HCNxE,IAAIs0B,EAAYnoB,MAAQA,KAAKmoB,UAAa,WAStC,OARAA,EAAWxoB,OAAOC,QAAU,SAAS1K,GACjC,IAAK,IAAIE,EAAGrC,EAAI,EAAGiD,EAAIoD,UAAUhH,OAAQW,EAAIiD,EAAGjD,IAE5C,IAAK,IAAIuH,KADTlF,EAAIgE,UAAUrG,GACO4M,OAAO5K,UAAU+K,eAAeC,KAAK3K,EAAGkF,KACzDpF,EAAEoF,GAAKlF,EAAEkF,IAEjB,OAAOpF,CACX,EACOizB,EAAS5uB,MAAMyG,KAAM5G,UAChC,EACIgvB,EAAUpoB,MAAQA,KAAKooB,QAAW,SAAUhzB,EAAGH,GAC/C,IAAIC,EAAI,CAAC,EACT,IAAK,IAAIoF,KAAKlF,EAAOuK,OAAO5K,UAAU+K,eAAeC,KAAK3K,EAAGkF,IAAMrF,EAAEwQ,QAAQnL,GAAK,IAC9EpF,EAAEoF,GAAKlF,EAAEkF,IACb,GAAS,MAALlF,GAAqD,mBAAjCuK,OAAO0oB,sBACtB,KAAIt1B,EAAI,EAAb,IAAgBuH,EAAIqF,OAAO0oB,sBAAsBjzB,GAAIrC,EAAIuH,EAAElI,OAAQW,IAC3DkC,EAAEwQ,QAAQnL,EAAEvH,IAAM,GAAK4M,OAAO5K,UAAUuzB,qBAAqBvoB,KAAK3K,EAAGkF,EAAEvH,MACvEmC,EAAEoF,EAAEvH,IAAMqC,EAAEkF,EAAEvH,IAF4B,CAItD,OAAOmC,CACX,EACIqzB,EAAmBvoB,MAAQA,KAAKuoB,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACA7oB,OAAO6C,eAAe3O,EAAS,aAAc,CAAEuN,OAAO,IACtD,IAAIsnB,EAAS,EAAQ,MACjBC,EAAYJ,EAAgB,EAAQ,OACxC,EAAQ,MACR,EAAQ,MACR,EAAQ,aACDI,EAAUC,QAAQ5J,KAAK6J,QAAQ9zB,UAAU+zB,YAChDH,EAAUC,QAAQ5J,KAAK6J,QAAQE,aAAa,CACxCC,cAAe,UACfC,QAAS,UACTC,UAAW,YA+Bf,IAMIhb,GAAqB,EAAIwa,EAAOS,sBAhBpC,SAAkC5qB,EAAOkC,GACrC,IAAIuE,EApBR,SAA2BzG,GACvB,IAAI6qB,EAAe,CAAC,EAChBC,EAAgB,CAAC,EACUC,GAAhB/qB,EAAM/G,SAAiB4wB,EAAO7pB,EAE3C,CAAC,cAYH,OAVAoB,OAAOkF,QAAQykB,GAAMxkB,SAAQ,SAAUE,GACnC,IAAIukB,EAAI1qB,EACJ2qB,EAAWxkB,EAAG,GAAIykB,EAAOzkB,EAAG,GAC5BwkB,EAASE,WAAW,MACpBL,EAAgBlB,EAASA,EAAS,CAAC,EAAGkB,KAAiBE,EAAK,CAAC,GAAMC,GAAYC,EAAMF,IAGrFH,EAAejB,EAASA,EAAS,CAAC,EAAGiB,KAAgBvqB,EAAK,CAAC,GAAM2qB,GAAYC,EAAM5qB,GAE3F,IACO,CAAEuqB,aAAcA,EAAcC,cAAeA,EACxD,CAEaM,CAAkBprB,GAAQ6qB,EAAepkB,EAAGokB,aAAcC,EAAgBrkB,EAAGqkB,cAClFtK,EAAqB,IAAI4J,EAAUC,QAAQ1a,mBAAmBkb,GAMlE,OALAzpB,OAAOkF,QAAQwkB,GAAevkB,SAAQ,SAAUE,GAC5C,IAAI4kB,EAAc5kB,EAAG,GAAIlB,EAAWkB,EAAG,GACnC6kB,EAAe,UAAUrwB,OAAOowB,EAAYE,UAAU,GAAGx3B,eAC7DysB,EAAmBtI,GAAGoT,EAAc/lB,EACxC,KACO,EAAI4kB,EAAOqB,qBAAqBhL,GAAoB,EAAI2J,EAAOsB,eAAevpB,EAAS,CAAEwpB,eAAgBlL,IACpH,IAC0B,SAAUpa,EAAUpG,EAAOC,GAKrD,IAEA3K,EAAA,QAAkBqa,qCCxElBvO,OAAO6C,eAAe3O,EAAS,aAAc,CAC3CuN,OAAO,IAETvN,EAAQq2B,kBAAoBr2B,EAAQs2B,qBAAkBnkB,EAEtD,IAAItG,EAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAI9M,EAAI,EAAGA,EAAIqG,UAAUhH,OAAQW,IAAK,CAAE,IAAI1B,EAAS+H,UAAUrG,GAAI,IAAK,IAAIuF,KAAOjH,EAAcsO,OAAO5K,UAAU+K,eAAeC,KAAK1O,EAAQiH,KAAQuH,EAAOvH,GAAOjH,EAAOiH,GAAU,CAAE,OAAOuH,CAAQ,EAE3PuqB,EAAe,WAAc,SAASC,EAAiBxqB,EAAQtB,GAAS,IAAK,IAAIxL,EAAI,EAAGA,EAAIwL,EAAMnM,OAAQW,IAAK,CAAE,IAAIu3B,EAAa/rB,EAAMxL,GAAIu3B,EAAW3nB,WAAa2nB,EAAW3nB,aAAc,EAAO2nB,EAAW1nB,cAAe,EAAU,UAAW0nB,IAAYA,EAAWznB,UAAW,GAAMlD,OAAO6C,eAAe3C,EAAQyqB,EAAWhyB,IAAKgyB,EAAa,CAAE,CAAE,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAYx1B,UAAWy1B,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAa,CAAG,CAA7hB,GAEfG,EAAS,EAAQ,MAEjBC,EAAUC,EAAuBF,GAIjCG,EAAaD,EAFD,EAAQ,MAMpBE,EAAcF,EAFD,EAAQ,OAMrBG,EAAgBH,EAFD,EAAQ,OAMvBI,EAQJ,SAAiCtoB,GAAO,GAAIA,GAAOA,EAAI+lB,WAAc,OAAO/lB,EAAc,IAAIuoB,EAAS,CAAC,EAAG,GAAW,MAAPvoB,EAAe,IAAK,IAAIpK,KAAOoK,EAAW/C,OAAO5K,UAAU+K,eAAeC,KAAK2C,EAAKpK,KAAM2yB,EAAO3yB,GAAOoK,EAAIpK,IAAgC,OAAtB2yB,EAAOrC,QAAUlmB,EAAYuoB,CAAU,CARzPC,CAFC,EAAQ,OAIxBC,EAAmB,EAAQ,KAE3BC,EAAoBR,EAAuBO,GAE3CE,EAAyB,EAAQ,MAIrC,SAAST,EAAuBloB,GAAO,OAAOA,GAAOA,EAAI+lB,WAAa/lB,EAAM,CAAEkmB,QAASlmB,EAAO,CAI9F,SAAS4oB,EAA2BC,EAAMxrB,GAAQ,IAAKwrB,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAOzrB,GAAyB,iBAATA,GAAqC,mBAATA,EAA8BwrB,EAAPxrB,CAAa,CAI/O,IAAIoqB,EAAkBt2B,EAAQs2B,gBAAkB,mBAC5CD,EAAoBr2B,EAAQq2B,kBAAoB,yBAEhDuB,EAAYN,EAAiBr3B,gBAAiDkS,IAApC6kB,EAAWjC,QAAQ8C,aAE7DC,EAAoB,SAA2B5jB,GACjD,OAAO/T,SAASC,cAAc8T,EAChC,EAEI6jB,EAAkB,WACpB,OAAOH,EAAYZ,EAAWjC,QAAQ8C,aAAeb,EAAWjC,QAAQiD,mCAC1E,EAEA,SAASC,EAAiBC,GACxB,OAAOA,GACT,CAEA,IAAI3hB,EAAQ,SAAU4hB,GAGpB,SAAS5hB,IACP,IAAIxC,EAEAqkB,EAAOC,GA7Bf,SAAyBvnB,EAAU4lB,GAAe,KAAM5lB,aAAoB4lB,GAAgB,MAAM,IAAI14B,UAAU,oCAAwC,CA+BpJs6B,CAAgBnsB,KAAMoK,GAEtB,IAAK,IAAIjR,EAAOC,UAAUhH,OAAQg6B,EAAOz6B,MAAMwH,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC3E+yB,EAAK/yB,GAAQD,UAAUC,GAGzB,OAAe4yB,EAASC,EAAQZ,EAA2BtrB,MAAO4H,EAAOwC,EAAMiiB,WAAa1sB,OAAO2sB,eAAeliB,IAAQrK,KAAKxG,MAAMqO,EAAM,CAAC5H,MAAMxG,OAAO4yB,KAAiBF,EAAMK,aAAe,YAC5Ld,GAAaZ,EAAWjC,QAAQ4D,uBAAuBN,EAAMprB,MAC9D,IAAIib,EAAS+P,EAAiBI,EAAM3tB,MAAMwtB,gBACtChQ,GAAUA,EAAOhJ,SAASmZ,EAAMprB,MAClCib,EAAO0Q,YAAYP,EAAMprB,MAGzB1D,QAAQC,KAAK,iJAEjB,EAAG6uB,EAAMQ,UAAY,SAAU/vB,GAC7BuvB,EAAMS,OAAShwB,CACjB,EAAGuvB,EAAMU,aAAe,SAAUruB,GAChC,IACIouB,EADef,GACNF,CAAaQ,EAAOvB,EAAQ/B,QAAQ30B,cAAc82B,EAAcnC,QAASlpB,EAAS,CAAEmtB,cAAeziB,EAAMyiB,eAAiBtuB,IAAS2tB,EAAMprB,MACtJorB,EAAMQ,UAAUC,EAClB,EAAWrB,EAA2BY,EAAnCD,EACL,CAkGA,OAnJF,SAAmBa,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIl7B,UAAU,kEAAoEk7B,GAAeD,EAAS/3B,UAAY4K,OAAOqtB,OAAOD,GAAcA,EAAWh4B,UAAW,CAAEk4B,YAAa,CAAE7rB,MAAO0rB,EAAUnqB,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAemqB,IAAYptB,OAAOutB,eAAiBvtB,OAAOutB,eAAeJ,EAAUC,GAAcD,EAAST,UAAYU,EAAY,CAoB3eI,CAAU/iB,EAAO4hB,GA+BjB5B,EAAahgB,EAAO,CAAC,CACnB9R,IAAK,oBACL8I,MAAO,WACA+pB,EAAiBr3B,YAEjB23B,IACHzrB,KAAKc,KAAO6qB,EAAkB,QAEhC3rB,KAAKc,KAAKvL,UAAYyK,KAAKzB,MAAM4rB,gBAEpB2B,EAAiB9rB,KAAKzB,MAAMwtB,gBAClCqB,YAAYptB,KAAKc,OAEvB2qB,GAAazrB,KAAK4sB,aAAa5sB,KAAKzB,OACvC,GACC,CACDjG,IAAK,0BACL8I,MAAO,SAAiC5C,GAGtC,MAAO,CAAE6uB,WAFQvB,EAAiBttB,EAAUutB,gBAEXuB,WADhBxB,EAAiB9rB,KAAKzB,MAAMwtB,gBAE/C,GACC,CACDzzB,IAAK,qBACL8I,MAAO,SAA4B5C,EAAWhL,EAAG+5B,GAC/C,GAAKpC,EAAiBr3B,UAAtB,CACA,IAAI05B,EAASxtB,KAAKzB,MACdwL,EAASyjB,EAAOzjB,OAChBogB,EAAkBqD,EAAOrD,gBAGzB3rB,EAAU2rB,kBAAoBA,IAChCnqB,KAAKc,KAAKvL,UAAY40B,GAGxB,IAAIkD,EAAaE,EAASF,WACtBC,EAAaC,EAASD,WAEtBA,IAAeD,IACjBA,EAAWZ,YAAYzsB,KAAKc,MAC5BwsB,EAAWF,YAAYptB,KAAKc,QAIzBtC,EAAUuL,QAAWA,KAEzB0hB,GAAazrB,KAAK4sB,aAAa5sB,KAAKzB,MArBE,CAsBzC,GACC,CACDjG,IAAK,uBACL8I,MAAO,WACL,GAAK+pB,EAAiBr3B,WAAckM,KAAKc,MAASd,KAAK2sB,OAAvD,CAEA,IAAIxlB,EAAQnH,KAAK2sB,OAAOxlB,MACpBsmB,EAAMnnB,KAAKmnB,MACXC,EAAWvmB,EAAM4C,QAAU/J,KAAKzB,MAAMovB,iBAAmBxmB,EAAMumB,UAAYD,EAAMztB,KAAKzB,MAAMovB,gBAE5FD,GACGvmB,EAAMymB,aACT5tB,KAAK2sB,OAAOkB,mBAGd7xB,WAAWgE,KAAKusB,aAAcmB,EAAWD,IAEzCztB,KAAKusB,cAb8D,CAevE,GACC,CACDj0B,IAAK,SACL8I,MAAO,WACL,OAAK+pB,EAAiBr3B,WAAc23B,IAI/BzrB,KAAKc,MAAQ2qB,IAChBzrB,KAAKc,KAAO6qB,EAAkB,QAGbC,GACZF,CAAaf,EAAQ/B,QAAQ30B,cAAc82B,EAAcnC,QAASlpB,EAAS,CAChF/C,IAAKqD,KAAK0sB,UACVG,cAAeziB,EAAMyiB,eACpB7sB,KAAKzB,QAASyB,KAAKc,OAXb,IAYX,IACE,CAAC,CACHxI,IAAK,gBACL8I,MAAO,SAAuByC,GAC5BmnB,EAAa8C,WAAWjqB,EAC1B,KAQKuG,CACT,CAjIY,CAiIVsgB,EAAO/1B,WAETyV,EAAM5R,UAAY,CAChBuR,OAAQ+gB,EAAYlC,QAAQmF,KAAKt1B,WACjCjD,MAAOs1B,EAAYlC,QAAQoF,MAAM,CAC/BzjB,QAASugB,EAAYlC,QAAQqF,OAC7B5jB,QAASygB,EAAYlC,QAAQqF,SAE/B9D,gBAAiBW,EAAYlC,QAAQp2B,OACrC03B,kBAAmBY,EAAYlC,QAAQp2B,OACvC07B,kBAAmBpD,EAAYlC,QAAQp2B,OACvC+C,UAAWu1B,EAAYlC,QAAQuF,UAAU,CAACrD,EAAYlC,QAAQp2B,OAAQs4B,EAAYlC,QAAQoF,MAAM,CAC9FI,KAAMtD,EAAYlC,QAAQp2B,OAAOiG,WACjC41B,UAAWvD,EAAYlC,QAAQp2B,OAAOiG,WACtCm1B,YAAa9C,EAAYlC,QAAQp2B,OAAOiG,eAE1C61B,iBAAkBxD,EAAYlC,QAAQuF,UAAU,CAACrD,EAAYlC,QAAQp2B,OAAQs4B,EAAYlC,QAAQoF,MAAM,CACrGI,KAAMtD,EAAYlC,QAAQp2B,OAAOiG,WACjC41B,UAAWvD,EAAYlC,QAAQp2B,OAAOiG,WACtCm1B,YAAa9C,EAAYlC,QAAQp2B,OAAOiG,eAE1C81B,WAAYzD,EAAYlC,QAAQuF,UAAU,CAACrD,EAAYlC,QAAQ4F,WAAWpD,EAAkBxC,SAAUkC,EAAYlC,QAAQ4F,WAAWrD,EAAiBsD,oBAAqB3D,EAAYlC,QAAQ4F,WAAWrD,EAAiBuD,cAAe5D,EAAYlC,QAAQ+F,QAAQ7D,EAAYlC,QAAQ4F,WAAWpD,EAAkBxC,YACvTgG,YAAa9D,EAAYlC,QAAQiG,KACjCpkB,eAAgBqgB,EAAYlC,QAAQiG,KACpClB,eAAgB7C,EAAYlC,QAAQkG,OACpCC,YAAajE,EAAYlC,QAAQmF,KACjCiB,uBAAwBlE,EAAYlC,QAAQmF,KAC5CkB,0BAA2BnE,EAAYlC,QAAQmF,KAC/CmB,4BAA6BpE,EAAYlC,QAAQmF,KACjDoB,cAAerE,EAAYlC,QAAQmF,KACnChC,eAAgBjB,EAAYlC,QAAQiG,KACpCO,KAAMtE,EAAYlC,QAAQqF,OAC1B/vB,KAAM4sB,EAAYlC,QAAQqF,OAC1B52B,KAAMyzB,EAAYlC,QAAQp2B,OAC1B68B,aAAcvE,EAAYlC,QAAQp2B,OAClC88B,iBAAkBxE,EAAYlC,QAAQmF,KACtCwB,WAAYzE,EAAYlC,QAAQiG,KAChCW,WAAY1E,EAAYlC,QAAQiG,KAChCzuB,GAAI0qB,EAAYlC,QAAQp2B,OACxBi9B,eAAgB3E,EAAYlC,QAAQiG,KACpCa,eAAgB5E,EAAYlC,QAAQiG,MAEtCzkB,EAAMulB,aAAe,CACnB5lB,QAAQ,EACRogB,gBAAiBA,EACjBD,kBAAmBA,EACnB7yB,KAAM,SACN03B,aAAa,EACbpB,eAAgB,EAChBqB,wBAAwB,EACxBM,kBAAkB,EAClBL,2BAA2B,EAC3BC,6BAA6B,EAC7BC,eAAe,EACfpD,eAAgB,WACd,OAAO/3B,SAAS6qB,IAClB,EACA4Q,eAAgB,SAAwBlxB,EAAOqxB,GAC7C,OAAOjF,EAAQ/B,QAAQ30B,cACrB,MACAsK,EACAqxB,EAEJ,EACAF,eAAgB,SAAwBnxB,EAAO/G,GAC7C,OAAOmzB,EAAQ/B,QAAQ30B,cACrB,MACAsK,EACA/G,EAEJ,GAEF4S,EAAMyiB,cAAgB,CACpBxiB,QAAS,CACPjU,SAAU,QACVC,IAAK,EACLC,KAAM,EACNE,MAAO,EACPD,OAAQ,EACRJ,gBAAiB,6BAEnBoU,QAAS,CACPnU,SAAU,WACVC,IAAK,OACLC,KAAM,OACNE,MAAO,OACPD,OAAQ,OACRs5B,OAAQ,iBACRC,WAAY,OACZC,SAAU,OACVC,wBAAyB,QACzBC,aAAc,MACdC,QAAS,OACT3hB,QAAS,UAKb,EAAI8c,EAAuB32B,UAAU0V,GAQrCvW,EAAA,QAAkBuW,qCCzSlBzK,OAAO6C,eAAe3O,EAAS,aAAc,CAC3CuN,OAAO,IAGT,IAAI1B,EAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAI9M,EAAI,EAAGA,EAAIqG,UAAUhH,OAAQW,IAAK,CAAE,IAAI1B,EAAS+H,UAAUrG,GAAI,IAAK,IAAIuF,KAAOjH,EAAcsO,OAAO5K,UAAU+K,eAAeC,KAAK1O,EAAQiH,KAAQuH,EAAOvH,GAAOjH,EAAOiH,GAAU,CAAE,OAAOuH,CAAQ,EAE3PswB,EAA4B,mBAAXC,QAAoD,iBAApBA,OAAOC,SAAwB,SAAU3tB,GAAO,cAAcA,CAAK,EAAI,SAAUA,GAAO,OAAOA,GAAyB,mBAAX0tB,QAAyB1tB,EAAIuqB,cAAgBmD,QAAU1tB,IAAQ0tB,OAAOr7B,UAAY,gBAAkB2N,CAAK,EAEvQ0nB,EAAe,WAAc,SAASC,EAAiBxqB,EAAQtB,GAAS,IAAK,IAAIxL,EAAI,EAAGA,EAAIwL,EAAMnM,OAAQW,IAAK,CAAE,IAAIu3B,EAAa/rB,EAAMxL,GAAIu3B,EAAW3nB,WAAa2nB,EAAW3nB,aAAc,EAAO2nB,EAAW1nB,cAAe,EAAU,UAAW0nB,IAAYA,EAAWznB,UAAW,GAAMlD,OAAO6C,eAAe3C,EAAQyqB,EAAWhyB,IAAKgyB,EAAa,CAAE,CAAE,OAAO,SAAUC,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYH,EAAiBE,EAAYx1B,UAAWy1B,GAAiBC,GAAaJ,EAAiBE,EAAaE,GAAqBF,CAAa,CAAG,CAA7hB,GAEfG,EAAS,EAAQ,MAIjBI,EAAcF,EAFD,EAAQ,OAMrB0F,EAAepF,EAFC,EAAQ,OAMxBqF,EAAa3F,EAFD,EAAQ,OAMpBI,EAAeE,EAFC,EAAQ,OAMxBsF,EAAYtF,EAFC,EAAQ,OAIrBC,EAAmB,EAAQ,KAE3BC,EAAoBR,EAAuBO,GAI3CsF,EAAwB7F,EAFD,EAAQ,OAMnC,SAASM,EAAwBxoB,GAAO,GAAIA,GAAOA,EAAI+lB,WAAc,OAAO/lB,EAAc,IAAIuoB,EAAS,CAAC,EAAG,GAAW,MAAPvoB,EAAe,IAAK,IAAIpK,KAAOoK,EAAW/C,OAAO5K,UAAU+K,eAAeC,KAAK2C,EAAKpK,KAAM2yB,EAAO3yB,GAAOoK,EAAIpK,IAAgC,OAAtB2yB,EAAOrC,QAAUlmB,EAAYuoB,CAAU,CAE5Q,SAASL,EAAuBloB,GAAO,OAAOA,GAAOA,EAAI+lB,WAAa/lB,EAAM,CAAEkmB,QAASlmB,EAAO,CAJ9F,EAAQ,MAaR,IAAIguB,EAAc,CAChBrmB,QAAS,sBACTE,QAAS,uBAePomB,EAAsB,EAEtBC,EAAc,SAAU5E,GAG1B,SAAS4E,EAAYryB,IA7BvB,SAAyBoG,EAAU4lB,GAAe,KAAM5lB,aAAoB4lB,GAAgB,MAAM,IAAI14B,UAAU,oCAAwC,CA8BpJs6B,CAAgBnsB,KAAM4wB,GAEtB,IAAI1E,EA9BR,SAAoCX,EAAMxrB,GAAQ,IAAKwrB,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAOzrB,GAAyB,iBAATA,GAAqC,mBAATA,EAA8BwrB,EAAPxrB,CAAa,CA8B/NurB,CAA2BtrB,MAAO4wB,EAAYvE,WAAa1sB,OAAO2sB,eAAesE,IAAc7wB,KAAKC,KAAMzB,IAqMtH,OAnMA2tB,EAAM2E,cAAgB,SAAUxmB,GAC9B6hB,EAAM7hB,QAAUA,EAChB6hB,EAAM3tB,MAAMgxB,YAAcrD,EAAM3tB,MAAMgxB,WAAWllB,EACnD,EAEA6hB,EAAM4E,cAAgB,SAAUvmB,GAC9B2hB,EAAM3hB,QAAUA,EAChB2hB,EAAM3tB,MAAMixB,YAActD,EAAM3tB,MAAMixB,WAAWjlB,EACnD,EAEA2hB,EAAM6E,WAAa,WACjB,IAAIC,EAAc9E,EAAM3tB,MACpBgwB,EAAayC,EAAYzC,WACzBQ,EAAciC,EAAYjC,YAC1Bb,EAAoB8C,EAAY9C,kBAChChE,EAAoB8G,EAAY9G,kBAChC6B,EAAiBiF,EAAYjF,eAG7BkF,EAAiBlF,GAAkBA,IAAiBmF,eAAiBl9B,SAGzEk2B,GAAqBsG,EAAUtvB,OAAO+vB,EAAepS,KAAMqL,GAE3DgE,GAAqBsC,EAAUtvB,OAAO+vB,EAAeE,qBAAqB,QAAQ,GAAIjD,GAGlFa,GAAe4B,EAAsB,GAGX,KAF5BA,GAAuB,IAGrB3F,EAAaoG,KAAK7C,GAIlBrC,EAAM3tB,MAAMywB,yBACV9C,EAAM3tB,MAAM2wB,6BACdoB,EAAae,YAAYnF,EAAM3tB,MAAM4wB,eACrCmB,EAAagB,uBAEbhB,EAAaiB,mBAIbrF,EAAM3tB,MAAMizB,cACdtF,EAAM3tB,MAAMizB,eAGdf,EAAsB7H,QAAQ6I,WAAWvF,EAC3C,EAEAA,EAAMwF,KAAO,WACXxF,EAAMyF,aACFzF,EAAM/kB,MAAMknB,WAAanC,EAAM/kB,MAAMymB,aACvCrR,aAAa2P,EAAM0F,YACnB1F,EAAM9kB,SAAS,CAAEwmB,aAAa,MAE1B1B,EAAM3tB,MAAMywB,yBACdsB,EAAauB,iBAAiB3F,EAAMprB,MACpCwvB,EAAawB,qBAGf5F,EAAM9kB,SAAS,CAAE2C,QAAQ,IAAQ,WAC/BmiB,EAAM6F,mBAAqBt1B,uBAAsB,WAC/CyvB,EAAM9kB,SAAS,CAAEinB,WAAW,IAExBnC,EAAM3tB,MAAMwL,QAAUmiB,EAAM3tB,MAAMqwB,aACpC1C,EAAM3tB,MAAMqwB,YAAY,CACtBoD,UAAW9F,EAAM7hB,QACjBulB,UAAW1D,EAAM3hB,SAGvB,GACF,IAEJ,EAEA2hB,EAAM+F,MAAQ,WACR/F,EAAM3tB,MAAMovB,eAAiB,EAC/BzB,EAAM2B,mBAEN3B,EAAMgG,qBAEV,EAEAhG,EAAMiG,aAAe,WACnB,OAAOjG,EAAM3hB,UAAY2hB,EAAMkG,mBAAqBlG,EAAM3hB,QAAQuQ,MAAM,CAAEqU,eAAe,GAC3F,EAEAjD,EAAM2B,iBAAmB,WACvB,IAAIH,EAAWpnB,KAAKmnB,MAAQvB,EAAM3tB,MAAMovB,eACxCzB,EAAM9kB,SAAS,CAAEwmB,aAAa,EAAMF,SAAUA,IAAY,WACxDxB,EAAM0F,WAAa51B,WAAWkwB,EAAMgG,oBAAqBhG,EAAM/kB,MAAMumB,SAAWpnB,KAAKmnB,MACvF,GACF,EAEAvB,EAAMgG,oBAAsB,WAC1BhG,EAAM9kB,SAAS,CACbwmB,aAAa,EACb7jB,QAAQ,EACRskB,WAAW,EACXX,SAAU,MACTxB,EAAM6E,WACX,EAEA7E,EAAMmG,cAAgB,SAAUC,IA1HrB,SAAkBA,GAC/B,MAAsB,QAAfA,EAAMC,MAAoC,IAAlBD,EAAM1X,OACvC,EAyHU4X,CAASF,KACX,EAAI/B,EAAW3H,SAASsD,EAAM3hB,QAAS+nB,GAGrCpG,EAAM3tB,MAAM+wB,kBA5HP,SAAkBgD,GAC/B,MAAsB,WAAfA,EAAMC,MAAuC,KAAlBD,EAAM1X,OAC1C,CA0H0C6X,CAASH,KAC3CA,EAAMI,kBACNxG,EAAMyG,aAAaL,GAEvB,EAEApG,EAAM0G,qBAAuB,SAAUN,GACX,OAAtBpG,EAAM2G,cACR3G,EAAM2G,aAAc,GAGlB3G,EAAM2G,aAAe3G,EAAM3tB,MAAM0wB,4BAC/B/C,EAAM4G,oBACR5G,EAAMyG,aAAaL,GAEnBpG,EAAMiG,gBAGVjG,EAAM2G,YAAc,IACtB,EAEA3G,EAAM6G,uBAAyB,WAC7B7G,EAAM2G,aAAc,CACtB,EAEA3G,EAAM8G,yBAA2B,SAAUV,GACpCpG,EAAM3tB,MAAM0wB,2BAA6BqD,EAAMzyB,QAAUqsB,EAAM7hB,SAClEioB,EAAMW,gBAEV,EAEA/G,EAAMgH,qBAAuB,WAC3BhH,EAAM2G,aAAc,CACtB,EAEA3G,EAAMiH,yBAA2B,WAC/BjH,EAAM2G,aAAc,CACtB,EAEA3G,EAAMyG,aAAe,SAAUL,GAC7B,OAAOpG,EAAM4G,qBAAuB5G,EAAM3tB,MAAMkM,eAAe6nB,EACjE,EAEApG,EAAM4G,kBAAoB,WACxB,OAAO5G,EAAM3tB,MAAMkM,cACrB,EAEAyhB,EAAMkH,eAAiB,WACrB,OAAQlH,EAAM/kB,MAAM4C,SAAWmiB,EAAM/kB,MAAMymB,WAC7C,EAEA1B,EAAMkG,gBAAkB,WACtB,OAAOp+B,SAASq/B,gBAAkBnH,EAAM3hB,SAAW2hB,EAAM3hB,QAAQwI,SAAS/e,SAASq/B,cACrF,EAEAnH,EAAMoH,eAAiB,SAAUC,EAAOC,GACtC,IAAIC,EAAyF,iBAArD,IAAfD,EAA6B,YAAcrD,EAAQqD,IAA4BA,EAAa,CACnHpF,KAAMsC,EAAY6C,GAClBlF,UAAWqC,EAAY6C,GAAS,eAChC3F,YAAa8C,EAAY6C,GAAS,kBAEhCh+B,EAAYk+B,EAAWrF,KAO3B,OANIlC,EAAM/kB,MAAMknB,YACd94B,EAAYA,EAAY,IAAMk+B,EAAWpF,WAEvCnC,EAAM/kB,MAAMymB,cACdr4B,EAAYA,EAAY,IAAMk+B,EAAW7F,aAEd,iBAAf4F,GAA2BA,EAAaj+B,EAAY,IAAMi+B,EAAaj+B,CACvF,EAEA22B,EAAMwH,qBAAuB,SAAUC,EAAQC,GAC7C,OAAOj0B,OAAO2D,KAAKswB,GAAOC,QAAO,SAAUC,EAAK/rB,GAE9C,OADA+rB,EAAIH,EAAS,IAAM5rB,GAAQ6rB,EAAM7rB,GAC1B+rB,CACT,GAAG,CAAC,EACN,EAEA5H,EAAM/kB,MAAQ,CACZknB,WAAW,EACXT,aAAa,GAGf1B,EAAM2G,YAAc,KACpB3G,EAAM6H,yBAA2B,KAC1B7H,CACT,CAqHA,OAvVF,SAAmBY,EAAUC,GAAc,GAA0B,mBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAIl7B,UAAU,kEAAoEk7B,GAAeD,EAAS/3B,UAAY4K,OAAOqtB,OAAOD,GAAcA,EAAWh4B,UAAW,CAAEk4B,YAAa,CAAE7rB,MAAO0rB,EAAUnqB,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAemqB,IAAYptB,OAAOutB,eAAiBvtB,OAAOutB,eAAeJ,EAAUC,GAAcD,EAAST,UAAYU,EAAY,CAuB3eI,CAAUyD,EAAa5E,GA6MvB5B,EAAawG,EAAa,CAAC,CACzBt4B,IAAK,oBACL8I,MAAO,WACDpB,KAAKzB,MAAMwL,QACb/J,KAAK0xB,MAET,GACC,CACDp5B,IAAK,qBACL8I,MAAO,SAA4B5C,EAAWw1B,GAYxCh0B,KAAKzB,MAAMwL,SAAWvL,EAAUuL,OAClC/J,KAAK0xB,QACK1xB,KAAKzB,MAAMwL,QAAUvL,EAAUuL,QACzC/J,KAAKiyB,QAIHjyB,KAAKzB,MAAMywB,wBAA0BhvB,KAAKmH,MAAM4C,SAAWiqB,EAAUjqB,QACvE/J,KAAKmyB,cAET,GACC,CACD75B,IAAK,uBACL8I,MAAO,WACDpB,KAAKmH,MAAM4C,QACb/J,KAAK+wB,aAEPxU,aAAavc,KAAK4xB,YAClBl1B,qBAAqBsD,KAAK+xB,mBAC5B,GACC,CACDz5B,IAAK,aACL8I,MAAO,WACL,IAAIosB,EAASxtB,KAAKzB,MACdgwB,EAAaf,EAAOe,WACpBQ,EAAcvB,EAAOuB,YACrBb,EAAoBV,EAAOU,kBAC3BhE,EAAoBsD,EAAOtD,kBAC3B6B,EAAiByB,EAAOzB,eAGxBkF,EAAiBlF,GAAkBA,IAAiBmF,eAAiBl9B,SAGzEk2B,GAAqBsG,EAAUr0B,IAAI80B,EAAepS,KAAMqL,GAExDgE,GAAqBsC,EAAUr0B,IAAI80B,EAAeE,qBAAqB,QAAQ,GAAIjD,GAE/Ea,IACF4B,GAAuB,EACvB3F,EAAaiJ,KAAK1F,IAGpBkC,EAAsB7H,QAAQsL,SAASl0B,KACzC,GAIC,CACD1H,IAAK,SACL8I,MAAO,WACL,IAAI+yB,EAAUn0B,KAAKzB,MACf6B,EAAK+zB,EAAQ/zB,GACb7K,EAAY4+B,EAAQ5+B,UACpB+4B,EAAmB6F,EAAQ7F,iBAC3BzB,EAAgBsH,EAAQtH,cACxBr1B,EAAW28B,EAAQ38B,SAEnB48B,EAAgB7+B,EAAY,CAAC,EAAIs3B,EAActiB,QAC/C8pB,EAAgB/F,EAAmB,CAAC,EAAIzB,EAAcxiB,QAE1D,GAAIrK,KAAKozB,iBACP,OAAO,KAGT,IAAIkB,EAAe,CACjB33B,IAAKqD,KAAK6wB,cACVt7B,UAAWyK,KAAKszB,eAAe,UAAWhF,GAC1C94B,MAAOkK,EAAS,CAAC,EAAG20B,EAAer0B,KAAKzB,MAAM/I,MAAM6U,SACpDqC,QAAS1M,KAAK4yB,qBACd2B,YAAav0B,KAAKgzB,0BAGhBwB,EAAe90B,EAAS,CAC1BU,GAAIA,EACJzD,IAAKqD,KAAK8wB,cACVt7B,MAAOkK,EAAS,CAAC,EAAG00B,EAAep0B,KAAKzB,MAAM/I,MAAM+U,SACpDhV,UAAWyK,KAAKszB,eAAe,UAAW/9B,GAC1Ck/B,SAAU,KACVC,UAAW10B,KAAKqyB,cAChBkC,YAAav0B,KAAKmzB,yBAClBwB,UAAW30B,KAAK+yB,uBAChBrmB,QAAS1M,KAAKkzB,qBACd77B,KAAM2I,KAAKzB,MAAMlH,KACjB,aAAc2I,KAAKzB,MAAM8wB,cACxBrvB,KAAK0zB,qBAAqB,OAAQh0B,EAAS,CAAEk1B,OAAO,GAAQ50B,KAAKzB,MAAM6wB,OAAQpvB,KAAK0zB,qBAAqB,OAAQ1zB,KAAKzB,MAAML,MAAQ,CAAC,GAAI,CAC1I,cAAe8B,KAAKzB,MAAMs2B,SAGxBnF,EAAiB1vB,KAAKzB,MAAMmxB,eAAe8E,EAAch9B,GAC7D,OAAOwI,KAAKzB,MAAMkxB,eAAe6E,EAAc5E,EACjD,KAGKkB,CACT,CAlUkB,CAkUhBlG,EAAO/1B,WAETi8B,EAAYjB,aAAe,CACzBn6B,MAAO,CACL6U,QAAS,CAAC,EACVE,QAAS,CAAC,GAEZsiB,cAAe,CAAC,GAElB+D,EAAYp4B,UAAY,CACtBuR,OAAQ+gB,EAAYlC,QAAQmF,KAAKt1B,WACjCo0B,cAAe/B,EAAYlC,QAAQoF,MAAM,CACvCzjB,QAASugB,EAAYlC,QAAQqF,OAC7B5jB,QAASygB,EAAYlC,QAAQqF,SAE/Bz4B,MAAOs1B,EAAYlC,QAAQoF,MAAM,CAC/BzjB,QAASugB,EAAYlC,QAAQqF,OAC7B5jB,QAASygB,EAAYlC,QAAQqF,SAE/B14B,UAAWu1B,EAAYlC,QAAQuF,UAAU,CAACrD,EAAYlC,QAAQp2B,OAAQs4B,EAAYlC,QAAQqF,SAC1FK,iBAAkBxD,EAAYlC,QAAQuF,UAAU,CAACrD,EAAYlC,QAAQp2B,OAAQs4B,EAAYlC,QAAQqF,SACjGlC,eAAgBjB,EAAYlC,QAAQiG,KACpC3E,kBAAmBY,EAAYlC,QAAQp2B,OACvC07B,kBAAmBpD,EAAYlC,QAAQp2B,OACvCu8B,YAAajE,EAAYlC,QAAQmF,KACjCQ,WAAYzD,EAAYlC,QAAQuF,UAAU,CAACrD,EAAYlC,QAAQ4F,WAAWpD,EAAkBxC,SAAUkC,EAAYlC,QAAQ4F,WAAWrD,EAAiBsD,oBAAqB3D,EAAYlC,QAAQ4F,WAAWrD,EAAiBuD,cAAe5D,EAAYlC,QAAQ+F,QAAQ7D,EAAYlC,QAAQ4F,WAAWpD,EAAkBxC,YACvTgG,YAAa9D,EAAYlC,QAAQiG,KACjC2C,aAAc1G,EAAYlC,QAAQiG,KAClCpkB,eAAgBqgB,EAAYlC,QAAQiG,KACpClB,eAAgB7C,EAAYlC,QAAQkG,OACpCE,uBAAwBlE,EAAYlC,QAAQmF,KAC5CkB,0BAA2BnE,EAAYlC,QAAQmF,KAC/CmB,4BAA6BpE,EAAYlC,QAAQmF,KACjDoB,cAAerE,EAAYlC,QAAQmF,KACnC12B,KAAMyzB,EAAYlC,QAAQp2B,OAC1B68B,aAAcvE,EAAYlC,QAAQp2B,OAClC48B,KAAMtE,EAAYlC,QAAQqF,OAC1B/vB,KAAM4sB,EAAYlC,QAAQqF,OAC1Bz2B,SAAUszB,EAAYlC,QAAQ9nB,KAC9BwuB,iBAAkBxE,EAAYlC,QAAQmF,KACtCwB,WAAYzE,EAAYlC,QAAQiG,KAChCW,WAAY1E,EAAYlC,QAAQiG,KAChCzuB,GAAI0qB,EAAYlC,QAAQp2B,OACxBi9B,eAAgB3E,EAAYlC,QAAQiG,KACpCa,eAAgB5E,EAAYlC,QAAQiG,KACpCgG,OAAQ/J,EAAYlC,QAAQp2B,QAE9BqB,EAAA,QAAkB+8B,EAClBh9B,EAAOC,QAAUA,EAAiB,2CC1blC8L,OAAO6C,eAAe3O,EAAS,aAAc,CAC3CuN,OAAO,IAETvN,EAAQihC,WAqBR,WACMC,IACEA,EAAc94B,gBAChB84B,EAAc94B,gBAAgB,eACG,MAAxB84B,EAAc3iC,OACvB2iC,EAAcjwB,SAAQ,SAAUjB,GAC9B,OAAOA,EAAQ5H,gBAAgB,cACjC,IAEAjI,SAASghC,iBAAiBD,GAAejwB,SAAQ,SAAUjB,GACzD,OAAOA,EAAQ5H,gBAAgB,cACjC,KAGJ84B,EAAgB,IAClB,EAnCAlhC,EAAQohC,IAsCR,WACM,CAMN,EA5CAphC,EAAQqhC,eAAiBA,EACzBrhC,EAAQi6B,WAoDR,SAAoBjqB,GAClB,IAAIsxB,EAAatxB,EACjB,GAA0B,iBAAfsxB,GAA2BhK,EAAiBr3B,UAAW,CAChE,IAAIgmB,EAAK9lB,SAASghC,iBAAiBG,GACnCD,EAAepb,EAAIqb,GACnBA,EAAarb,CACf,CAEA,OADAib,EAAgBI,GAAcJ,CAEhC,EA5DAlhC,EAAQuhC,gBAAkBA,EAC1BvhC,EAAQogC,KAwER,SAAc1F,GACZ,IAAI8G,GAA4B,EAC5BC,GAAoB,EACpBC,OAAiBvvB,EAErB,IACE,IAAK,IAAgEwvB,EAA5DC,EAAYL,EAAgB7G,GAAY6B,OAAOC,cAAsBgF,GAA6BG,EAAQC,EAAUC,QAAQC,MAAON,GAA4B,EAAM,CACnKG,EAAMp0B,MAEZw0B,aAAa,cAAe,OACjC,CACF,CAAE,MAAOC,GACPP,GAAoB,EACpBC,EAAiBM,CACnB,CAAE,QACA,KACOR,GAA6BI,EAAUK,QAC1CL,EAAUK,QAEd,CAAE,QACA,GAAIR,EACF,MAAMC,CAEV,CACF,CACF,EAhGA1hC,EAAQu9B,KAkGR,SAAc7C,GACZ,IAAIwH,GAA6B,EAC7BC,GAAqB,EACrBC,OAAkBjwB,EAEtB,IACE,IAAK,IAAiEkwB,EAA7DC,EAAaf,EAAgB7G,GAAY6B,OAAOC,cAAuB0F,GAA8BG,EAASC,EAAWT,QAAQC,MAAOI,GAA6B,EAAM,CACzKG,EAAO90B,MAEbnF,gBAAgB,cACrB,CACF,CAAE,MAAO45B,GACPG,GAAqB,EACrBC,EAAkBJ,CACpB,CAAE,QACA,KACOE,GAA8BI,EAAWL,QAC5CK,EAAWL,QAEf,CAAE,QACA,GAAIE,EACF,MAAMC,CAEV,CACF,CACF,EA1HApiC,EAAQuiC,6BA4HR,WACErB,EAAgB,IAClB,EA5HA,IAMgCryB,EAN5B2zB,EAAW,EAAQ,MAEnBC,GAI4B5zB,EAJO2zB,IAIc3zB,EAAI+lB,WAAa/lB,EAAM,CAAEkmB,QAASlmB,GAFnFyoB,EAAmB,EAAQ,KAI/B,IAAI4J,EAAgB,KAgCpB,SAASG,EAAeqB,EAAUC,GAChC,IAAKD,IAAaA,EAASnkC,OACzB,MAAM,IAAIyG,MAAM,oDAAsD29B,EAAW,IAErF,CAaA,SAASpB,EAAgB7G,GACvB,IAAIzU,EAAKyU,GAAcwG,EACvB,OAAIjb,EACKnoB,MAAMC,QAAQkoB,IAAOA,aAAc2c,gBAAkB3c,aAAc4c,SAAW5c,EAAK,CAACA,KAE3F,EAAIwc,EAAU1N,UAAS,EAAO,CAAC,2CAA4C,iEAAkE,0DAA2D,mEAAoE,qCAAqCv2B,KAAK,MAE/S,GAEX,qCC9EAsN,OAAO6C,eAAe3O,EAAS,aAAc,CAC3CuN,OAAO,IAETvN,EAAQihC,WAiBR,WAGE,IAFA,IAAI6B,EAAO,CAACC,EAAQC,GAEXC,EAAK,EAAGA,EAAKH,EAAKvkC,OAAQ0kC,IAAM,CACvC,IAAIC,EAAOJ,EAAKG,GACXC,IACLA,EAAK/c,YAAc+c,EAAK/c,WAAWyS,YAAYsK,GACjD,CACAH,EAASC,EAAQ,KACjBG,EAAY,EACd,EA1BAnjC,EAAQohC,IA6BR,WACE73B,QAAQ63B,IAAI,uBACZ73B,QAAQ63B,IAAI+B,EAAU5kC,QAEtB,IADA,IAAI6kC,EAAQ,CAACL,EAAQC,GACZK,EAAM,EAAGA,EAAMD,EAAM7kC,OAAQ8kC,IAAO,CAC3C,IACIC,EADOF,EAAMC,IACG,CAAC,EACrB95B,QAAQ63B,IAAIkC,EAAMC,SAAUD,EAAM5hC,UAAW4hC,EAAM/2B,GACrD,CACAhD,QAAQ63B,IAAI,0BACd,EArCA,IAIgCvyB,EAJ5B20B,EAAuB,EAAQ,MAE/B5G,GAE4B/tB,EAFmB20B,IAEE30B,EAAI+lB,WAAa/lB,EAAM,CAAEkmB,QAASlmB,GAIvF,IAAIk0B,OAAS,EACTC,OAAQ,EACRG,EAAY,GA8BhB,SAAS7E,IACkB,IAArB6E,EAAU5kC,QAOd4kC,EAAUA,EAAU5kC,OAAS,GAAG+/B,cAClC,CAmCA1B,EAAsB7H,QAAQ0O,WAjC9B,SAAkBC,EAAWC,GACtBZ,GAAWC,KACdD,EAAS5iC,SAASC,cAAc,QACzB2hC,aAAa,6BAA8B,IAClDgB,EAAOphC,MAAMY,SAAW,WACxBwgC,EAAOphC,MAAMK,QAAU,IACvB+gC,EAAOhB,aAAa,WAAY,KAChCgB,EAAOtiC,iBAAiB,QAAS69B,IACjC0E,EAAQD,EAAOa,aACTnjC,iBAAiB,QAAS69B,KAGlC6E,EAAYQ,GAEEplC,OAAS,GAEjB4B,SAAS6qB,KAAK6Y,aAAed,GAC/B5iC,SAAS6qB,KAAK8Y,aAAaf,EAAQ5iC,SAAS6qB,KAAK6Y,YAE/C1jC,SAAS6qB,KAAK+Y,YAAcf,GAC9B7iC,SAAS6qB,KAAKuO,YAAYyJ,KAIxBD,EAAOiB,eACTjB,EAAOiB,cAAcpL,YAAYmK,GAE/BC,EAAMgB,eACRhB,EAAMgB,cAAcpL,YAAYoK,GAGtC,qCCxFAl3B,OAAO6C,eAAe3O,EAAS,aAAc,CAC3CuN,OAAO,IAETvN,EAAQihC,WAYR,WACE,IAAIgD,EAAc9jC,SAASm9B,qBAAqB,QAAQ,GACxD,IAAK,IAAI4G,KAAOC,EACdC,EAAYH,EAAaE,EAAcD,IAGzC,IAAIlZ,EAAO7qB,SAAS6qB,KACpB,IAAK,IAAIqZ,KAAQC,EACfF,EAAYpZ,EAAMsZ,EAAiBD,IAGrCF,EAAgB,CAAC,EACjBG,EAAmB,CAAC,CACtB,EAxBAtkC,EAAQohC,IA2BR,WACM,CAoBN,EA/CA,IAAI+C,EAAgB,CAAC,EACjBG,EAAmB,CAAC,EAIxB,SAASF,EAAYG,EAAIL,GACvBK,EAAG5H,UAAUtvB,OAAO62B,EACtB,CAuGUlkC,EAAQsI,IAAM,SAAa0H,EAASw0B,GAC5C,OA5BmCC,EA4BjBz0B,EAAQ2sB,UA5BuB+H,EA4BsB,QAAlC10B,EAAQuzB,SAAS9kC,cAA0B0lC,EAAgBG,OAAkBE,EAAYjwB,MAAM,KA3B5HtD,SAAQ,SAAUvP,IA5BH,SAA4BgjC,EAAMhjC,GACpDgjC,EAAKhjC,KACRgjC,EAAKhjC,GAAa,GAEpBgjC,EAAKhjC,IAAc,CAErB,CAuBIijC,CAAmBD,EAAMhjC,GACzB+iC,EAAan8B,IAAI5G,EACnB,IAJe,IAAoB+iC,EAAcC,CA6BnD,EAQa1kC,EAAQqN,OAAS,SAAgB2C,EAASw0B,GACrD,OAxBuCC,EAwBnBz0B,EAAQ2sB,UAxByB+H,EAwBoB,QAAlC10B,EAAQuzB,SAAS9kC,cAA0B0lC,EAAgBG,OAAkBE,EAAYjwB,MAAM,KAvB9HtD,SAAQ,SAAUvP,IA5BH,SAA4BgjC,EAAMhjC,GACrDgjC,EAAKhjC,KACPgjC,EAAKhjC,IAAc,EAGvB,CAwBIkjC,CAAmBF,EAAMhjC,GACL,IAApBgjC,EAAKhjC,IAAoB+iC,EAAap3B,OAAO3L,EAC/C,IAJiB,IAAsB+iC,EAAcC,CAyBvD,qCC/HA54B,OAAO6C,eAAe3O,EAAS,aAAc,CAC3CuN,OAAO,IAETvN,EAAQihC,WAsBR,WACE4D,EAAqB,EACvB,EAvBA7kC,EAAQohC,IA0BR,WACM,CAQN,EAlCAphC,EAAQ8kC,WAAaA,EACrB9kC,EAAQ+kC,YAAcA,EACtB/kC,EAAQi+B,kBA4DR,WACE4G,EAAmBnzB,KAAKvR,SAASq/B,cACnC,EA7DAx/B,EAAQw9B,YAgER,WACE,IAAIlC,EAAgB/1B,UAAUhH,OAAS,QAAsB4T,IAAjB5M,UAAU,IAAmBA,UAAU,GAE/Ey/B,EAAU,KACd,IAKE,YAJkC,IAA9BH,EAAmBtmC,SACrBymC,EAAUH,EAAmBI,OACrBhe,MAAM,CAAEqU,cAAeA,IAGnC,CAAE,MAAOl6B,GACPmI,QAAQC,KAAK,CAAC,+BAAgCw7B,EAAS,oCAAoCxmC,KAAK,KAClG,CACF,EA5EAwB,EAAQ09B,gBA+ER,WACEmH,EAAmBtmC,OAAS,GAAKsmC,EAAmBI,KACtD,EAhFAjlC,EAAQg+B,iBAkFR,SAA0BhuB,GACxBk1B,EAAel1B,EAEX9P,OAAOO,kBACTP,OAAOO,iBAAiB,OAAQqkC,GAAY,GAC5C3kC,SAASM,iBAAiB,QAASskC,GAAa,KAEhD7kC,OAAOQ,YAAY,SAAUokC,GAC7B3kC,SAASO,YAAY,UAAWqkC,GAEpC,EA3FA/kC,EAAQy9B,oBA6FR,WACEyH,EAAe,KAEXhlC,OAAOO,kBACTP,OAAOmI,oBAAoB,OAAQy8B,GACnC3kC,SAASkI,oBAAoB,QAAS08B,KAEtC7kC,OAAOilC,YAAY,SAAUL,GAC7B3kC,SAASglC,YAAY,UAAWJ,GAEpC,EArGA,IAIgCl2B,EAJ5Bu2B,EAAY,EAAQ,MAEpBC,GAE4Bx2B,EAFQu2B,IAEav2B,EAAI+lB,WAAa/lB,EAAM,CAAEkmB,QAASlmB,GAEvF,IAAIg2B,EAAqB,GACrBK,EAAe,KACfI,GAAc,EAqBlB,SAASR,IACPQ,GAAc,CAChB,CAEA,SAASP,IACP,GAAIO,EAAa,CAEf,GADAA,GAAc,GACTJ,EACH,OAOF/8B,YAAW,WACL+8B,EAAahmB,SAAS/e,SAASq/B,kBAG1B,EAAI6F,EAAWtQ,SAASmQ,GAAc,IAAMA,GAClDje,OACL,GAAG,EACL,CACF,mCCjEAnb,OAAO6C,eAAe3O,EAAS,aAAc,CAC3CuN,OAAO,IAETvN,EAAQohC,IAyDR,WACE73B,QAAQ63B,IAAI,kCACZ73B,QAAQ63B,IAAImE,EAAoB5B,cAAcplC,QAC9CgnC,EAAoB5B,cAAc1yB,SAAQ,SAAUxK,GAClD,OAAO8C,QAAQ63B,IAAI36B,EACrB,IACA8C,QAAQ63B,IAAI,qCACd,EA/DAphC,EAAQihC,WAkER,WACEsE,EAAsB,IAAIC,CAC5B,EA9DA,IAAIA,EAAsB,SAASA,IACjC,IAAInN,EAAQlsB,MALd,SAAyB2E,EAAU4lB,GAAe,KAAM5lB,aAAoB4lB,GAAgB,MAAM,IAAI14B,UAAU,oCAAwC,CAOtJs6B,CAAgBnsB,KAAMq5B,GAEtBr5B,KAAKk0B,SAAW,SAAUoF,IAC2B,IAA/CpN,EAAMsL,cAAc/xB,QAAQ6zB,KAOhCpN,EAAMsL,cAAcjyB,KAAK+zB,GACzBpN,EAAMqN,KAAK,YACb,EAEAv5B,KAAKyxB,WAAa,SAAU6H,GAC1B,IAAIE,EAAQtN,EAAMsL,cAAc/xB,QAAQ6zB,IACzB,IAAXE,IAOJtN,EAAMsL,cAAchyB,OAAOg0B,EAAO,GAClCtN,EAAMqN,KAAK,cACb,EAEAv5B,KAAKs3B,UAAY,SAAUxzB,GACzBooB,EAAMuN,YAAYl0B,KAAKzB,EACzB,EAEA9D,KAAKu5B,KAAO,SAAUhC,GACpBrL,EAAMuN,YAAY30B,SAAQ,SAAU40B,GAClC,OAAOA,EAAWnC,EAElBrL,EAAMsL,cAActkC,QACtB,GACF,EAEA8M,KAAKw3B,cAAgB,GACrBx3B,KAAKy5B,YAAc,EACrB,EAEIL,EAAsB,IAAIC,EAmB9BxlC,EAAA,QAAkBulC,oCC3ElBz5B,OAAO6C,eAAe3O,EAAS,aAAc,CAC3CuN,OAAO,IAETvN,EAAQC,UAAYD,EAAQ66B,aAAe76B,EAAQ46B,wBAAqBzoB,EAExE,IAIgCtD,EAJ5Bi3B,EAAS,EAAQ,KAMrB,IAAIC,IAF4Bl3B,EAFKi3B,IAEgBj3B,EAAI+lB,WAAa/lB,EAAM,CAAEkmB,QAASlmB,IAEtEkmB,QAEbiR,EAAkBD,EAAG9lC,UAAYC,OAAO+lC,YAAc,CAAC,EAElCjmC,EAAQ46B,mBAAqBmL,EAAG9lC,UAAYC,OAAO0iC,eAAiB,CAAC,EAE3E5iC,EAAQ66B,aAAekL,EAAG9lC,UAAYC,OAAO2iC,SAAW,CAAC,EAE5D7iC,EAAQC,UAAY8lC,EAAG9lC,UAEvCD,EAAA,QAAkBgmC,qCCrBlBl6B,OAAO6C,eAAe3O,EAAS,aAAc,CAC3CuN,OAAO,IAETvN,EAAA,QAcA,SAAkBiN,EAAMwxB,GACtB,IAAIyH,GAAW,EAAIb,EAAWtQ,SAAS9nB,GAEvC,IAAKi5B,EAAS3nC,OAGZ,YADAkgC,EAAMW,iBAIR,IAAIpzB,OAAS,EAETm6B,EAAW1H,EAAM0H,SACjBC,EAAOF,EAAS,GAChBG,EAAOH,EAASA,EAAS3nC,OAAS,GAClCihC,EAAgB8G,IAIpB,GAAIr5B,IAASuyB,EAAe,CAC1B,IAAK2G,EAAU,OACfn6B,EAASq6B,CACX,CAEIA,IAAS7G,GAAkB2G,IAC7Bn6B,EAASo6B,GAGPA,IAAS5G,GAAiB2G,IAC5Bn6B,EAASq6B,GAGX,GAAIr6B,EAGF,OAFAyyB,EAAMW,sBACNpzB,EAAOib,QAeT,IAAIsf,EAAc,4BAA4BC,KAAKC,UAAUC,WAK7D,GAJqC,MAAfH,GAAyC,UAAlBA,EAAY,IAAoE,MAAlD,qBAAqBC,KAAKC,UAAUC,WAIzF,OAEtB,IAAItoC,EAAI8nC,EAASt0B,QAAQ4tB,GAErBphC,GAAK,IACPA,GAAK+nC,GAAY,EAAI,GAOvB,QAAsB,KAJtBn6B,EAASk6B,EAAS9nC,IAQhB,OAHAqgC,EAAMW,sBACNpzB,EAASm6B,EAAWE,EAAOD,GACpBnf,QAITwX,EAAMW,iBAENpzB,EAAOib,OACT,EAvFA,IAIgCpY,EAJ5Bu2B,EAAY,EAAQ,MAEpBC,GAE4Bx2B,EAFQu2B,IAEav2B,EAAI+lB,WAAa/lB,EAAM,CAAEkmB,QAASlmB,GAEvF,SAASy3B,IACP,IAAIrgB,EAAK1gB,UAAUhH,OAAS,QAAsB4T,IAAjB5M,UAAU,GAAmBA,UAAU,GAAKpF,SAE7E,OAAO8lB,EAAGuZ,cAAcmH,WAAaL,EAAiBrgB,EAAGuZ,cAAcmH,YAAc1gB,EAAGuZ,aAC1F,CA8EAz/B,EAAOC,QAAUA,EAAiB,yCC7FlC8L,OAAO6C,eAAe3O,EAAS,aAAc,CAC3CuN,OAAO,IAETvN,EAAA,QAuEA,SAAS4mC,EAAwB52B,GAC/B,IAAI62B,EAAc,GAAGxnC,MAAM6M,KAAK8D,EAAQmxB,iBAAiB,KAAM,GAAGnB,QAAO,SAAU8G,EAAU7gB,GAC3F,OAAO6gB,EAASnhC,OAAQsgB,EAAG0gB,WAAoBC,EAAwB3gB,EAAG0gB,YAAlC,CAAC1gB,GAC3C,GAAG,IACH,OAAO4gB,EAAYvoC,OAAO4nC,EAC5B,EA/DA,IAAIa,EAAe,OACfC,EAAmB,WAGnBC,EAAe,iDAQnB,SAASC,EAAcl3B,GACrB,IAAIm3B,EAAWn3B,EAAQib,aAAe,GAAKjb,EAAQo3B,cAAgB,EAGnE,GAAID,IAAan3B,EAAQvH,UAAW,OAAO,EAE3C,IAEE,IAAI9G,EAAQzB,OAAOmnC,iBAAiBr3B,GAChCs3B,EAAe3lC,EAAM4lC,iBAAiB,WAC1C,OAAOJ,EAAWG,IAAiBN,GAhBvC,SAA0Bh3B,EAASrO,GACjC,MAA8C,YAAvCA,EAAM4lC,iBAAiB,aAE9Bv3B,EAAQw3B,aAAe,GAAKx3B,EAAQy3B,cAAgB,CACtD,CAY2DC,CAAiB13B,EAASrO,GAAS2lC,IAAiBP,CAC7G,CAAE,MAAOY,GAGP,OADAp+B,QAAQC,KAAK,oCACN,CACT,CACF,CAiBA,SAASo+B,EAAU53B,EAAS63B,GAC1B,IAAItE,EAAWvzB,EAAQuzB,SAAS9kC,cAEhC,OADUwoC,EAAa7nC,KAAKmkC,KAAcvzB,EAAQ83B,UAA0B,MAAbvE,GAAmBvzB,EAAQzB,MAA2Bs5B,IAjBvH,SAAiB73B,GAGf,IAFA,IAAIg0B,EAAgBh0B,EAChB+3B,EAAW/3B,EAAQg4B,aAAeh4B,EAAQg4B,cACvChE,GACDA,IAAkB7jC,SAAS6qB,MADX,CAMpB,GAFI+c,GAAY/D,IAAkB+D,IAAU/D,EAAgB+D,EAASE,KAAK9hB,YAEtE+gB,EAAclD,GAAgB,OAAO,EACzCA,EAAgBA,EAAc7d,UAChC,CACA,OAAO,CACT,CAKgB+hB,CAAQl4B,EACxB,CAEA,SAASk2B,EAASl2B,GAChB,IAAI4wB,EAAW5wB,EAAQm4B,aAAa,YACnB,OAAbvH,IAAmBA,OAAWzuB,GAClC,IAAIi2B,EAAgBC,MAAMzH,GAC1B,OAAQwH,GAAiBxH,GAAY,IAAMgH,EAAU53B,GAAUo4B,EACjE,CAQAroC,EAAOC,QAAUA,EAAiB,0CChFlC8L,OAAO6C,eAAe3O,EAAS,aAAc,CAC3CuN,OAAO,IAGT,IAIgCsB,EAJ5By5B,EAAS,EAAQ,MAEjBC,GAE4B15B,EAFKy5B,IAEgBz5B,EAAI+lB,WAAa/lB,EAAM,CAAEkmB,QAASlmB,GAEvF7O,EAAA,QAAkBuoC,EAAQxT,QAC1Bh1B,EAAOC,QAAUA,EAAiB,yCCblC,sxGCAA,k+DCAA,o3BCgBA,IAEIwoC,EAAU,WAAY,EA2C1BzoC,EAAOC,QAAUwoC,mFC5DV,SAASC,EAAetqC,EAAKic,GAChC,MAAMsuB,GAAiB,IAAApwB,QAAO8B,IAC9B,IAAAhN,YAAU,WACFgN,IAAgBsuB,EAAe3gC,SAAqC,MAA1B5J,EAAIwqC,qBAChB,MAA1BD,EAAe3gC,SACf5J,EAAIwqC,mBAAmBC,kBAAkBF,EAAe3gC,SAEzC,MAAfqS,GACAjc,EAAIwqC,mBAAmBE,eAAezuB,IAG9CsuB,EAAe3gC,QAAUqS,CAC7B,GAAG,CACCjc,EACAic,GAER,qCCjBO,SAAS0uB,EAAar+B,EAAOC,EAAOC,GACnCD,EAAMK,SAAWJ,EAAUI,QAC3BN,EAAMU,UAAUT,EAAMK,QAEN,MAAhBL,EAAMgL,QAAkBhL,EAAMgL,SAAW/K,EAAU+K,QACnDjL,EAAMs+B,UAAUr+B,EAAMgL,OAE9B,sLCJO,SAASszB,EAAyB1H,GACrC,SAAS2H,EAAmBv+B,EAAOgC,GAC/B,MAAM,SAAEoE,EAAS,QAAElE,GAAa00B,EAAW52B,GAAO3C,QAElD,OADA,IAAA+E,qBAAoBJ,GAAc,IAAIoE,IACb,MAAlBpG,EAAM/G,SAAmB,KAAqB,gBAAoB,KAAiB,CACtF4J,MAAOX,GACRlC,EAAM/G,SACb,CACA,OAAqB,IAAA8J,YAAWw7B,EACpC,CACO,SAASC,EAA0B5H,GACtC,SAAS6H,EAAiBz+B,EAAOgC,GAC7B,MAAOwJ,EAAQC,IAAW,IAAAxJ,WAAS,IAC7B,SAAEmE,GAAcwwB,EAAW52B,EAAOyL,GAASpO,SACjD,IAAA+E,qBAAoBJ,GAAc,IAAIoE,KACtC,IAAA1D,YAAU,WACF8I,GACApF,EAASs4B,QAEjB,GAAG,CACCt4B,EACAoF,EACAxL,EAAM/G,WAGV,MAAM0lC,EAAcv4B,EAASw4B,aAC7B,OAAOD,GAA4B,IAAAxR,cAAantB,EAAM/G,SAAU0lC,GAAe,IACnF,CACA,OAAqB,IAAA57B,YAAW07B,EACpC,CACO,SAASI,EAAoBjI,GAChC,SAASkI,EAAc9+B,EAAOgC,GAC1B,MAAM,SAAEoE,GAAcwwB,EAAW52B,GAAO3C,QAExC,OADA,IAAA+E,qBAAoBJ,GAAc,IAAIoE,IAC/B,IACX,CACA,OAAqB,IAAArD,YAAW+7B,EACpC,4MCvCO,MAAMC,EAAkB,EACxB,SAASC,EAAqBvrC,GACjC,OAAO2N,OAAO69B,OAAO,CACjBC,UAAWH,EACXtrC,OAER,CACO,SAASg4B,EAAc34B,EAAQqsC,GAClC,OAAO/9B,OAAO69B,OAAO,IACdnsC,KACAqsC,GAEX,CACO,MAAMC,GAAiB,IAAA53B,eAAc,MAC/B63B,EAAkBD,EAAe5vB,SACvC,SAAS8vB,IACZ,MAAMp9B,GAAU,IAAA0F,YAAWw3B,GAC3B,GAAe,MAAXl9B,EACA,MAAM,IAAI5H,MAAM,+FAEpB,OAAO4H,CACX,6FCpBO,SAASq9B,EAAkB3I,GAC9B,OAAO,SAA2B52B,GAC9B,MAAMkC,GAAU,UACVs9B,EAAa5I,EAAW52B,EAAOkC,IAC/B,SAAEkE,GAAco5B,EAAWniC,QAC3BoiC,GAAc,IAAA7xB,QAAO5N,EAAMnI,WAC3B,SAAEA,GAAcmI,EAmBtB,OAlBA,IAAA0C,YAAU,WAEN,OADA0D,EAASoS,MAAMtW,EAAQzO,KAChB,WACH2S,EAASzD,QACb,CACJ,GAAG,CACCT,EAAQzO,IACR2S,KAEJ,IAAA1D,YAAU,WACU,MAAZ7K,GAAoBA,IAAa4nC,EAAYpiC,UAC7C+I,EAASs5B,YAAY7nC,GACrB4nC,EAAYpiC,QAAUxF,EAE9B,GAAG,CACCuO,EACAvO,IAEG2nC,CACX,CACJ,iHCzBO,SAASG,EAAqB/I,EAAYgJ,GAC7C,OAAO,SAAuB5/B,EAAOyL,GACjC,MAAMvJ,GAAU,UACVs9B,EAAa5I,GAAW,OAAS52B,EAAOkC,GAAUA,GAIxD,OAHA,OAAeA,EAAQzO,IAAKuM,EAAM0P,cAClC,OAAiB8vB,EAAWniC,QAAS2C,EAAMyK,eAC3Cm1B,EAAaJ,EAAWniC,QAAS6E,EAASlC,EAAOyL,GAC1C+zB,CACX,CACJ,0GCZO,SAAShU,EAAoBplB,EAAUlE,EAAS29B,GACnD,OAAOz+B,OAAO69B,OAAO,CACjB74B,WACAlE,UACA29B,aAER,CACO,SAASC,EAAkBpqC,EAAeqqC,GAC7C,OAAqB,MAAjBA,EACO,SAAoC//B,EAAOkC,GAC9C,MAAMs9B,GAAa,IAAA5xB,UAEnB,OADK4xB,EAAWniC,UAASmiC,EAAWniC,QAAU3H,EAAcsK,EAAOkC,IAC5Ds9B,CACX,EAEG,SAAkCx/B,EAAOkC,GAC5C,MAAMs9B,GAAa,IAAA5xB,UACd4xB,EAAWniC,UAASmiC,EAAWniC,QAAU3H,EAAcsK,EAAOkC,IACnE,MAAM89B,GAAW,IAAApyB,QAAO5N,IAClB,SAAEoG,GAAco5B,EAAWniC,QAWjC,OAVA,IAAAqF,YAAU,WACFs9B,EAAS3iC,UAAY2C,IACrB+/B,EAAc35B,EAAUpG,EAAOggC,EAAS3iC,SACxC2iC,EAAS3iC,QAAU2C,EAE3B,GAAG,CACCoG,EACApG,EACAkC,IAEGs9B,CACX,CACJ,mFChCO,SAASS,EAAiB36B,EAASmF,GACtC,MAAMy1B,GAAmB,IAAAtyB,WACzB,IAAAlL,YAAU,WAKN,OAJqB,MAAjB+H,GACAnF,EAAQc,SAAS8R,GAAGzN,GAExBy1B,EAAiB7iC,QAAUoN,EACpB,WAC6B,MAA5By1B,EAAiB7iC,SACjBiI,EAAQc,SAAS2O,IAAImrB,EAAiB7iC,SAE1C6iC,EAAiB7iC,QAAU,IAC/B,CACJ,GAAG,CACCiI,EACAmF,GAER,sOCZO,SAAS01B,EAAuBC,GAInC,MAAMxJ,GAAa,QAHnB,SAAuB52B,EAAOkC,GAC1B,OAAO,OAAoBk+B,EAAepgC,GAAQkC,EACtD,IAEMm+B,GAAa,OAAkBzJ,GACrC,OAAO,QAAoByJ,EAC/B,CACO,SAASC,EAAqB5qC,EAAeqqC,GAChD,MAAMnJ,GAAa,OAAkBlhC,EAAeqqC,GAC9CQ,GAAW,OAAgB3J,GACjC,OAAO,QAAyB2J,EACpC,CACO,SAASC,EAAuB9qC,EAAekqC,GAClD,MAAMhJ,GAAa,OAAkBlhC,GAC/B+qC,GAAa,OAAqB7J,EAAYgJ,GACpD,OAAO,QAA0Ba,EACrC,CACO,SAAS7V,EAAoBl1B,EAAeqqC,GAC/C,MAAMnJ,GAAa,OAAkBlhC,EAAeqqC,GAC9CW,GAAU,OAAe9J,GAC/B,OAAO,QAAyB8J,EACpC,CACO,SAASC,EAAyBjrC,EAAeqqC,GACpD,MAAMnJ,GAAa,OAAkBlhC,EAAeqqC,GAC9CQ,GAAW,OAAgB3J,GACjC,OAAO,QAAoB2J,EAC/B,qCCjCO,SAASK,EAAgB7gC,EAAOC,EAAOC,GAC1C,MAAM,QAAE3I,EAAQ,OAAEupC,GAAY7gC,EACf,MAAX1I,GAAmBA,IAAY2I,EAAU3I,SACzCyI,EAAMe,WAAWxJ,GAEP,MAAVupC,GAAkBA,IAAW5gC,EAAU4gC,QACvC9gC,EAAM+gC,UAAUD,EAExB,25CCPA,SAASE,EAAe/pC,GACpB,OAAOA,EAAU6S,MAAM,KAAKjW,OAAOotC,QACvC,CACO,SAASC,EAAa37B,EAAStO,GAClC+pC,EAAe/pC,GAAWuP,SAASizB,IAC/B,EAAAxmB,QAAQkuB,SAAS57B,EAASk0B,EAAI,GAEtC,CACO,SAAS2H,EAAgB77B,EAAStO,GACrC+pC,EAAe/pC,GAAWuP,SAASizB,IAC/B,EAAAxmB,QAAQ0mB,YAAYp0B,EAASk0B,EAAI,GAEzC,CACO,SAAS4H,EAAgB97B,EAAS+7B,EAAeC,GACrC,MAAXh8B,GAAmBg8B,IAAkBD,IAChB,MAAjBA,GAAyBA,EAAcxtC,OAAS,GAChDstC,EAAgB77B,EAAS+7B,GAER,MAAjBC,GAAyBA,EAAcztC,OAAS,GAChDotC,EAAa37B,EAASg8B,GAGlC,uDCtBO,SAASC,EAAmBz1B,EAAS9L,EAAOC,GAC3CD,EAAM2B,kBAAkB,EAAAuI,cAAgBlK,EAAM2B,SAAW1B,EAAU0B,QACnEmK,EAAQ01B,UAAUxhC,EAAM2B,QAEP,MAAjB3B,EAAM1I,SAAmB0I,EAAM1I,UAAY2I,EAAU3I,SACrDwU,EAAQhL,WAAWd,EAAM1I,SAET,MAAhB0I,EAAM6gC,QAAkB7gC,EAAM6gC,SAAW5gC,EAAU4gC,QAEnD/0B,EAAQg1B,UAAU9gC,EAAM6gC,OAEhC,yKCPO,SAASY,EAAkBn8B,EAASpD,IACvC,IAAAQ,YAAU,WAGN,OAFkBR,EAAQwpB,gBAAkBxpB,EAAQzO,KAC1C8f,SAASjO,EAAQc,UACpB,WACHlE,EAAQwpB,gBAAgB/W,YAAYrP,EAAQc,UAC5ClE,EAAQzO,IAAIkhB,YAAYrP,EAAQc,SACpC,CACJ,GAAG,CACClE,EACAoD,GAER,CACO,SAASo8B,EAAgB9K,GAC5B,OAAO,SAAkB52B,GACrB,MAAMkC,GAAU,UACVs9B,EAAa5I,GAAW,OAAS52B,EAAOkC,GAAUA,GAIxD,OAHA,OAAeA,EAAQzO,IAAKuM,EAAM0P,cAClC,OAAiB8vB,EAAWniC,QAAS2C,EAAMyK,eAC3Cg3B,EAAkBjC,EAAWniC,QAAS6E,GAC/Bs9B,CACX,CACJ,qCC3BO,SAASmC,EAAS3hC,EAAOkC,GAC5B,MAAM2O,EAAO7Q,EAAM6Q,MAAQ3O,EAAQ2O,KACnC,OAAOA,EAAO,IACP7Q,EACH6Q,QACA7Q,CACR,iLCDO,SAAS4hC,EAAet8B,EAAStF,GACpC,MAAM6hC,GAAa,IAAAj0B,WACnB,IAAAlL,YAAU,WACN,GAAI1C,EAAMiL,cAAgB42B,EAAWxkC,QAAS,CAC1C,MAAMlK,EAAU6M,EAAMiL,aAAe,CAAC,EACtC3F,EAAQc,SAASjG,SAAShN,GAC1B0uC,EAAWxkC,QAAUlK,CACzB,CACJ,GAAG,CACCmS,EACAtF,GAER,CACO,SAAS8hC,EAAelL,GAC3B,OAAO,SAAiB52B,GACpB,MAAMkC,GAAU,UACVs9B,EAAa5I,GAAW,OAAS52B,EAAOkC,GAAUA,GAIxD,OAHA,OAAiBs9B,EAAWniC,QAAS2C,EAAMyK,gBAC3C,OAAkB+0B,EAAWniC,QAAS6E,GACtC0/B,EAAepC,EAAWniC,QAAS2C,GAC5Bw/B,CACX,CACJ","sources":["webpack://at-2024-day-by-day/./node_modules/camelcase/index.js","webpack://at-2024-day-by-day/./node_modules/exenv/index.js","webpack://at-2024-day-by-day/./.cache/react-lifecycles-compat.js","webpack://at-2024-day-by-day/../src/image-utils.ts","webpack://at-2024-day-by-day/../src/components/hooks.ts","webpack://at-2024-day-by-day/../src/components/layout-wrapper.tsx","webpack://at-2024-day-by-day/../src/components/picture.tsx","webpack://at-2024-day-by-day/../src/components/placeholder.tsx","webpack://at-2024-day-by-day/../src/components/main-image.tsx","webpack://at-2024-day-by-day/../src/components/gatsby-image.server.tsx","webpack://at-2024-day-by-day/../src/components/gatsby-image.browser.tsx","webpack://at-2024-day-by-day/../src/components/static-image.server.tsx","webpack://at-2024-day-by-day/../src/components/static-image.tsx","webpack://at-2024-day-by-day/./node_modules/react-leaflet/lib/hooks.js","webpack://at-2024-day-by-day/./node_modules/react-leaflet/lib/GeoJSON.js","webpack://at-2024-day-by-day/./node_modules/react-leaflet/lib/CircleMarker.js","webpack://at-2024-day-by-day/./node_modules/react-leaflet/lib/Marker.js","webpack://at-2024-day-by-day/./node_modules/react-leaflet/lib/MapContainer.js","webpack://at-2024-day-by-day/./node_modules/react-leaflet/lib/TileLayer.js","webpack://at-2024-day-by-day/./node_modules/@mdx-js/react/lib/index.js","webpack://at-2024-day-by-day/./src/content/Epilogue.mdx","webpack://at-2024-day-by-day/./node_modules/react-intersection-observer/dist/index.mjs","webpack://at-2024-day-by-day/./src/ActiveEntryContext.ts","webpack://at-2024-day-by-day/./src/pages/index.tsx","webpack://at-2024-day-by-day/./node_modules/leaflet.markercluster/dist/leaflet.markercluster-src.js","webpack://at-2024-day-by-day/./node_modules/react-leaflet-cluster/lib/index.js","webpack://at-2024-day-by-day/./node_modules/react-modal/lib/components/Modal.js","webpack://at-2024-day-by-day/./node_modules/react-modal/lib/components/ModalPortal.js","webpack://at-2024-day-by-day/./node_modules/react-modal/lib/helpers/ariaAppHider.js","webpack://at-2024-day-by-day/./node_modules/react-modal/lib/helpers/bodyTrap.js","webpack://at-2024-day-by-day/./node_modules/react-modal/lib/helpers/classList.js","webpack://at-2024-day-by-day/./node_modules/react-modal/lib/helpers/focusManager.js","webpack://at-2024-day-by-day/./node_modules/react-modal/lib/helpers/portalOpenInstances.js","webpack://at-2024-day-by-day/./node_modules/react-modal/lib/helpers/safeHTMLElement.js","webpack://at-2024-day-by-day/./node_modules/react-modal/lib/helpers/scopeTab.js","webpack://at-2024-day-by-day/./node_modules/react-modal/lib/helpers/tabbable.js","webpack://at-2024-day-by-day/./node_modules/react-modal/lib/index.js","webpack://at-2024-day-by-day/./node_modules/react-leaflet-cluster/lib/assets/marker-icon-2x.png","webpack://at-2024-day-by-day/./node_modules/react-leaflet-cluster/lib/assets/marker-icon.png","webpack://at-2024-day-by-day/./node_modules/react-leaflet-cluster/lib/assets/marker-shadow.png","webpack://at-2024-day-by-day/./node_modules/warning/warning.js","webpack://at-2024-day-by-day/./node_modules/@react-leaflet/core/lib/attribution.js","webpack://at-2024-day-by-day/./node_modules/@react-leaflet/core/lib/circle.js","webpack://at-2024-day-by-day/./node_modules/@react-leaflet/core/lib/component.js","webpack://at-2024-day-by-day/./node_modules/@react-leaflet/core/lib/context.js","webpack://at-2024-day-by-day/./node_modules/@react-leaflet/core/lib/control.js","webpack://at-2024-day-by-day/./node_modules/@react-leaflet/core/lib/div-overlay.js","webpack://at-2024-day-by-day/./node_modules/@react-leaflet/core/lib/element.js","webpack://at-2024-day-by-day/./node_modules/@react-leaflet/core/lib/events.js","webpack://at-2024-day-by-day/./node_modules/@react-leaflet/core/lib/generic.js","webpack://at-2024-day-by-day/./node_modules/@react-leaflet/core/lib/grid-layer.js","webpack://at-2024-day-by-day/./node_modules/@react-leaflet/core/lib/dom.js","webpack://at-2024-day-by-day/./node_modules/@react-leaflet/core/lib/media-overlay.js","webpack://at-2024-day-by-day/./node_modules/@react-leaflet/core/lib/layer.js","webpack://at-2024-day-by-day/./node_modules/@react-leaflet/core/lib/pane.js","webpack://at-2024-day-by-day/./node_modules/@react-leaflet/core/lib/path.js"],"sourcesContent":["'use strict';\n\nconst UPPERCASE = /[\\p{Lu}]/u;\nconst LOWERCASE = /[\\p{Ll}]/u;\nconst LEADING_CAPITAL = /^[\\p{Lu}](?![\\p{Lu}])/gu;\nconst IDENTIFIER = /([\\p{Alpha}\\p{N}_]|$)/u;\nconst SEPARATORS = /[_.\\- ]+/;\n\nconst LEADING_SEPARATORS = new RegExp('^' + SEPARATORS.source);\nconst SEPARATORS_AND_IDENTIFIER = new RegExp(SEPARATORS.source + IDENTIFIER.source, 'gu');\nconst NUMBERS_AND_IDENTIFIER = new RegExp('\\\\d+' + IDENTIFIER.source, 'gu');\n\nconst preserveCamelCase = (string, toLowerCase, toUpperCase) => {\n\tlet isLastCharLower = false;\n\tlet isLastCharUpper = false;\n\tlet isLastLastCharUpper = false;\n\n\tfor (let i = 0; i < string.length; i++) {\n\t\tconst character = string[i];\n\n\t\tif (isLastCharLower && UPPERCASE.test(character)) {\n\t\t\tstring = string.slice(0, i) + '-' + string.slice(i);\n\t\t\tisLastCharLower = false;\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = true;\n\t\t\ti++;\n\t\t} else if (isLastCharUpper && isLastLastCharUpper && LOWERCASE.test(character)) {\n\t\t\tstring = string.slice(0, i - 1) + '-' + string.slice(i - 1);\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = false;\n\t\t\tisLastCharLower = true;\n\t\t} else {\n\t\t\tisLastCharLower = toLowerCase(character) === character && toUpperCase(character) !== character;\n\t\t\tisLastLastCharUpper = isLastCharUpper;\n\t\t\tisLastCharUpper = toUpperCase(character) === character && toLowerCase(character) !== character;\n\t\t}\n\t}\n\n\treturn string;\n};\n\nconst preserveConsecutiveUppercase = (input, toLowerCase) => {\n\tLEADING_CAPITAL.lastIndex = 0;\n\n\treturn input.replace(LEADING_CAPITAL, m1 => toLowerCase(m1));\n};\n\nconst postProcess = (input, toUpperCase) => {\n\tSEPARATORS_AND_IDENTIFIER.lastIndex = 0;\n\tNUMBERS_AND_IDENTIFIER.lastIndex = 0;\n\n\treturn input.replace(SEPARATORS_AND_IDENTIFIER, (_, identifier) => toUpperCase(identifier))\n\t\t.replace(NUMBERS_AND_IDENTIFIER, m => toUpperCase(m));\n};\n\nconst camelCase = (input, options) => {\n\tif (!(typeof input === 'string' || Array.isArray(input))) {\n\t\tthrow new TypeError('Expected the input to be `string | string[]`');\n\t}\n\n\toptions = {\n\t\tpascalCase: false,\n\t\tpreserveConsecutiveUppercase: false,\n\t\t...options\n\t};\n\n\tif (Array.isArray(input)) {\n\t\tinput = input.map(x => x.trim())\n\t\t\t.filter(x => x.length)\n\t\t\t.join('-');\n\t} else {\n\t\tinput = input.trim();\n\t}\n\n\tif (input.length === 0) {\n\t\treturn '';\n\t}\n\n\tconst toLowerCase = options.locale === false ?\n\t\tstring => string.toLowerCase() :\n\t\tstring => string.toLocaleLowerCase(options.locale);\n\tconst toUpperCase = options.locale === false ?\n\t\tstring => string.toUpperCase() :\n\t\tstring => string.toLocaleUpperCase(options.locale);\n\n\tif (input.length === 1) {\n\t\treturn options.pascalCase ? toUpperCase(input) : toLowerCase(input);\n\t}\n\n\tconst hasUpperCase = input !== toLowerCase(input);\n\n\tif (hasUpperCase) {\n\t\tinput = preserveCamelCase(input, toLowerCase, toUpperCase);\n\t}\n\n\tinput = input.replace(LEADING_SEPARATORS, '');\n\n\tif (options.preserveConsecutiveUppercase) {\n\t\tinput = preserveConsecutiveUppercase(input, toLowerCase);\n\t} else {\n\t\tinput = toLowerCase(input);\n\t}\n\n\tif (options.pascalCase) {\n\t\tinput = toUpperCase(input.charAt(0)) + input.slice(1);\n\t}\n\n\treturn postProcess(input, toUpperCase);\n};\n\nmodule.exports = camelCase;\n// TODO: Remove this for the next major release\nmodule.exports.default = camelCase;\n","/*!\n  Copyright (c) 2015 Jed Watson.\n  Based on code that is Copyright 2013-2015, Facebook, Inc.\n  All rights reserved.\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar canUseDOM = !!(\n\t\ttypeof window !== 'undefined' &&\n\t\twindow.document &&\n\t\twindow.document.createElement\n\t);\n\n\tvar ExecutionEnvironment = {\n\n\t\tcanUseDOM: canUseDOM,\n\n\t\tcanUseWorkers: typeof Worker !== 'undefined',\n\n\t\tcanUseEventListeners:\n\t\t\tcanUseDOM && !!(window.addEventListener || window.attachEvent),\n\n\t\tcanUseViewport: canUseDOM && !!window.screen\n\n\t};\n\n\tif (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\tdefine(function () {\n\t\t\treturn ExecutionEnvironment;\n\t\t});\n\t} else if (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = ExecutionEnvironment;\n\t} else {\n\t\twindow.ExecutionEnvironment = ExecutionEnvironment;\n\t}\n\n}());\n","exports.polyfill = Component => Component\n","import camelCase from \"camelcase\"\nimport type { IGatsbyImageData } from \"./index\"\n\nconst DEFAULT_PIXEL_DENSITIES = [0.25, 0.5, 1, 2]\nexport const DEFAULT_BREAKPOINTS = [750, 1080, 1366, 1920]\nexport const EVERY_BREAKPOINT = [\n  320, 654, 768, 1024, 1366, 1600, 1920, 2048, 2560, 3440, 3840, 4096,\n]\nconst DEFAULT_FLUID_WIDTH = 800\nconst DEFAULT_FIXED_WIDTH = 800\nconst DEFAULT_ASPECT_RATIO = 4 / 3\n\nexport type Fit = \"cover\" | \"fill\" | \"inside\" | \"outside\" | \"contain\"\n\nexport type Layout = \"fixed\" | \"fullWidth\" | \"constrained\"\nexport type ImageFormat = \"jpg\" | \"png\" | \"webp\" | \"avif\" | \"auto\" | \"\"\n\n/**\n * The minimal required reporter, as we don't want to import it from gatsby-cli\n */\nexport interface IReporter {\n  warn(message: string): void\n}\n\nexport interface ISharpGatsbyImageArgs {\n  layout?: Layout\n  formats?: Array<ImageFormat>\n  placeholder?: \"tracedSVG\" | \"dominantColor\" | \"blurred\" | \"none\"\n  tracedSVGOptions?: Record<string, unknown>\n  width?: number\n  height?: number\n  aspectRatio?: number\n  sizes?: string\n  quality?: number\n  transformOptions?: {\n    fit?: Fit\n    cropFocus?: number | string\n    duotone?: {\n      highlight: string\n      shadow: string\n      opacity?: number\n    }\n    grayscale?: boolean\n    rotate?: number\n    trim?: number\n  }\n  jpgOptions?: Record<string, unknown>\n  pngOptions?: Record<string, unknown>\n  webpOptions?: Record<string, unknown>\n  avifOptions?: Record<string, unknown>\n  blurredOptions?: { width?: number; toFormat?: ImageFormat }\n  breakpoints?: Array<number>\n  outputPixelDensities?: Array<number>\n  backgroundColor?: string\n}\n\nexport interface IImageSizeArgs {\n  width?: number\n  height?: number\n  layout?: Layout\n  filename: string\n  outputPixelDensities?: Array<number>\n  breakpoints?: Array<number>\n  fit?: Fit\n  reporter?: IReporter\n  sourceMetadata: { width: number; height: number }\n}\n\nexport interface IImageSizes {\n  sizes: Array<number>\n  presentationWidth: number\n  presentationHeight: number\n  aspectRatio: number\n  unscaledWidth: number\n}\n\nexport interface IImage {\n  src: string\n  width: number\n  height: number\n  format: ImageFormat\n}\n\nexport interface IGatsbyImageHelperArgs {\n  pluginName: string\n  generateImageSource: (\n    filename: string,\n    width: number,\n    height: number,\n    format: ImageFormat,\n    fit?: Fit,\n    options?: Record<string, unknown>\n  ) => IImage\n  layout?: Layout\n  formats?: Array<ImageFormat>\n  filename: string\n  placeholderURL?: string\n  width?: number\n  height?: number\n  sizes?: string\n  reporter?: IReporter\n  sourceMetadata?: { width: number; height: number; format: ImageFormat }\n  fit?: Fit\n  options?: Record<string, unknown>\n  breakpoints?: Array<number>\n  backgroundColor?: string\n  aspectRatio?: number\n}\n\nconst warn = (message: string): void => console.warn(message)\n\nconst sortNumeric = (a: number, b: number): number => a - b\n\nexport const getSizes = (width: number, layout: Layout): string | undefined => {\n  switch (layout) {\n    // If screen is wider than the max size, image width is the max size,\n    // otherwise it's the width of the screen\n    case `constrained`:\n      return `(min-width: ${width}px) ${width}px, 100vw`\n\n    // Image is always the same width, whatever the size of the screen\n    case `fixed`:\n      return `${width}px`\n\n    // Image is always the width of the screen\n    case `fullWidth`:\n      return `100vw`\n\n    default:\n      return undefined\n  }\n}\n\nexport const getSrcSet = (images: Array<IImage>): string =>\n  images.map(image => `${image.src} ${image.width}w`).join(`,\\n`)\n\nexport function formatFromFilename(filename: string): ImageFormat | undefined {\n  const dot = filename.lastIndexOf(`.`)\n  if (dot !== -1) {\n    const ext = filename.slice(dot + 1)\n    if (ext === `jpeg`) {\n      return `jpg`\n    }\n    if (ext.length === 3 || ext.length === 4) {\n      return ext as ImageFormat\n    }\n  }\n  return undefined\n}\n\nexport function setDefaultDimensions(\n  args: IGatsbyImageHelperArgs\n): IGatsbyImageHelperArgs {\n  let {\n    layout = `constrained`,\n    width,\n    height,\n    sourceMetadata,\n    breakpoints,\n    aspectRatio,\n    formats = [`auto`, `webp`],\n  } = args\n  formats = formats.map(format => format.toLowerCase() as ImageFormat)\n  layout = camelCase(layout) as Layout\n\n  if (width && height) {\n    return { ...args, formats, layout, aspectRatio: width / height }\n  }\n  if (sourceMetadata.width && sourceMetadata.height && !aspectRatio) {\n    aspectRatio = sourceMetadata.width / sourceMetadata.height\n  }\n\n  if (layout === `fullWidth`) {\n    width = width || sourceMetadata.width || breakpoints[breakpoints.length - 1]\n    height = height || Math.round(width / (aspectRatio || DEFAULT_ASPECT_RATIO))\n  } else {\n    if (!width) {\n      if (height && aspectRatio) {\n        width = height * aspectRatio\n      } else if (sourceMetadata.width) {\n        width = sourceMetadata.width\n      } else if (height) {\n        width = Math.round(height / DEFAULT_ASPECT_RATIO)\n      } else {\n        width = DEFAULT_FIXED_WIDTH\n      }\n    }\n\n    if (aspectRatio && !height) {\n      height = Math.round(width / aspectRatio)\n    } else if (!aspectRatio) {\n      aspectRatio = width / height\n    }\n  }\n  return { ...args, width, height, aspectRatio, layout, formats }\n}\n\n/**\n * Use this for getting an image for the blurred placeholder. This ensures the\n * aspect ratio and crop match the main image\n */\nexport function getLowResolutionImageURL(\n  args: IGatsbyImageHelperArgs,\n  width = 20\n): string {\n  args = setDefaultDimensions(args)\n  const { generateImageSource, filename, aspectRatio } = args\n  return generateImageSource(\n    filename,\n    width,\n    Math.round(width / aspectRatio),\n    args.sourceMetadata.format || `jpg`,\n    args.fit,\n    args.options\n  )?.src\n}\n\nexport function generateImageData(\n  args: IGatsbyImageHelperArgs\n): IGatsbyImageData {\n  args = setDefaultDimensions(args)\n\n  let {\n    pluginName,\n    sourceMetadata,\n    generateImageSource,\n    layout,\n    fit,\n    options,\n    width,\n    height,\n    filename,\n    reporter = { warn },\n    backgroundColor,\n    placeholderURL,\n  } = args\n\n  if (!pluginName) {\n    reporter.warn(\n      `[gatsby-plugin-image] \"generateImageData\" was not passed a plugin name`\n    )\n  }\n\n  if (typeof generateImageSource !== `function`) {\n    throw new Error(`generateImageSource must be a function`)\n  }\n\n  if (!sourceMetadata || (!sourceMetadata.width && !sourceMetadata.height)) {\n    // No metadata means we let the CDN handle max size etc, aspect ratio etc\n    sourceMetadata = {\n      width,\n      height,\n      format: sourceMetadata?.format || formatFromFilename(filename) || `auto`,\n    }\n  } else if (!sourceMetadata.format) {\n    sourceMetadata.format = formatFromFilename(filename)\n  }\n\n  const formats = new Set<ImageFormat>(args.formats)\n\n  if (formats.size === 0 || formats.has(`auto`) || formats.has(``)) {\n    formats.delete(`auto`)\n    formats.delete(``)\n    formats.add(sourceMetadata.format)\n  }\n\n  if (formats.has(`jpg`) && formats.has(`png`)) {\n    reporter.warn(\n      `[${pluginName}] Specifying both 'jpg' and 'png' formats is not supported. Using 'auto' instead`\n    )\n    if (sourceMetadata.format === `jpg`) {\n      formats.delete(`png`)\n    } else {\n      formats.delete(`jpg`)\n    }\n  }\n\n  const imageSizes = calculateImageSizes({ ...args, sourceMetadata })\n\n  const result: IGatsbyImageData[\"images\"] = {\n    sources: [],\n  }\n\n  let sizes = args.sizes\n  if (!sizes) {\n    sizes = getSizes(imageSizes.presentationWidth, layout)\n  }\n\n  formats.forEach(format => {\n    const images = imageSizes.sizes\n      .map(size => {\n        const imageSrc = generateImageSource(\n          filename,\n          size,\n          Math.round(size / imageSizes.aspectRatio),\n          format,\n          fit,\n          options\n        )\n        if (\n          !imageSrc?.width ||\n          !imageSrc.height ||\n          !imageSrc.src ||\n          !imageSrc.format\n        ) {\n          reporter.warn(\n            `[${pluginName}] The resolver for image ${filename} returned an invalid value.`\n          )\n          return undefined\n        }\n        return imageSrc\n      })\n      .filter(Boolean)\n\n    if (format === `jpg` || format === `png` || format === `auto`) {\n      const unscaled =\n        images.find(img => img.width === imageSizes.unscaledWidth) || images[0]\n\n      if (unscaled) {\n        result.fallback = {\n          src: unscaled.src,\n          srcSet: getSrcSet(images),\n          sizes,\n        }\n      }\n    } else {\n      result.sources?.push({\n        srcSet: getSrcSet(images),\n        sizes,\n        type: `image/${format}`,\n      })\n    }\n  })\n\n  const imageProps: Partial<IGatsbyImageData> = {\n    images: result,\n    layout,\n    backgroundColor,\n  }\n\n  if (placeholderURL) {\n    imageProps.placeholder = { fallback: placeholderURL }\n  }\n\n  switch (layout) {\n    case `fixed`:\n      imageProps.width = imageSizes.presentationWidth\n      imageProps.height = imageSizes.presentationHeight\n      break\n\n    case `fullWidth`:\n      imageProps.width = 1\n      imageProps.height = 1 / imageSizes.aspectRatio\n      break\n\n    case `constrained`:\n      imageProps.width = args.width || imageSizes.presentationWidth || 1\n      imageProps.height = (imageProps.width || 1) / imageSizes.aspectRatio\n  }\n\n  return imageProps as IGatsbyImageData\n}\n\nconst dedupeAndSortDensities = (values: Array<number>): Array<number> =>\n  Array.from(new Set([1, ...values])).sort(sortNumeric)\n\nexport function calculateImageSizes(args: IImageSizeArgs): IImageSizes {\n  const {\n    width,\n    height,\n    filename,\n    layout = `constrained`,\n    sourceMetadata: imgDimensions,\n    reporter = { warn },\n    breakpoints = DEFAULT_BREAKPOINTS,\n  } = args\n\n  // check that all dimensions provided are positive\n  const userDimensions = { width, height }\n  const erroneousUserDimensions = Object.entries(userDimensions).filter(\n    ([_, size]) => typeof size === `number` && size < 1\n  )\n  if (erroneousUserDimensions.length) {\n    throw new Error(\n      `Specified dimensions for images must be positive numbers (> 0). Problem dimensions you have are ${erroneousUserDimensions\n        .map(dim => dim.join(`: `))\n        .join(`, `)}`\n    )\n  }\n\n  if (layout === `fixed`) {\n    return fixedImageSizes(args)\n  } else if (layout === `constrained`) {\n    return responsiveImageSizes(args)\n  } else if (layout === `fullWidth`) {\n    return responsiveImageSizes({ breakpoints, ...args })\n  } else {\n    reporter.warn(\n      `No valid layout was provided for the image at ${filename}. Valid image layouts are fixed, fullWidth, and constrained. Found ${layout}`\n    )\n    return {\n      sizes: [imgDimensions.width],\n      presentationWidth: imgDimensions.width,\n      presentationHeight: imgDimensions.height,\n      aspectRatio: imgDimensions.width / imgDimensions.height,\n      unscaledWidth: imgDimensions.width,\n    }\n  }\n}\nexport function fixedImageSizes({\n  filename,\n  sourceMetadata: imgDimensions,\n  width,\n  height,\n  fit = `cover`,\n  outputPixelDensities = DEFAULT_PIXEL_DENSITIES,\n  reporter = { warn },\n}: IImageSizeArgs): IImageSizes {\n  let aspectRatio = imgDimensions.width / imgDimensions.height\n  // Sort, dedupe and ensure there's a 1\n  const densities = dedupeAndSortDensities(outputPixelDensities)\n\n  // If both are provided then we need to check the fit\n  if (width && height) {\n    const calculated = getDimensionsAndAspectRatio(imgDimensions, {\n      width,\n      height,\n      fit,\n    })\n    width = calculated.width\n    height = calculated.height\n    aspectRatio = calculated.aspectRatio\n  }\n\n  if (!width) {\n    if (!height) {\n      width = DEFAULT_FIXED_WIDTH\n    } else {\n      width = Math.round(height * aspectRatio)\n    }\n  } else if (!height) {\n    height = Math.round(width / aspectRatio)\n  }\n\n  const originalWidth = width // will use this for presentationWidth, don't want to lose it\n  const isTopSizeOverriden =\n    imgDimensions.width < width || imgDimensions.height < (height as number)\n\n  // If the image is smaller than requested, warn the user that it's being processed as such\n  // print out this message with the necessary information before we overwrite it for sizing\n  if (isTopSizeOverriden) {\n    const fixedDimension = imgDimensions.width < width ? `width` : `height`\n    reporter.warn(`\nThe requested ${fixedDimension} \"${\n      fixedDimension === `width` ? width : height\n    }px\" for the image ${filename} was larger than the actual image ${fixedDimension} of ${\n      imgDimensions[fixedDimension]\n    }px. If possible, replace the current image with a larger one.`)\n\n    if (fixedDimension === `width`) {\n      width = imgDimensions.width\n      height = Math.round(width / aspectRatio)\n    } else {\n      height = imgDimensions.height\n      width = height * aspectRatio\n    }\n  }\n\n  const sizes = densities\n    .filter(size => size >= 1) // remove smaller densities because fixed images don't need them\n    .map(density => Math.round(density * (width as number)))\n    .filter(size => size <= imgDimensions.width)\n\n  return {\n    sizes,\n    aspectRatio,\n    presentationWidth: originalWidth,\n    presentationHeight: Math.round(originalWidth / aspectRatio),\n    unscaledWidth: width,\n  }\n}\n\nexport function responsiveImageSizes({\n  sourceMetadata: imgDimensions,\n  width,\n  height,\n  fit = `cover`,\n  outputPixelDensities = DEFAULT_PIXEL_DENSITIES,\n  breakpoints,\n  layout,\n}: IImageSizeArgs): IImageSizes {\n  let sizes\n  let aspectRatio = imgDimensions.width / imgDimensions.height\n  // Sort, dedupe and ensure there's a 1\n  const densities = dedupeAndSortDensities(outputPixelDensities)\n\n  // If both are provided then we need to check the fit\n  if (width && height) {\n    const calculated = getDimensionsAndAspectRatio(imgDimensions, {\n      width,\n      height,\n      fit,\n    })\n    width = calculated.width\n    height = calculated.height\n    aspectRatio = calculated.aspectRatio\n  }\n\n  // Case 1: width of height were passed in, make sure it isn't larger than the actual image\n  width = width && Math.min(width, imgDimensions.width)\n  height = height && Math.min(height, imgDimensions.height)\n\n  // Case 2: neither width or height were passed in, use default size\n  if (!width && !height) {\n    width = Math.min(DEFAULT_FLUID_WIDTH, imgDimensions.width)\n    height = width / aspectRatio\n  }\n\n  // if it still hasn't been found, calculate width from the derived height.\n  // TS isn't smart enough to realise the type for height has been narrowed here\n  if (!width) {\n    width = (height as number) * aspectRatio\n  }\n\n  const originalWidth = width\n  const isTopSizeOverriden =\n    imgDimensions.width < width || imgDimensions.height < (height as number)\n  if (isTopSizeOverriden) {\n    width = imgDimensions.width\n    height = imgDimensions.height\n  }\n\n  width = Math.round(width)\n\n  if (breakpoints?.length > 0) {\n    sizes = breakpoints.filter(size => size <= imgDimensions.width)\n\n    // If a larger breakpoint has been filtered-out, add the actual image width instead\n    if (\n      sizes.length < breakpoints.length &&\n      !sizes.includes(imgDimensions.width)\n    ) {\n      sizes.push(imgDimensions.width)\n    }\n  } else {\n    sizes = densities.map(density => Math.round(density * (width as number)))\n    sizes = sizes.filter(size => size <= imgDimensions.width)\n  }\n\n  // ensure that the size passed in is included in the final output\n  if (layout === `constrained` && !sizes.includes(width)) {\n    sizes.push(width)\n  }\n  sizes = sizes.sort(sortNumeric)\n  return {\n    sizes,\n    aspectRatio,\n    presentationWidth: originalWidth,\n    presentationHeight: Math.round(originalWidth / aspectRatio),\n    unscaledWidth: width,\n  }\n}\n\nexport function getDimensionsAndAspectRatio(\n  dimensions,\n  options\n): { width: number; height: number; aspectRatio: number } {\n  // Calculate the eventual width/height of the image.\n  const imageAspectRatio = dimensions.width / dimensions.height\n\n  let width = options.width\n  let height = options.height\n\n  switch (options.fit) {\n    case `fill`: {\n      width = options.width ? options.width : dimensions.width\n      height = options.height ? options.height : dimensions.height\n      break\n    }\n    case `inside`: {\n      const widthOption = options.width\n        ? options.width\n        : Number.MAX_SAFE_INTEGER\n      const heightOption = options.height\n        ? options.height\n        : Number.MAX_SAFE_INTEGER\n\n      width = Math.min(widthOption, Math.round(heightOption * imageAspectRatio))\n      height = Math.min(\n        heightOption,\n        Math.round(widthOption / imageAspectRatio)\n      )\n      break\n    }\n    case `outside`: {\n      const widthOption = options.width ? options.width : 0\n      const heightOption = options.height ? options.height : 0\n\n      width = Math.max(widthOption, Math.round(heightOption * imageAspectRatio))\n      height = Math.max(\n        heightOption,\n        Math.round(widthOption / imageAspectRatio)\n      )\n      break\n    }\n\n    default: {\n      if (options.width && !options.height) {\n        width = options.width\n        height = Math.round(options.width / imageAspectRatio)\n      }\n\n      if (options.height && !options.width) {\n        width = Math.round(options.height * imageAspectRatio)\n        height = options.height\n      }\n    }\n  }\n\n  return {\n    width,\n    height,\n    aspectRatio: width / height,\n  }\n}\n","/* global GATSBY___IMAGE */\nimport { generateImageData, EVERY_BREAKPOINT } from \"../image-utils\"\nimport type { CSSProperties, HTMLAttributes, ImgHTMLAttributes } from \"react\"\nimport type { Node } from \"gatsby\"\nimport type { PlaceholderProps } from \"./placeholder\"\nimport type { MainImageProps } from \"./main-image\"\nimport type { IGatsbyImageData } from \"./gatsby-image.browser\"\nimport type {\n  IGatsbyImageHelperArgs,\n  Layout,\n  IImage,\n  ImageFormat,\n} from \"../image-utils\"\n\n// Native lazy-loading support: https://addyosmani.com/blog/lazy-loading/\nexport const hasNativeLazyLoadSupport = (): boolean =>\n  typeof HTMLImageElement !== `undefined` &&\n  `loading` in HTMLImageElement.prototype\n\nexport function gatsbyImageIsInstalled(): boolean {\n  return typeof GATSBY___IMAGE !== `undefined` && GATSBY___IMAGE\n}\n\nexport type IGatsbyImageDataParent<T = never> = T & {\n  gatsbyImageData: IGatsbyImageData\n}\nexport type IGatsbyImageParent<T = never> = T & {\n  gatsbyImage: IGatsbyImageData\n}\nexport type FileNode = Partial<Node> & {\n  childImageSharp?: IGatsbyImageDataParent<Partial<Node>>\n}\n\nconst isGatsbyImageData = (\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  node: IGatsbyImageData | any\n): node is IGatsbyImageData =>\n  //  check for a deep prop to be sure this is a valid gatsbyImageData object\n  Boolean(node?.images?.fallback?.src)\n\nconst isGatsbyImageDataParent = <T>(\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  node: IGatsbyImageDataParent<T> | any\n): node is IGatsbyImageDataParent<T> => Boolean(node?.gatsbyImageData)\n\nconst isGatsbyImageParent = <T>(\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  node: IGatsbyImageParent<T> | any\n): node is IGatsbyImageParent<T> => Boolean(node?.gatsbyImage)\n\nexport type ImageDataLike =\n  | FileNode\n  | IGatsbyImageDataParent\n  | IGatsbyImageParent\n  | IGatsbyImageData\n\nexport const getImage = (\n  node: ImageDataLike | null\n): IGatsbyImageData | undefined => {\n  // This checks both for gatsbyImageData and gatsbyImage\n  if (isGatsbyImageData(node)) {\n    return node\n  }\n  // gatsbyImageData GraphQL field\n  if (isGatsbyImageDataParent(node)) {\n    return node.gatsbyImageData\n  }\n  // gatsbyImage GraphQL field for Gatsby's Image CDN service\n  if (isGatsbyImageParent(node)) {\n    return node.gatsbyImage\n  }\n  return node?.childImageSharp?.gatsbyImageData\n}\n\nexport const getSrc = (node: ImageDataLike): string | undefined =>\n  getImage(node)?.images?.fallback?.src\n\nexport const getSrcSet = (node: ImageDataLike): string | undefined =>\n  getImage(node)?.images?.fallback?.srcSet\n\nexport function getWrapperProps(\n  width: number,\n  height: number,\n  layout: Layout\n): Pick<HTMLAttributes<HTMLElement>, \"className\" | \"style\"> & {\n  \"data-gatsby-image-wrapper\": string\n} {\n  const wrapperStyle: CSSProperties = {}\n\n  let className = `gatsby-image-wrapper`\n\n  // If the plugin isn't installed we need to apply the styles inline\n  if (!gatsbyImageIsInstalled()) {\n    wrapperStyle.position = `relative`\n    wrapperStyle.overflow = `hidden`\n  }\n\n  if (layout === `fixed`) {\n    wrapperStyle.width = width\n    wrapperStyle.height = height\n  } else if (layout === `constrained`) {\n    if (!gatsbyImageIsInstalled()) {\n      wrapperStyle.display = `inline-block`\n      wrapperStyle.verticalAlign = `top`\n    }\n    className = `gatsby-image-wrapper gatsby-image-wrapper-constrained`\n  }\n\n  return {\n    className,\n    \"data-gatsby-image-wrapper\": ``,\n    style: wrapperStyle,\n  }\n}\n\nexport interface IUrlBuilderArgs<OptionsType> {\n  width: number\n  height: number\n  baseUrl: string\n  format: ImageFormat\n  options: OptionsType\n}\nexport interface IGetImageDataArgs<OptionsType = Record<string, unknown>> {\n  baseUrl: string\n  /**\n   * For constrained and fixed images, the size of the image element\n   */\n  width?: number\n  height?: number\n  /**\n   * If available, pass the source image width and height\n   */\n  sourceWidth?: number\n  sourceHeight?: number\n  /**\n   * If only one dimension is passed, then this will be used to calculate the other.\n   */\n  aspectRatio?: number\n  layout?: Layout\n  /**\n   * Returns a URL based on the passed arguments. Should be a pure function\n   */\n  urlBuilder: (args: IUrlBuilderArgs<OptionsType>) => string\n\n  /**\n   * Should be a data URI\n   */\n  placeholderURL?: string\n  backgroundColor?: string\n  /**\n   * Used in error messages etc\n   */\n  pluginName?: string\n\n  /**\n   * If you do not support auto-format, pass an array of image types here\n   */\n  formats?: Array<ImageFormat>\n\n  breakpoints?: Array<number>\n\n  /**\n   * Passed to the urlBuilder function\n   */\n  options?: OptionsType\n}\n\n/**\n * Use this hook to generate gatsby-plugin-image data in the browser.\n */\nexport function getImageData<OptionsType>({\n  baseUrl,\n  urlBuilder,\n  sourceWidth,\n  sourceHeight,\n  pluginName = `getImageData`,\n  formats = [`auto`],\n  breakpoints,\n  options,\n  ...props\n}: IGetImageDataArgs<OptionsType>): IGatsbyImageData {\n  if (\n    !breakpoints?.length &&\n    (props.layout === `fullWidth` || (props.layout as string) === `FULL_WIDTH`)\n  ) {\n    breakpoints = EVERY_BREAKPOINT\n  }\n  const generateImageSource = (\n    baseUrl: string,\n    width: number,\n    height?: number,\n    format?: ImageFormat\n  ): IImage => {\n    return {\n      width,\n      height,\n      format,\n      src: urlBuilder({ baseUrl, width, height, options, format }),\n    }\n  }\n\n  const sourceMetadata: IGatsbyImageHelperArgs[\"sourceMetadata\"] = {\n    width: sourceWidth,\n    height: sourceHeight,\n    format: `auto`,\n  }\n\n  const args: IGatsbyImageHelperArgs = {\n    ...props,\n    pluginName,\n    generateImageSource,\n    filename: baseUrl,\n    formats,\n    breakpoints,\n    sourceMetadata,\n  }\n  return generateImageData(args)\n}\n\nexport function getMainProps(\n  isLoading: boolean,\n  isLoaded: boolean,\n  images: IGatsbyImageData[\"images\"],\n  loading?: \"eager\" | \"lazy\",\n  style: CSSProperties = {}\n): Partial<MainImageProps> {\n  // fallback when it's not configured in gatsby-config.\n  if (!gatsbyImageIsInstalled()) {\n    style = {\n      height: `100%`,\n      left: 0,\n      position: `absolute`,\n      top: 0,\n      transform: `translateZ(0)`,\n      transition: `opacity 250ms linear`,\n      width: `100%`,\n      willChange: `opacity`,\n      ...style,\n    }\n  }\n\n  const result = {\n    ...images,\n    loading,\n    shouldLoad: isLoading,\n    \"data-main-image\": ``,\n    style: {\n      ...style,\n      opacity: isLoaded ? 1 : 0,\n    },\n  }\n\n  return result\n}\n\nexport type PlaceholderImageAttrs = ImgHTMLAttributes<HTMLImageElement> &\n  Pick<PlaceholderProps, \"sources\" | \"fallback\"> & {\n    \"data-placeholder-image\"?: string\n  }\n\nexport function getPlaceholderProps(\n  placeholder: PlaceholderImageAttrs | undefined,\n  isLoaded: boolean,\n  layout: Layout,\n  width?: number,\n  height?: number,\n  backgroundColor?: string,\n  objectFit?: CSSProperties[\"objectFit\"],\n  objectPosition?: CSSProperties[\"objectPosition\"]\n): PlaceholderImageAttrs {\n  const wrapperStyle: CSSProperties = {}\n\n  if (backgroundColor) {\n    wrapperStyle.backgroundColor = backgroundColor\n\n    if (layout === `fixed`) {\n      wrapperStyle.width = width\n      wrapperStyle.height = height\n      wrapperStyle.backgroundColor = backgroundColor\n      wrapperStyle.position = `relative`\n    } else if (layout === `constrained`) {\n      wrapperStyle.position = `absolute`\n      wrapperStyle.top = 0\n      wrapperStyle.left = 0\n      wrapperStyle.bottom = 0\n      wrapperStyle.right = 0\n    } else if (layout === `fullWidth`) {\n      wrapperStyle.position = `absolute`\n      wrapperStyle.top = 0\n      wrapperStyle.left = 0\n      wrapperStyle.bottom = 0\n      wrapperStyle.right = 0\n    }\n  }\n\n  if (objectFit) {\n    wrapperStyle.objectFit = objectFit\n  }\n\n  if (objectPosition) {\n    wrapperStyle.objectPosition = objectPosition\n  }\n  const result: PlaceholderImageAttrs = {\n    ...placeholder,\n    \"aria-hidden\": true,\n    \"data-placeholder-image\": ``,\n    style: {\n      opacity: isLoaded ? 0 : 1,\n      transition: `opacity 500ms linear`,\n      ...wrapperStyle,\n    },\n  }\n\n  // fallback when it's not configured in gatsby-config.\n  if (!gatsbyImageIsInstalled()) {\n    result.style = {\n      height: `100%`,\n      left: 0,\n      position: `absolute`,\n      top: 0,\n      width: `100%`,\n    }\n  }\n\n  return result\n}\n\nexport interface IArtDirectedImage {\n  media: string\n  image: IGatsbyImageData\n}\n\n/**\n * Generate a Gatsby image data object with multiple, art-directed images that display at different\n * resolutions.\n *\n * @param defaultImage The image displayed when no media query matches.\n * It is also used for all other settings applied to the image, such as width, height and layout.\n * You should pass a className to the component with media queries to adjust the size of the container,\n * as this cannot be adjusted automatically.\n * @param artDirected Array of objects which each contains a `media` string which is a media query\n * such as `(min-width: 320px)`, and the image object to use when that query matches.\n */\nexport function withArtDirection(\n  defaultImage: IGatsbyImageData,\n  artDirected: Array<IArtDirectedImage>\n): IGatsbyImageData {\n  const { images, placeholder, ...props } = defaultImage\n  const output: IGatsbyImageData = {\n    ...props,\n    images: {\n      ...images,\n      sources: [],\n    },\n    placeholder: placeholder && {\n      ...placeholder,\n      sources: [],\n    },\n  }\n\n  artDirected.forEach(({ media, image }) => {\n    if (!media) {\n      if (process.env.NODE_ENV === `development`) {\n        console.warn(\n          \"[gatsby-plugin-image] All art-directed images passed to must have a value set for `media`. Skipping.\"\n        )\n      }\n      return\n    }\n\n    if (\n      image.layout !== defaultImage.layout &&\n      process.env.NODE_ENV === `development`\n    ) {\n      console.warn(\n        `[gatsby-plugin-image] Mismatched image layout: expected \"${defaultImage.layout}\" but received \"${image.layout}\". All art-directed images use the same layout as the default image`\n      )\n    }\n\n    output.images.sources.push(\n      ...image.images.sources.map(source => {\n        return { ...source, media }\n      }),\n      {\n        media,\n        srcSet: image.images.fallback.srcSet,\n      }\n    )\n\n    if (!output.placeholder) {\n      return\n    }\n\n    output.placeholder.sources.push({\n      media,\n      srcSet: image.placeholder.fallback,\n    })\n  })\n  output.images.sources.push(...images.sources)\n  if (placeholder?.sources) {\n    output.placeholder?.sources.push(...placeholder.sources)\n  }\n  return output\n}\n","import React, { Fragment, FunctionComponent, PropsWithChildren } from \"react\"\nimport terserMacro from \"../../macros/terser.macro\"\nimport { Layout } from \"../image-utils\"\n\nexport interface ILayoutWrapperProps {\n  layout: Layout\n  width: number\n  height: number\n}\n\nconst NativeScriptLoading: FunctionComponent = () => (\n  <script\n    type=\"module\"\n    dangerouslySetInnerHTML={{\n      __html: terserMacro`\nconst hasNativeLazyLoadSupport = typeof HTMLImageElement !== \"undefined\" && \"loading\" in HTMLImageElement.prototype;\nif (hasNativeLazyLoadSupport) {\n  const gatsbyImages = document.querySelectorAll('img[data-main-image]');\n  for (let mainImage of gatsbyImages) {\n    if (mainImage.dataset.src) {\n      mainImage.setAttribute('src', mainImage.dataset.src)\n      mainImage.removeAttribute('data-src')\n    }\n    if (mainImage.dataset.srcset) {\n      mainImage.setAttribute('srcset', mainImage.dataset.srcset)\n      mainImage.removeAttribute('data-srcset')\n    }\n\n    const sources = mainImage.parentNode.querySelectorAll('source[data-srcset]');\n    for (let source of sources) {\n      source.setAttribute('srcset', source.dataset.srcset)\n      source.removeAttribute('data-srcset')\n    }\n\n    if (mainImage.complete) {\n      mainImage.style.opacity = 1;\n\n      // also hide the placeholder\n      mainImage.parentNode.parentNode.querySelector('[data-placeholder-image]').style.opacity = 0;\n    }\n  }\n}\n`,\n    }}\n  />\n)\n\nexport function getSizer(\n  layout: Layout,\n  width: number,\n  height: number\n): string {\n  let sizer = ``\n  if (layout === `fullWidth`) {\n    sizer = `<div aria-hidden=\"true\" style=\"padding-top: ${\n      (height / width) * 100\n    }%;\"></div>`\n  }\n\n  if (layout === `constrained`) {\n    sizer = `<div style=\"max-width: ${width}px; display: block;\"><img alt=\"\" role=\"presentation\" aria-hidden=\"true\" src=\"data:image/svg+xml;charset=utf-8,%3Csvg%20height='${height}'%20width='${width}'%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%3E%3C/svg%3E\" style=\"max-width: 100%; display: block; position: static;\"></div>`\n  }\n\n  return sizer\n}\n\nconst Sizer: FunctionComponent<ILayoutWrapperProps> = function Sizer({\n  layout,\n  width,\n  height,\n}) {\n  if (layout === `fullWidth`) {\n    return (\n      <div aria-hidden style={{ paddingTop: `${(height / width) * 100}%` }} />\n    )\n  }\n\n  if (layout === `constrained`) {\n    return (\n      <div style={{ maxWidth: width, display: `block` }}>\n        <img\n          alt=\"\"\n          role=\"presentation\"\n          aria-hidden=\"true\"\n          src={`data:image/svg+xml;charset=utf-8,%3Csvg%20height='${height}'%20width='${width}'%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%3E%3C/svg%3E`}\n          style={{\n            maxWidth: `100%`,\n            display: `block`,\n            position: `static`,\n          }}\n        />\n      </div>\n    )\n  }\n\n  return null\n}\n\nexport const LayoutWrapper: FunctionComponent<\n  PropsWithChildren<ILayoutWrapperProps>\n> = function LayoutWrapper({ children, ...props }) {\n  return (\n    <Fragment>\n      <Sizer {...props} />\n      {children}\n\n      {SERVER ? <NativeScriptLoading /> : null}\n    </Fragment>\n  )\n}\n","import React, { FunctionComponent, ImgHTMLAttributes } from \"react\"\nimport * as PropTypes from \"prop-types\"\n\nexport interface IResponsiveImageProps {\n  sizes?: string\n  srcSet: string\n}\n\nexport type SourceProps = IResponsiveImageProps &\n  (\n    | {\n        media: string\n        type?: string\n      }\n    | {\n        media?: string\n        type: string\n      }\n  )\n\ntype FallbackProps = { src: string } & Partial<IResponsiveImageProps>\n\ntype ImageProps = ImgHTMLAttributes<HTMLImageElement> & {\n  src: string\n  alt: string\n  shouldLoad: boolean\n}\n\nexport type PictureProps = ImgHTMLAttributes<HTMLImageElement> & {\n  fallback?: FallbackProps\n  sources?: Array<SourceProps>\n  alt: string\n  shouldLoad?: boolean\n}\n\nconst Image: FunctionComponent<ImageProps> = function Image({\n  src,\n  srcSet,\n  loading,\n  alt = ``,\n  shouldLoad,\n  ...props\n}) {\n  return (\n    <img\n      {...props}\n      decoding=\"async\"\n      loading={loading}\n      src={shouldLoad ? src : undefined}\n      data-src={!shouldLoad ? src : undefined}\n      srcSet={shouldLoad ? srcSet : undefined}\n      data-srcset={!shouldLoad ? srcSet : undefined}\n      alt={alt}\n    />\n  )\n}\n\nexport const Picture: React.FC<PictureProps> = function Picture({\n  fallback,\n  sources = [],\n  shouldLoad = true,\n  ...props\n}) {\n  const sizes = props.sizes || fallback?.sizes\n  const fallbackImage = (\n    <Image {...props} {...fallback} sizes={sizes} shouldLoad={shouldLoad} />\n  )\n\n  if (!sources.length) {\n    return fallbackImage\n  }\n\n  return (\n    <picture>\n      {sources.map(({ media, srcSet, type }) => (\n        <source\n          key={`${media}-${type}-${srcSet}`}\n          type={type}\n          media={media}\n          srcSet={shouldLoad ? srcSet : undefined}\n          data-srcset={!shouldLoad ? srcSet : undefined}\n          sizes={sizes}\n        />\n      ))}\n      {fallbackImage}\n    </picture>\n  )\n}\n\nImage.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  sizes: PropTypes.string,\n  srcSet: PropTypes.string,\n  shouldLoad: PropTypes.bool,\n}\n\nPicture.displayName = `Picture`\nPicture.propTypes = {\n  alt: PropTypes.string.isRequired,\n  shouldLoad: PropTypes.bool,\n  fallback: PropTypes.exact({\n    src: PropTypes.string.isRequired,\n    srcSet: PropTypes.string,\n    sizes: PropTypes.string,\n  }),\n  sources: PropTypes.arrayOf(\n    PropTypes.oneOfType([\n      PropTypes.exact({\n        media: PropTypes.string.isRequired,\n        type: PropTypes.string,\n        sizes: PropTypes.string,\n        srcSet: PropTypes.string.isRequired,\n      }),\n      PropTypes.exact({\n        media: PropTypes.string,\n        type: PropTypes.string.isRequired,\n        sizes: PropTypes.string,\n        srcSet: PropTypes.string.isRequired,\n      }),\n    ])\n  ),\n}\n","import React, { FunctionComponent, ImgHTMLAttributes } from \"react\"\nimport * as PropTypes from \"prop-types\"\nimport { Picture, SourceProps } from \"./picture\"\n\nexport type PlaceholderProps = ImgHTMLAttributes<HTMLImageElement> & {\n  fallback?: string\n  sources?: Array<SourceProps>\n}\n\nexport const Placeholder: FunctionComponent<PlaceholderProps> =\n  function Placeholder({ fallback, ...props }) {\n    if (fallback) {\n      return (\n        <Picture\n          {...props}\n          fallback={{\n            src: fallback,\n          }}\n          aria-hidden\n          alt=\"\"\n        />\n      )\n    } else {\n      return <div {...props}></div>\n    }\n  }\n\nPlaceholder.displayName = `Placeholder`\nPlaceholder.propTypes = {\n  fallback: PropTypes.string,\n  sources: Picture.propTypes?.sources,\n  alt: function (props, propName, componentName): Error | null {\n    if (!props[propName]) {\n      return null\n    }\n\n    return new Error(\n      `Invalid prop \\`${propName}\\` supplied to \\`${componentName}\\`. Validation failed.`\n    )\n  },\n}\n","import React from \"react\"\nimport { Picture, PictureProps } from \"./picture\"\n\nexport type MainImageProps = PictureProps\n\nexport const MainImage: React.FC<PictureProps> = function MainImage(props) {\n  return (\n    <>\n      <Picture {...props} />\n      <noscript>\n        <Picture {...props} shouldLoad={true} />\n      </noscript>\n    </>\n  )\n}\n\nMainImage.displayName = `MainImage`\nMainImage.propTypes = Picture.propTypes\n","import React from \"react\"\nimport { getWrapperProps, getMainProps, getPlaceholderProps } from \"./hooks\"\nimport { Placeholder } from \"./placeholder\"\nimport { MainImage, MainImageProps } from \"./main-image\"\nimport { LayoutWrapper } from \"./layout-wrapper\"\nimport PropTypes from \"prop-types\"\nimport type { FunctionComponent, WeakValidationMap } from \"react\"\nimport type { GatsbyImageProps, IGatsbyImageData } from \"./gatsby-image.browser\"\n\nconst removeNewLines = (str: string): string => str.replace(/\\n/g, ``)\n\nexport const GatsbyImage: FunctionComponent<GatsbyImageProps> =\n  function GatsbyImage({\n    as = `div`,\n    className,\n    class: preactClass,\n    style,\n    image,\n    loading = `lazy`,\n    imgClassName,\n    imgStyle,\n    backgroundColor,\n    objectFit,\n    objectPosition,\n    ...props\n  }) {\n    if (!image) {\n      console.warn(`[gatsby-plugin-image] Missing image prop`)\n      return null\n    }\n\n    if (preactClass) {\n      className = preactClass\n    }\n\n    imgStyle = {\n      objectFit,\n      objectPosition,\n      backgroundColor,\n      ...imgStyle,\n    }\n\n    const {\n      width,\n      height,\n      layout,\n      images,\n      placeholder,\n      backgroundColor: placeholderBackgroundColor,\n    } = image\n\n    const {\n      style: wStyle,\n      className: wClass,\n      ...wrapperProps\n    } = getWrapperProps(width, height, layout)\n\n    const cleanedImages: IGatsbyImageData[\"images\"] = {\n      fallback: undefined,\n      sources: [],\n    }\n    if (images.fallback) {\n      cleanedImages.fallback = {\n        ...images.fallback,\n        srcSet: images.fallback.srcSet\n          ? removeNewLines(images.fallback.srcSet)\n          : undefined,\n      }\n    }\n\n    if (images.sources) {\n      cleanedImages.sources = images.sources.map(source => {\n        return {\n          ...source,\n          srcSet: removeNewLines(source.srcSet),\n        }\n      })\n    }\n\n    return React.createElement(\n      as,\n      {\n        ...wrapperProps,\n        style: {\n          ...wStyle,\n          ...style,\n          backgroundColor,\n        },\n        className: `${wClass}${className ? ` ${className}` : ``}`,\n      },\n      <LayoutWrapper layout={layout} width={width} height={height}>\n        <Placeholder\n          {...getPlaceholderProps(\n            placeholder,\n            false,\n            layout,\n            width,\n            height,\n            placeholderBackgroundColor,\n            objectFit,\n            objectPosition\n          )}\n        />\n\n        <MainImage\n          data-gatsby-image-ssr=\"\"\n          className={imgClassName}\n          {...(props as Omit<\n            MainImageProps,\n            \"images\" | \"fallback\" | \"onError\" | \"onLoad\"\n          >)}\n          // When eager is set we want to start the isLoading state on true (we want to load the img without react)\n          {...getMainProps(\n            loading === `eager`,\n            false,\n            cleanedImages,\n            loading,\n            imgStyle\n          )}\n        />\n      </LayoutWrapper>\n    )\n  }\n\nexport const altValidator: PropTypes.Validator<string> = (\n  props: GatsbyImageProps,\n  propName,\n  componentName,\n  ...rest\n): Error | undefined => {\n  if (!props.alt && props.alt !== ``) {\n    return new Error(\n      `The \"alt\" prop is required in ${componentName}. If the image is purely presentational then pass an empty string: e.g. alt=\"\". Learn more: https://a11y-style-guide.com/style-guide/section-media.html`\n    )\n  }\n\n  return PropTypes.string(props, propName, componentName, ...rest)\n}\n\nexport const propTypes = {\n  image: PropTypes.object.isRequired,\n  alt: altValidator,\n} as WeakValidationMap<GatsbyImageProps>\n","import {\n  createElement,\n  memo,\n  useMemo,\n  useEffect,\n  useLayoutEffect,\n  useRef,\n} from \"react\"\nimport {\n  getWrapperProps,\n  gatsbyImageIsInstalled,\n  hasNativeLazyLoadSupport,\n} from \"./hooks\"\nimport { getSizer } from \"./layout-wrapper\"\nimport { propTypes } from \"./gatsby-image.server\"\nimport type {\n  FC,\n  ElementType,\n  FunctionComponent,\n  ImgHTMLAttributes,\n  CSSProperties,\n  ReactEventHandler,\n} from \"react\"\nimport type { renderImageToString } from \"./lazy-hydrate\"\nimport type { PlaceholderProps } from \"./placeholder\"\nimport type { MainImageProps } from \"./main-image\"\nimport type { Layout } from \"../image-utils\"\n\nconst imageCache = new Set<string>()\nlet renderImageToStringPromise\nlet renderImage: typeof renderImageToString | undefined\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport interface GatsbyImageProps\n  extends Omit<\n    ImgHTMLAttributes<HTMLImageElement>,\n    \"placeholder\" | \"onLoad\" | \"src\" | \"srcSet\" | \"width\" | \"height\"\n  > {\n  alt: string\n  as?: ElementType\n  className?: string\n  class?: string\n  imgClassName?: string\n  image: IGatsbyImageData\n  imgStyle?: CSSProperties\n  backgroundColor?: string\n  objectFit?: CSSProperties[\"objectFit\"]\n  objectPosition?: CSSProperties[\"objectPosition\"]\n  onLoad?: (props: { wasCached: boolean }) => void\n  onError?: ReactEventHandler<HTMLImageElement>\n  onStartLoad?: (props: { wasCached: boolean }) => void\n}\n\nexport interface IGatsbyImageData {\n  layout: Layout\n  width: number\n  height: number\n  backgroundColor?: string\n  images: Pick<MainImageProps, \"sources\" | \"fallback\">\n  placeholder?: Pick<PlaceholderProps, \"sources\" | \"fallback\">\n}\n\nconst GatsbyImageHydrator: FC<GatsbyImageProps> = function GatsbyImageHydrator({\n  as = `div`,\n  image,\n  style,\n  backgroundColor,\n  className,\n  class: preactClass,\n  onStartLoad,\n  onLoad,\n  onError,\n  ...props\n}) {\n  const { width, height, layout } = image\n  const {\n    style: wStyle,\n    className: wClass,\n    ...wrapperProps\n  } = getWrapperProps(width, height, layout)\n  const root = useRef<HTMLElement>()\n  const cacheKey = useMemo(() => JSON.stringify(image.images), [image.images])\n\n  // Preact uses class instead of className so we need to check for both\n  if (preactClass) {\n    className = preactClass\n  }\n\n  const sizer = getSizer(layout, width, height)\n\n  useEffect(() => {\n    if (!renderImageToStringPromise) {\n      renderImageToStringPromise = import(`./lazy-hydrate`).then(\n        ({ renderImageToString, swapPlaceholderImage }) => {\n          renderImage = renderImageToString\n\n          return {\n            renderImageToString,\n            swapPlaceholderImage,\n          }\n        }\n      )\n    }\n\n    // The plugin image component is a bit special where if it's server-side rendered, we add extra script tags to support lazy-loading without\n    // In this case we stop hydration but fire the correct events.\n    const ssrImage = root.current.querySelector(\n      `[data-gatsby-image-ssr]`\n    ) as HTMLImageElement\n    if (ssrImage && hasNativeLazyLoadSupport()) {\n      if (ssrImage.complete) {\n        // Trigger onStartload and onLoad events\n        onStartLoad?.({\n          wasCached: true,\n        })\n        onLoad?.({\n          wasCached: true,\n        })\n\n        // remove ssr key for state updates but add delay to not fight with native code snippt of gatsby-ssr\n        setTimeout(() => {\n          ssrImage.removeAttribute(`data-gatsby-image-ssr`)\n        }, 0)\n      } else {\n        onStartLoad?.({\n          wasCached: true,\n        })\n\n        ssrImage.addEventListener(`load`, function onLoadListener() {\n          ssrImage.removeEventListener(`load`, onLoadListener)\n\n          onLoad?.({\n            wasCached: true,\n          })\n          // remove ssr key for state updates but add delay to not fight with native code snippt of gatsby-ssr\n          setTimeout(() => {\n            ssrImage.removeAttribute(`data-gatsby-image-ssr`)\n          }, 0)\n        })\n      }\n\n      imageCache.add(cacheKey)\n\n      return\n    }\n\n    if (renderImage && imageCache.has(cacheKey)) {\n      return\n    }\n\n    let animationFrame\n    let cleanupCallback\n    renderImageToStringPromise.then(\n      ({ renderImageToString, swapPlaceholderImage }) => {\n        if (!root.current) {\n          return\n        }\n\n        root.current.innerHTML = renderImageToString({\n          isLoading: true,\n          isLoaded: imageCache.has(cacheKey),\n          image,\n          ...props,\n        })\n\n        if (!imageCache.has(cacheKey)) {\n          animationFrame = requestAnimationFrame(() => {\n            if (root.current) {\n              cleanupCallback = swapPlaceholderImage(\n                root.current,\n                cacheKey,\n                imageCache,\n                style,\n                onStartLoad,\n                onLoad,\n                onError\n              )\n            }\n          })\n        }\n      }\n    )\n\n    // eslint-disable-next-line consistent-return\n    return (): void => {\n      if (animationFrame) {\n        cancelAnimationFrame(animationFrame)\n      }\n      if (cleanupCallback) {\n        cleanupCallback()\n      }\n    }\n  }, [image])\n\n  // useLayoutEffect is ran before React commits to the DOM. This allows us to make sure our HTML is using our cached image version\n  useLayoutEffect(() => {\n    if (imageCache.has(cacheKey) && renderImage) {\n      root.current.innerHTML = renderImage({\n        isLoading: imageCache.has(cacheKey),\n        isLoaded: imageCache.has(cacheKey),\n        image,\n        ...props,\n      })\n\n      // Trigger onStartload and onLoad events\n      onStartLoad?.({\n        wasCached: true,\n      })\n      onLoad?.({\n        wasCached: true,\n      })\n    }\n  }, [image])\n\n  // By keeping all props equal React will keep the component in the DOM\n  return createElement(as, {\n    ...wrapperProps,\n    style: {\n      ...wStyle,\n      ...style,\n      backgroundColor,\n    },\n    className: `${wClass}${className ? ` ${className}` : ``}`,\n    ref: root,\n    dangerouslySetInnerHTML: {\n      __html: sizer,\n    },\n    suppressHydrationWarning: true,\n  })\n}\n\nexport const GatsbyImage: FunctionComponent<GatsbyImageProps> = memo(\n  function GatsbyImage(props) {\n    if (!props.image) {\n      if (process.env.NODE_ENV === `development`) {\n        console.warn(`[gatsby-plugin-image] Missing image prop`)\n      }\n\n      return null\n    }\n\n    if (!gatsbyImageIsInstalled() && process.env.NODE_ENV === `development`) {\n      console.warn(\n        `[gatsby-plugin-image] You're missing out on some cool performance features. Please add \"gatsby-plugin-image\" to your gatsby-config.js`\n      )\n    }\n\n    return createElement(GatsbyImageHydrator, props)\n  }\n)\n\nGatsbyImage.propTypes = propTypes\nGatsbyImage.displayName = `GatsbyImage`\n","import React, { FunctionComponent, ReactElement } from \"react\"\nimport {\n  altValidator,\n  GatsbyImage as GatsbyImageServer,\n} from \"./gatsby-image.server\"\nimport { GatsbyImageProps, IGatsbyImageData } from \"./gatsby-image.browser\"\nimport PropTypes from \"prop-types\"\nimport { ISharpGatsbyImageArgs } from \"../image-utils\"\n\nexport interface IStaticImageProps\n  extends Omit<GatsbyImageProps, \"image\">,\n    Omit<ISharpGatsbyImageArgs, \"backgroundColor\"> {\n  src: string\n  filename?: string\n}\n\n// These values are added by Babel. Do not add them manually\ninterface IPrivateProps {\n  __imageData?: IGatsbyImageData\n  __error?: string\n}\n\nexport function _getStaticImage(\n  GatsbyImage: FunctionComponent<GatsbyImageProps>\n): React.FC<IStaticImageProps & IPrivateProps> {\n  return function StaticImage({\n    src,\n    __imageData: imageData,\n    __error,\n    // We extract these because they're not meant to be passed-down to GatsbyImage\n    /* eslint-disable @typescript-eslint/no-unused-vars */\n    width,\n    height,\n    aspectRatio,\n    tracedSVGOptions,\n    placeholder,\n    formats,\n    quality,\n    transformOptions,\n    jpgOptions,\n    pngOptions,\n    webpOptions,\n    avifOptions,\n    blurredOptions,\n    breakpoints,\n    outputPixelDensities,\n    /* eslint-enable @typescript-eslint/no-unused-vars */\n    ...props\n  }): ReactElement {\n    if (__error) {\n      console.warn(__error)\n    }\n\n    if (imageData) {\n      return <GatsbyImage image={imageData} {...props} />\n    }\n    console.warn(`Image not loaded`, src)\n    if (!__error && process.env.NODE_ENV === `development`) {\n      console.warn(\n        `Please ensure that \"gatsby-plugin-image\" is included in the plugins array in gatsby-config.js, and that your version of gatsby is at least 2.24.78`\n      )\n    }\n    return null\n  }\n}\n\nconst StaticImage: React.FC<IStaticImageProps & IPrivateProps> =\n  _getStaticImage(GatsbyImageServer)\n\nconst checkDimensionProps: PropTypes.Validator<number> = (\n  props: IStaticImageProps & IPrivateProps,\n  propName: keyof IStaticImageProps & IPrivateProps,\n  ...rest\n) => {\n  if (\n    props.layout === `fullWidth` &&\n    (propName === `width` || propName === `height`) &&\n    props[propName]\n  ) {\n    return new Error(\n      `\"${propName}\" ${props[propName]} may not be passed when layout is fullWidth.`\n    )\n  }\n  return PropTypes.number(props, propName, ...rest)\n}\n\nconst validLayouts = new Set([`fixed`, `fullWidth`, `constrained`])\n\nexport const propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: altValidator,\n  width: checkDimensionProps,\n  height: checkDimensionProps,\n  sizes: PropTypes.string,\n  layout: (props: IStaticImageProps & IPrivateProps): Error | undefined => {\n    if (props.layout === undefined) {\n      return undefined\n    }\n    if (validLayouts.has(props.layout)) {\n      return undefined\n    }\n\n    return new Error(\n      `Invalid value ${props.layout}\" provided for prop \"layout\". Defaulting to \"constrained\". Valid values are \"fixed\", \"fullWidth\" or \"constrained\".`\n    )\n  },\n}\n\nStaticImage.displayName = `StaticImage`\nStaticImage.propTypes = propTypes\n\nexport { StaticImage }\n","import {\n  GatsbyImage as GatsbyImageBrowser,\n  IGatsbyImageData,\n} from \"./gatsby-image.browser\"\nimport React from \"react\"\nimport {\n  _getStaticImage,\n  propTypes,\n  IStaticImageProps,\n} from \"./static-image.server\"\n// These values are added by Babel. Do not add them manually\ninterface IPrivateProps {\n  __imageData?: IGatsbyImageData\n  __error?: string\n}\n\nconst StaticImage: React.FC<IStaticImageProps & IPrivateProps> =\n  _getStaticImage(GatsbyImageBrowser)\n\nStaticImage.displayName = `StaticImage`\nStaticImage.propTypes = propTypes\n\nexport { StaticImage }\n","import { useLeafletContext } from '@react-leaflet/core';\nimport { useEffect } from 'react';\nexport function useMap() {\n    return useLeafletContext().map;\n}\nexport function useMapEvent(type, handler) {\n    const map = useMap();\n    useEffect(function addMapEventHandler() {\n        // @ts-ignore event type\n        map.on(type, handler);\n        return function removeMapEventHandler() {\n            // @ts-ignore event type\n            map.off(type, handler);\n        };\n    }, [\n        map,\n        type,\n        handler\n    ]);\n    return map;\n}\nexport function useMapEvents(handlers) {\n    const map = useMap();\n    useEffect(function addMapEventHandlers() {\n        map.on(handlers);\n        return function removeMapEventHandlers() {\n            map.off(handlers);\n        };\n    }, [\n        map,\n        handlers\n    ]);\n    return map;\n}\n","import { createElementObject, createPathComponent, extendContext } from '@react-leaflet/core';\nimport { GeoJSON as LeafletGeoJSON } from 'leaflet';\nexport const GeoJSON = createPathComponent(function createGeoJSON({ data , ...options }, ctx) {\n    const geoJSON = new LeafletGeoJSON(data, options);\n    return createElementObject(geoJSON, extendContext(ctx, {\n        overlayContainer: geoJSON\n    }));\n}, function updateGeoJSON(layer, props, prevProps) {\n    if (props.style !== prevProps.style) {\n        if (props.style == null) {\n            layer.resetStyle();\n        } else {\n            layer.setStyle(props.style);\n        }\n    }\n});\n","import { createElementObject, createPathComponent, extendContext, updateCircle } from '@react-leaflet/core';\nimport { CircleMarker as LeafletCircleMarker } from 'leaflet';\nexport const CircleMarker = createPathComponent(function createCircleMarker({ center , children: _c , ...options }, ctx) {\n    const marker = new LeafletCircleMarker(center, options);\n    return createElementObject(marker, extendContext(ctx, {\n        overlayContainer: marker\n    }));\n}, updateCircle);\n","import { createElementObject, createLayerComponent, extendContext } from '@react-leaflet/core';\nimport { Marker as LeafletMarker } from 'leaflet';\nexport const Marker = createLayerComponent(function createMarker({ position , ...options }, ctx) {\n    const marker = new LeafletMarker(position, options);\n    return createElementObject(marker, extendContext(ctx, {\n        overlayContainer: marker\n    }));\n}, function updateMarker(marker, props, prevProps) {\n    if (props.position !== prevProps.position) {\n        marker.setLatLng(props.position);\n    }\n    if (props.icon != null && props.icon !== prevProps.icon) {\n        marker.setIcon(props.icon);\n    }\n    if (props.zIndexOffset != null && props.zIndexOffset !== prevProps.zIndexOffset) {\n        marker.setZIndexOffset(props.zIndexOffset);\n    }\n    if (props.opacity != null && props.opacity !== prevProps.opacity) {\n        marker.setOpacity(props.opacity);\n    }\n    if (marker.dragging != null && props.draggable !== prevProps.draggable) {\n        if (props.draggable === true) {\n            marker.dragging.enable();\n        } else {\n            marker.dragging.disable();\n        }\n    }\n});\n","function _extends() {\n    _extends = Object.assign || function(target) {\n        for(var i = 1; i < arguments.length; i++){\n            var source = arguments[i];\n            for(var key in source){\n                if (Object.prototype.hasOwnProperty.call(source, key)) {\n                    target[key] = source[key];\n                }\n            }\n        }\n        return target;\n    };\n    return _extends.apply(this, arguments);\n}\nimport { LeafletProvider, createLeafletContext } from '@react-leaflet/core';\nimport { Map as LeafletMap } from 'leaflet';\nimport React, { forwardRef, useCallback, useEffect, useImperativeHandle, useState } from 'react';\nfunction MapContainerComponent({ bounds , boundsOptions , center , children , className , id , placeholder , style , whenReady , zoom , ...options }, forwardedRef) {\n    const [props] = useState({\n        className,\n        id,\n        style\n    });\n    const [context, setContext] = useState(null);\n    useImperativeHandle(forwardedRef, ()=>context?.map ?? null, [\n        context\n    ]);\n    const mapRef = useCallback((node)=>{\n        if (node !== null && context === null) {\n            const map = new LeafletMap(node, options);\n            if (center != null && zoom != null) {\n                map.setView(center, zoom);\n            } else if (bounds != null) {\n                map.fitBounds(bounds, boundsOptions);\n            }\n            if (whenReady != null) {\n                map.whenReady(whenReady);\n            }\n            setContext(createLeafletContext(map));\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    useEffect(()=>{\n        return ()=>{\n            context?.map.remove();\n        };\n    }, [\n        context\n    ]);\n    const contents = context ? /*#__PURE__*/ React.createElement(LeafletProvider, {\n        value: context\n    }, children) : placeholder ?? null;\n    return /*#__PURE__*/ React.createElement(\"div\", _extends({}, props, {\n        ref: mapRef\n    }), contents);\n}\nexport const MapContainer = /*#__PURE__*/ forwardRef(MapContainerComponent);\n","import { createElementObject, createTileLayerComponent, updateGridLayer, withPane } from '@react-leaflet/core';\nimport { TileLayer as LeafletTileLayer } from 'leaflet';\nexport const TileLayer = createTileLayerComponent(function createTileLayer({ url , ...options }, context) {\n    const layer = new LeafletTileLayer(url, withPane(options, context));\n    return createElementObject(layer, context);\n}, function updateTileLayer(layer, props, prevProps) {\n    updateGridLayer(layer, props, prevProps);\n    const { url  } = props;\n    if (url != null && url !== prevProps.url) {\n        layer.setUrl(url);\n    }\n});\n","/**\n * @typedef {import('react').ReactNode} ReactNode\n * @typedef {import('mdx/types.js').MDXComponents} Components\n *\n * @typedef Props\n *   Configuration.\n * @property {Components | MergeComponents | null | undefined} [components]\n *   Mapping of names for JSX components to React components.\n * @property {boolean | null | undefined} [disableParentContext=false]\n *   Turn off outer component context.\n * @property {ReactNode | null | undefined} [children]\n *   Children.\n *\n * @callback MergeComponents\n *   Custom merge function.\n * @param {Components} currentComponents\n *   Current components from the context.\n * @returns {Components}\n *   Merged components.\n */\n\nimport React from 'react'\n\n/**\n * @type {import('react').Context<Components>}\n * @deprecated\n *   This export is marked as a legacy feature.\n *   That means its no longer recommended for use as it might be removed\n *   in a future major release.\n *\n *   Please use `useMDXComponents` to get context based components and\n *   `MDXProvider` to set context based components instead.\n */\nexport const MDXContext = React.createContext({})\n\n/**\n * @param {import('react').ComponentType<any>} Component\n * @deprecated\n *   This export is marked as a legacy feature.\n *   That means its no longer recommended for use as it might be removed\n *   in a future major release.\n *\n *   Please use `useMDXComponents` to get context based components instead.\n */\nexport function withMDXComponents(Component) {\n  return boundMDXComponent\n\n  /**\n   * @param {Record<string, unknown> & {components?: Components | null | undefined}} props\n   * @returns {JSX.Element}\n   */\n  function boundMDXComponent(props) {\n    const allComponents = useMDXComponents(props.components)\n    return React.createElement(Component, {...props, allComponents})\n  }\n}\n\n/**\n * Get current components from the MDX Context.\n *\n * @param {Components | MergeComponents | null | undefined} [components]\n *   Additional components to use or a function that takes the current\n *   components and filters/merges/changes them.\n * @returns {Components}\n *   Current components.\n */\nexport function useMDXComponents(components) {\n  const contextComponents = React.useContext(MDXContext)\n\n  // Memoize to avoid unnecessary top-level context changes\n  return React.useMemo(() => {\n    // Custom merge via a function prop\n    if (typeof components === 'function') {\n      return components(contextComponents)\n    }\n\n    return {...contextComponents, ...components}\n  }, [contextComponents, components])\n}\n\n/** @type {Components} */\nconst emptyObject = {}\n\n/**\n * Provider for MDX context\n *\n * @param {Props} props\n * @returns {JSX.Element}\n */\nexport function MDXProvider({components, children, disableParentContext}) {\n  /** @type {Components} */\n  let allComponents\n\n  if (disableParentContext) {\n    allComponents =\n      typeof components === 'function'\n        ? components({})\n        : components || emptyObject\n  } else {\n    allComponents = useMDXComponents(components)\n  }\n\n  return React.createElement(\n    MDXContext.Provider,\n    {value: allComponents},\n    children\n  )\n}\n","/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h3: \"h3\",\n    p: \"p\",\n    em: \"em\",\n    a: \"a\"\n  }, _provideComponents(), props.components);\n  return React.createElement(React.Fragment, null, React.createElement(_components.h3, null, \"Epilogue\"), \"\\n\", React.createElement(_components.p, null, \"I've been home from the trail for a little while now. In some ways, it was really easy to get back into the swing of city life, sometimes unsettlingly easy. Ted drove us in my car back to a local motel after we got off the mountain, but I drove us from Maine to Boston the next day. I hadn't driven in months, let alone a standard transmission, but I remembered every inch of how to drive like a Masshole.\"), \"\\n\", React.createElement(_components.p, null, \"Other parts of life proved harder to adapt. I miss waking and sleeping with the sun. It was a point of pride on the trail to not have to rely on an alarm clock as a general rule, and now I have to keep my blinds closed so that the street lights don't keep me up. Adapting to 3 square meals a day has taken time, and I've struggled with the lack of a constant flow of endorphins. I've had to watch my body become less efficient, and there's nothing I can do about it, realistically.\"), \"\\n\", React.createElement(_components.p, null, \"At some point, I finished reading \", React.createElement(_components.em, null, React.createElement(_components.a, {\n    href: \"https://www.goodreads.com/book/show/55120630-the-comfort-crisis\"\n  }, \"The Comfort Crisis\")), \", Rabbit's book recommendation in which Michael Easter goes on a \", React.createElement(_components.a, {\n    href: \"https://www.twopct.com/p/whats-your-misogi\"\n  }, \"misogi\"), \" and comes back a better person. But he says that, eventually, the effects wear off, and he gets used to the comfortable life again. Being comfortable with being uncomfortable is not a \\\"one and done\\\" action; I'll have to work at it continuously.\"), \"\\n\", React.createElement(_components.p, null, \"Some people have asked me, \", React.createElement(_components.em, null, \"\\\"how was it?\\\"\"), \" and I have no idea how to answer that question. There are so many different dimensions, and each one of them was rich and complicated. I could speak for a long time on any part of it.\"), \"\\n\", React.createElement(_components.p, null, \"Others have asked me, \", React.createElement(_components.em, null, \"\\\"would I do it again?\\\"\"), \" and this is easier to answer, at least in the short term. If I were to go back in time, I'd absolutely do it again, and again, and again. It was the right thing to do at the right time, and I'm absolutely glad I made an opportunity to do it. But would I hike the Appalachian Trail, or another similar trail, now? Again? After having hiked it already? I'm not sure. I struggled with being a tourist, I struggled with days running into each other.\"), \"\\n\", React.createElement(_components.p, null, \"What I think this means for me, at least right now, is more smaller hikes, in the timespan of weeks instead of months. Just long enough to take me out of my element, but not so long that I get complacent, or start picking my nose in front of dayhikers. And I've built up a list of potential future thrus, from the \", React.createElement(_components.a, {\n    href: \"https://www.pcta.org/discover-the-trail/john-muir-trail/\"\n  }, \"John Muir Trail\"), \" to the \", React.createElement(_components.a, {\n    href: \"https://superiorhiking.org/\"\n  }, \"Superior Hiking Trail\"), \" to the \", React.createElement(_components.a, {\n    href: \"https://coloradotrail.org/\"\n  }, \"Colorado Trail\"), \" to the \", React.createElement(_components.a, {\n    href: \"https://mdhta.com/\"\n  }, \"Maah Daah Hey Trail\"), \" and more. In keeping with the Robert Frost theme, I still have miles to go before I sleep.\"), \"\\n\", React.createElement(_components.p, null, \"I want to acknowledge all the people that helped me take the roughly 5,000,000 steps from Georgia to Maine. From the thru hikers I met along the way, to the trail angels that gave me a ride or some food, to the family members who held things together at home and mailed me whatever I needed as I needed it, to the friends and family that checked in occasionally to see how I was doing, and last but not least the friends and family who came out to visit me at points along the way. I couldn't have taken the steps without all of your support.\"), \"\\n\", React.createElement(_components.p, null, \"Finally, thanks for reading. While I wrote this largely for myself as an exercise in reflection, I hope you got something out of this as well, either as an inspiration or as an insight into life on the trail. Please feel free to reach out to me if there's anything you'd like to chat about!\"));\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props)) : _createMdxContent(props);\n}\nexport default MDXContent;\n","\"use client\";\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n\n// src/InView.tsx\nimport * as React from \"react\";\n\n// src/observe.ts\nvar observerMap = /* @__PURE__ */ new Map();\nvar RootIds = /* @__PURE__ */ new WeakMap();\nvar rootId = 0;\nvar unsupportedValue = void 0;\nfunction defaultFallbackInView(inView) {\n  unsupportedValue = inView;\n}\nfunction getRootId(root) {\n  if (!root) return \"0\";\n  if (RootIds.has(root)) return RootIds.get(root);\n  rootId += 1;\n  RootIds.set(root, rootId.toString());\n  return RootIds.get(root);\n}\nfunction optionsToId(options) {\n  return Object.keys(options).sort().filter(\n    (key) => options[key] !== void 0\n  ).map((key) => {\n    return `${key}_${key === \"root\" ? getRootId(options.root) : options[key]}`;\n  }).toString();\n}\nfunction createObserver(options) {\n  const id = optionsToId(options);\n  let instance = observerMap.get(id);\n  if (!instance) {\n    const elements = /* @__PURE__ */ new Map();\n    let thresholds;\n    const observer = new IntersectionObserver((entries) => {\n      entries.forEach((entry) => {\n        var _a;\n        const inView = entry.isIntersecting && thresholds.some((threshold) => entry.intersectionRatio >= threshold);\n        if (options.trackVisibility && typeof entry.isVisible === \"undefined\") {\n          entry.isVisible = inView;\n        }\n        (_a = elements.get(entry.target)) == null ? void 0 : _a.forEach((callback) => {\n          callback(inView, entry);\n        });\n      });\n    }, options);\n    thresholds = observer.thresholds || (Array.isArray(options.threshold) ? options.threshold : [options.threshold || 0]);\n    instance = {\n      id,\n      observer,\n      elements\n    };\n    observerMap.set(id, instance);\n  }\n  return instance;\n}\nfunction observe(element, callback, options = {}, fallbackInView = unsupportedValue) {\n  if (typeof window.IntersectionObserver === \"undefined\" && fallbackInView !== void 0) {\n    const bounds = element.getBoundingClientRect();\n    callback(fallbackInView, {\n      isIntersecting: fallbackInView,\n      target: element,\n      intersectionRatio: typeof options.threshold === \"number\" ? options.threshold : 0,\n      time: 0,\n      boundingClientRect: bounds,\n      intersectionRect: bounds,\n      rootBounds: bounds\n    });\n    return () => {\n    };\n  }\n  const { id, observer, elements } = createObserver(options);\n  const callbacks = elements.get(element) || [];\n  if (!elements.has(element)) {\n    elements.set(element, callbacks);\n  }\n  callbacks.push(callback);\n  observer.observe(element);\n  return function unobserve() {\n    callbacks.splice(callbacks.indexOf(callback), 1);\n    if (callbacks.length === 0) {\n      elements.delete(element);\n      observer.unobserve(element);\n    }\n    if (elements.size === 0) {\n      observer.disconnect();\n      observerMap.delete(id);\n    }\n  };\n}\n\n// src/InView.tsx\nfunction isPlainChildren(props) {\n  return typeof props.children !== \"function\";\n}\nvar InView = class extends React.Component {\n  constructor(props) {\n    super(props);\n    __publicField(this, \"node\", null);\n    __publicField(this, \"_unobserveCb\", null);\n    __publicField(this, \"handleNode\", (node) => {\n      if (this.node) {\n        this.unobserve();\n        if (!node && !this.props.triggerOnce && !this.props.skip) {\n          this.setState({ inView: !!this.props.initialInView, entry: void 0 });\n        }\n      }\n      this.node = node ? node : null;\n      this.observeNode();\n    });\n    __publicField(this, \"handleChange\", (inView, entry) => {\n      if (inView && this.props.triggerOnce) {\n        this.unobserve();\n      }\n      if (!isPlainChildren(this.props)) {\n        this.setState({ inView, entry });\n      }\n      if (this.props.onChange) {\n        this.props.onChange(inView, entry);\n      }\n    });\n    this.state = {\n      inView: !!props.initialInView,\n      entry: void 0\n    };\n  }\n  componentDidMount() {\n    this.unobserve();\n    this.observeNode();\n  }\n  componentDidUpdate(prevProps) {\n    if (prevProps.rootMargin !== this.props.rootMargin || prevProps.root !== this.props.root || prevProps.threshold !== this.props.threshold || prevProps.skip !== this.props.skip || prevProps.trackVisibility !== this.props.trackVisibility || prevProps.delay !== this.props.delay) {\n      this.unobserve();\n      this.observeNode();\n    }\n  }\n  componentWillUnmount() {\n    this.unobserve();\n  }\n  observeNode() {\n    if (!this.node || this.props.skip) return;\n    const {\n      threshold,\n      root,\n      rootMargin,\n      trackVisibility,\n      delay,\n      fallbackInView\n    } = this.props;\n    this._unobserveCb = observe(\n      this.node,\n      this.handleChange,\n      {\n        threshold,\n        root,\n        rootMargin,\n        // @ts-ignore\n        trackVisibility,\n        // @ts-ignore\n        delay\n      },\n      fallbackInView\n    );\n  }\n  unobserve() {\n    if (this._unobserveCb) {\n      this._unobserveCb();\n      this._unobserveCb = null;\n    }\n  }\n  render() {\n    const { children } = this.props;\n    if (typeof children === \"function\") {\n      const { inView, entry } = this.state;\n      return children({ inView, entry, ref: this.handleNode });\n    }\n    const {\n      as,\n      triggerOnce,\n      threshold,\n      root,\n      rootMargin,\n      onChange,\n      skip,\n      trackVisibility,\n      delay,\n      initialInView,\n      fallbackInView,\n      ...props\n    } = this.props;\n    return React.createElement(\n      as || \"div\",\n      { ref: this.handleNode, ...props },\n      children\n    );\n  }\n};\n\n// src/useInView.tsx\nimport * as React2 from \"react\";\nfunction useInView({\n  threshold,\n  delay,\n  trackVisibility,\n  rootMargin,\n  root,\n  triggerOnce,\n  skip,\n  initialInView,\n  fallbackInView,\n  onChange\n} = {}) {\n  var _a;\n  const [ref, setRef] = React2.useState(null);\n  const callback = React2.useRef(onChange);\n  const [state, setState] = React2.useState({\n    inView: !!initialInView,\n    entry: void 0\n  });\n  callback.current = onChange;\n  React2.useEffect(\n    () => {\n      if (skip || !ref) return;\n      let unobserve;\n      unobserve = observe(\n        ref,\n        (inView, entry) => {\n          setState({\n            inView,\n            entry\n          });\n          if (callback.current) callback.current(inView, entry);\n          if (entry.isIntersecting && triggerOnce && unobserve) {\n            unobserve();\n            unobserve = void 0;\n          }\n        },\n        {\n          root,\n          rootMargin,\n          threshold,\n          // @ts-ignore\n          trackVisibility,\n          // @ts-ignore\n          delay\n        },\n        fallbackInView\n      );\n      return () => {\n        if (unobserve) {\n          unobserve();\n        }\n      };\n    },\n    // We break the rule here, because we aren't including the actual `threshold` variable\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n      // If the threshold is an array, convert it to a string, so it won't change between renders.\n      Array.isArray(threshold) ? threshold.toString() : threshold,\n      ref,\n      root,\n      rootMargin,\n      triggerOnce,\n      skip,\n      trackVisibility,\n      fallbackInView,\n      delay\n    ]\n  );\n  const entryTarget = (_a = state.entry) == null ? void 0 : _a.target;\n  const previousEntryTarget = React2.useRef(void 0);\n  if (!ref && entryTarget && !triggerOnce && !skip && previousEntryTarget.current !== entryTarget) {\n    previousEntryTarget.current = entryTarget;\n    setState({\n      inView: !!initialInView,\n      entry: void 0\n    });\n  }\n  const result = [setRef, state.inView, state.entry];\n  result.ref = result[0];\n  result.inView = result[1];\n  result.entry = result[2];\n  return result;\n}\nexport {\n  InView,\n  defaultFallbackInView,\n  observe,\n  useInView\n};\n//# sourceMappingURL=index.mjs.map","import { createContext, useContext } from 'react';\nimport { InViewHookResponse, useInView } from 'react-intersection-observer';\n\ntype ActiveEntryContextType = {\n    activeEntry: string | undefined;\n    setActiveEntry: (entry: string | undefined) => void;\n}\nexport const ActiveEntryContext = createContext<ActiveEntryContextType | undefined>(undefined);\n\nexport function isActiveEntry(entry: string): boolean {\n  const activeEntryContext = useContext(ActiveEntryContext);\n  if (!activeEntryContext) {\n    return false;\n  }\n  const { activeEntry } = activeEntryContext;\n  if (!activeEntry) {\n    return false;\n  }\n  const activeDate = new Date(activeEntry).toLocaleDateString('en-US', { timeZone: 'UTC'});\n  const entryTimeZone = (entry.indexOf('T') !== -1) ? 'America/New_York' : 'UTC';\n  const entryDate = new Date(entry).toLocaleDateString('en-US', { timeZone: entryTimeZone});\n  return activeDate === entryDate;\n}\n\nexport function activateOnFocus(entry: string | undefined): InViewHookResponse[\"ref\"] {\n  const activeEntryContext = useContext(ActiveEntryContext)!;\n  const { setActiveEntry } = activeEntryContext;\n  const { ref } = useInView({\n    /* Optional options */\n    threshold: 0,\n    rootMargin: '0px 0px -99% 0px',\n    // TODO consider sending more updates to context and letting a reducer sift through and return the active entry\n    onChange: (_inView, intersectionObserverEntry) => {\n      if (intersectionObserverEntry.isIntersecting) {\n        setActiveEntry(entry);\n      }\n    }\n  });\n  return ref;\n}\n","import React, { useEffect, useState, useContext, useRef, PropsWithChildren } from 'react';\nimport type { PageProps } from 'gatsby';\nimport { graphql } from 'gatsby';\nimport { StaticImage, GatsbyImage, IGatsbyImageData } from 'gatsby-plugin-image';\nimport { MapContainer, TileLayer, GeoJSON, useMap, Marker, CircleMarker } from 'react-leaflet';\nimport MarkerClusterGroup from 'react-leaflet-cluster';\nimport { LatLngBounds, LatLngTuple } from 'leaflet';\nimport Modal from 'react-modal';\nimport type { Feature, LineString } from 'geojson';\nimport Epilogue from '../content/Epilogue.mdx';\nimport { activateOnFocus, ActiveEntryContext, isActiveEntry } from '../ActiveEntryContext';\n\nModal.setAppElement(\"#___gatsby\");\n\nfunction GeoJSONForUrl({ publicURL, name } : GeoJSONFileNode) {\n  const [geoJson, setGeoJson] = useState<Feature<LineString>>();\n  const map = useMap();\n  const [date, _activityType] = name.split('_');\n  const isActive = isActiveEntry(date) && geoJson?.properties?.activityType === 'hiking';\n  const color = isActive ? '#228B22' : 'gray';\n  if (geoJson && isActive) {\n    const bounds = new LatLngBounds(\n      [geoJson.bbox![1], geoJson.bbox![0]], // Southwest corner\n      [geoJson.bbox![4]!, geoJson.bbox![3]]  // Northeast corner\n    );\n    map.flyToBounds(bounds, { duration: 1 });\n  }\n  useEffect(() => {\n    fetch(publicURL)\n      .then(resp => resp.json())\n      .then(setGeoJson);\n  }, []);\n  const firstCoordinateCenter = (coords: number[][]) => [coords[0][1], coords[0][0]] as LatLngTuple;\n  const lastCoordinateCenter = (coords: number[][]) => {\n    const lastCoord = coords[coords.length - 1];\n    return [lastCoord[1], lastCoord[0]] as LatLngTuple;\n  }\n  return geoJson &&\n    <>\n      <GeoJSON data={geoJson} style={{ color }} eventHandlers={{\n        click: () => { document.getElementById(date)!.scrollIntoView(true); }\n      }} />\n      {isActive &&\n        <>\n          <CircleMarker center={firstCoordinateCenter(geoJson.geometry.coordinates)} radius={6} color={color} pathOptions={{ fillOpacity: 0.9 }} />\n          <CircleMarker center={lastCoordinateCenter(geoJson.geometry.coordinates)} radius={6} color=\"black\" pathOptions={{ fillOpacity: 0.5 }} />\n        </>}\n    </>;\n}\n\nfunction MediaAtLocation({ fields, children }: Omit<MediaNode, 'id'> & PropsWithChildren) {\n  const [isOpen, setOpen] = useState(false);\n  return isActiveEntry(fields.createDate) && <>\n    <Marker position={[fields.coordinates.latitude, fields.coordinates.longitude]} eventHandlers={{\n      click: () => { setOpen(true); }\n    }} />\n    <Modal style={{ overlay: { display: 'flex', justifyContent: 'center' }, content: { position: 'static', margin: 40 }}} isOpen={isOpen} onRequestClose={() => { setOpen(false); }}>\n      {children}\n    </Modal>\n  </>;\n}\n\nfunction ImageAtLocation({ childImageSharp, fields }: ImageFileNode) {\n  return (\n    <MediaAtLocation fields={fields}>\n      <GatsbyImage image={childImageSharp!.gatsbyImageData} style={{ maxWidth: '100%', maxHeight: '100%' }} alt={`image taken at ${new Date(fields.createDate).toLocaleString('en-US', { timeZone: 'America/New_York' })}`} />\n    </MediaAtLocation>\n  );\n}\n\nfunction MovieAtLocation({ publicURL, ...mediaProps }: MovieNode) {\n  return (\n    <MediaAtLocation {...mediaProps}>\n      <video src={publicURL} autoPlay controls style={{ maxWidth: '100%', maxHeight: '100%' }} />\n    </MediaAtLocation>\n  );\n}\n\ntype GeoJSONFileNode = {\n  publicURL: string;\n  name: string;\n}\ntype MediaNode = {\n  fields: {\n    coordinates: {\n      latitude: number;\n      longitude: number;\n    }\n    createDate: string;  \n  }\n  id: string;\n};\ntype ImageFileNode = MediaNode & {\n  childImageSharp: null | {\n    gatsbyImageData: IGatsbyImageData;\n  };\n};\ntype MovieNode = MediaNode & {\n  publicURL: string;\n}\n\ntype GarminFeedback =\n  'TIME_TO_RECHARGE' | 'LISTEN_TO_YOUR_BODY' | 'FOCUS_ON_RECOVERY' | 'FIND_TIME_TO_RELAX' | 'LET_YOUR_BODY_RECOVER' | 'TAKE_IT_EASY' | 'TIME_TO_SLOW_DOWN' |\n\n  'BALANCE_STRESS_AND_RECOVERY' | 'FOCUS_ON_SLEEP_PATTERNS' | 'FOCUS_ON_SLEEP_QUALITY' | 'FOCUS_ON_ENERGY_LEVELS' |\n\n  'RECOVERY_IN_PROGRESS' |\n\n  'GOOD_SLEEP_LAST_NIGHT' | 'GOOD_RECOVERY' | 'WELL_RECOVERED' |\n\n  'RECOVERED_AND_READY' | 'READY_FOR_THE_DAY' | 'TAKE_ON_THE_DAY';\ntype MarkdownNode = {\n  frontmatter: {\n    day: number;\n    date: string;\n    start: string | null;\n    destination: string | null;\n    end: number;\n    sleep: 'Tent' | 'Shelter' | 'Building';\n    mood: '' | '';\n    sleepScore: number;\n    garminFeedback: GarminFeedback;\n    trainingReadiness: number;\n}\n  html: string;\n}\ntype IndexData = {\n  site: {\n    siteMetadata: {\n      description: string;\n      siteUrl: string;\n      title: string;\n    }\n  }\n  geojson: {\n    nodes: GeoJSONFileNode[];\n  }\n  images: {\n    nodes: ImageFileNode[];\n  }\n  movies: {\n    nodes: MovieNode[];\n  }\n  allMarkdownRemark: {\n    edges: {\n      node: MarkdownNode;\n      previous: Pick<MarkdownNode, \"frontmatter\"> | null;\n    }[];\n  }\n}\n\nfunction Preface({ metadata }: { metadata: IndexData[\"site\"][\"siteMetadata\"] }) {\n  const ref = activateOnFocus(undefined);\n  return (\n    <header className=\"mb-12\" ref={ref}>\n      <div style={{ display: \"grid\" }}>\n      <StaticImage\n        src=\"../images/trail-with-blaze.jpeg\" alt=\"My tent on the trail\"\n        style={{ gridArea: \"1/1\" }}\n        layout=\"fullWidth\"\n        aspectRatio={2 / 1}\n      />\n      <div className=\"relative grid place-items-center\" style={{ gridArea: \"1/1\" }}>\n        <h1 className=\"text-center lg:text-5xl text-gray-100\">{metadata.title}</h1>\n      </div>\n      </div>\n      {metadata.description}\n    </header>\n  )\n}\n\nfunction title(today: MarkdownNode[\"frontmatter\"], yesterday: Pick<MarkdownNode[\"frontmatter\"], \"destination\" | \"end\"> | undefined) {\n  let startLocation;\n  let daySummary;\n  if (!yesterday) {\n    startLocation = today.start;\n  } else {\n    startLocation = yesterday.destination || `Mile ${yesterday.end}`;\n  }\n  const endLocation = today.destination || `Mile ${today.end}`;\n  if (startLocation === endLocation) {\n    daySummary = endLocation;\n  } else {\n    daySummary = `${startLocation} to ${endLocation}`;\n  }\n  return `AT Day ${today.day}: ${daySummary}`\n}\n\nfunction Entry({ frontmatter, html, previous }: MarkdownNode & { previous: Pick<MarkdownNode[\"frontmatter\"], \"destination\" | \"end\"> | undefined }) {\n  const date = frontmatter.date.split('T')[0];\n  const linkRef = useRef<HTMLElement | null>(null);\n  const focusRef = activateOnFocus(date);\n  const combinedRef = (element: HTMLElement) => {\n    linkRef.current = element;\n    focusRef(element);\n  }\n  const miles = {\n    traveled: (frontmatter.end - (previous?.end || 0)).toFixed(1),\n    start: previous?.end || 0,\n    end: frontmatter.end,\n  };\n\n  return (\n    <article ref={combinedRef} className={(isActiveEntry(date) ? \"entry entry-active\" : \"entry\")}>\n      <h3 className=\"m-0 cursor-pointer\" id={date} onClick={() => linkRef.current?.scrollIntoView()}>\n        {title(frontmatter, previous)}\n      </h3>\n      <div className=\"flex gap-4 text-sm\">\n        <div>{new Date(frontmatter.date).toLocaleDateString('en-US', { timeZone: 'UTC'})}</div>\n        <div>{miles.traveled} miles</div>\n        <div>{miles.start} to {miles.end} miles</div>\n      </div>\n      <div className=\"flex gap-4 text-sm\">\n        <div>Sleep: {frontmatter.sleep}</div>\n        <div>Sleep score: {frontmatter.sleepScore}/100</div>\n        <div>State: {frontmatter.garminFeedback}</div>\n        <div>Mood: {frontmatter.mood}</div>\n        <div>Readiness: {frontmatter.trainingReadiness}/100</div>\n      </div>\n      <div dangerouslySetInnerHTML={{ __html: html }} />\n    </article>\n  )\n}\n\nfunction ScreenListener() {\n  const { activeEntry } = useContext(ActiveEntryContext)!;\n  const map = useMap();\n  if (activeEntry === undefined) {\n    map.flyTo([39.717330464, -77.503664652], 5, { duration: 0.75 });\n  }\n  return false;\n}\n\nexport default function IndexPage({ data }: PageProps<IndexData>) {\n  const geojsonComponents = data.geojson.nodes.map(node => <GeoJSONForUrl key={node.name} {...node} />);\n  const images = data.images.nodes.map(node => <ImageAtLocation key={node.id} {...node} />);\n  const movies = data.movies.nodes.map(node => <MovieAtLocation key={node.id} {...node} />);\n  const [activeEntry, setActiveEntry] = useState<string>();\n  return (\n    <main>\n      <ActiveEntryContext.Provider value={{ activeEntry, setActiveEntry }}>\n      <div style={{position: 'fixed'}}>\n        <MapContainer style={{ height: '100vh', width: 425 }} center={[39.717330464, -77.503664652]} zoom={5} scrollWheelZoom={false}>\n          <ScreenListener />\n          <TileLayer\n            attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          />\n          {geojsonComponents}\n          <MarkerClusterGroup maxClusterRadius={15} showCoverageOnHover={false}>\n            {[...images, ...movies]}\n          </MarkerClusterGroup>\n        </MapContainer>\n      </div>\n      <div style={{ marginLeft: 425, padding: 10 }}>\n        <Preface metadata={data.site.siteMetadata} />\n        {data.allMarkdownRemark.edges.map(({ node, previous }) => (\n          <Entry key={node.frontmatter.day} previous={previous?.frontmatter} {...node} />\n        ))}\n        <Epilogue />\n      </div>\n      </ActiveEntryContext.Provider>\n    </main>\n  )\n}\n\nexport const pageQuery = graphql`\n  query {\n    site {\n      siteMetadata {\n        title\n        siteUrl\n        description\n      }\n    }\n    allMarkdownRemark(\n      filter: {fileAbsolutePath: {glob: \"/**/src/entries/*\"}}\n      sort: {frontmatter: {date: ASC}}\n    ) {\n      edges {\n        node {\n          frontmatter {\n            day\n            date\n            start\n            destination\n            end\n            sleep\n            mood\n            sleepScore\n            garminFeedback\n            trainingReadiness\n          }\n          html\n        }\n        previous {\n          frontmatter {\n            start\n            destination\n            end\n          }\n        }\n      }\n    }\n    geojson: allFile(filter: {sourceInstanceName: {eq: \"geojson\"}}) {\n      nodes {\n        name\n        publicURL\n      }\n    }\n    images: allFile(\n      filter: {sourceInstanceName: {eq: \"images\"}, extension: {eq: \"jpeg\"}, fields: {coordinates: {latitude: {ne: null}, longitude: {ne: null}}}}\n      sort: {birthTime: ASC}\n    ) {\n      nodes {\n        id\n        fields {\n          coordinates {\n            latitude\n            longitude\n          }\n          createDate\n        }\n        childImageSharp {\n          gatsbyImageData\n        }\n      }\n    }\n    movies: allFile(\n      filter: {sourceInstanceName: {eq: \"images\"}, extension: {eq: \"mp4\"}, fields: {coordinates: {latitude: {ne: null}, longitude: {ne: null}}}}\n      sort: {birthTime: ASC}\n    ) {\n      nodes {\n        id\n        fields {\n          coordinates {\n            latitude\n            longitude\n          }\n          createDate\n        }\n        publicURL\n      }\n    }\n  }\n`;\n\nexport function Head ({ data }: PageProps<IndexData>) {\n  return <title>{data.site.siteMetadata.title}</title>;\n}\n","/*\n * Leaflet.markercluster 1.5.3+master.e5124b2,\n * Provides Beautiful Animated Marker Clustering functionality for Leaflet, a JS library for interactive maps.\n * https://github.com/Leaflet/Leaflet.markercluster\n * (c) 2012-2017, Dave Leaver, smartrak\n */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(global = global || self, factory((global.Leaflet = global.Leaflet || {}, global.Leaflet.markercluster = {})));\n}(this, function (exports) { 'use strict';\n\n\t/*\n\t * L.MarkerClusterGroup extends L.FeatureGroup by clustering the markers contained within\n\t */\n\n\tvar MarkerClusterGroup = L.MarkerClusterGroup = L.FeatureGroup.extend({\n\n\t\toptions: {\n\t\t\tmaxClusterRadius: 80, //A cluster will cover at most this many pixels from its center\n\t\t\ticonCreateFunction: null,\n\t\t\tclusterPane: L.Marker.prototype.options.pane,\n\n\t\t\tspiderfyOnEveryZoom: false,\n\t\t\tspiderfyOnMaxZoom: true,\n\t\t\tshowCoverageOnHover: true,\n\t\t\tzoomToBoundsOnClick: true,\n\t\t\tsingleMarkerMode: false,\n\n\t\t\tdisableClusteringAtZoom: null,\n\n\t\t\t// Setting this to false prevents the removal of any clusters outside of the viewpoint, which\n\t\t\t// is the default behaviour for performance reasons.\n\t\t\tremoveOutsideVisibleBounds: true,\n\n\t\t\t// Set to false to disable all animations (zoom and spiderfy).\n\t\t\t// If false, option animateAddingMarkers below has no effect.\n\t\t\t// If L.DomUtil.TRANSITION is falsy, this option has no effect.\n\t\t\tanimate: true,\n\n\t\t\t//Whether to animate adding markers after adding the MarkerClusterGroup to the map\n\t\t\t// If you are adding individual markers set to true, if adding bulk markers leave false for massive performance gains.\n\t\t\tanimateAddingMarkers: false,\n\n\t\t\t// Make it possible to provide custom function to calculate spiderfy shape positions\n\t\t\tspiderfyShapePositions: null,\n\n\t\t\t//Increase to increase the distance away that spiderfied markers appear from the center\n\t\t\tspiderfyDistanceMultiplier: 1,\n\n\t\t\t// Make it possible to specify a polyline options on a spider leg\n\t\t\tspiderLegPolylineOptions: { weight: 1.5, color: '#222', opacity: 0.5 },\n\n\t\t\t// When bulk adding layers, adds markers in chunks. Means addLayers may not add all the layers in the call, others will be loaded during setTimeouts\n\t\t\tchunkedLoading: false,\n\t\t\tchunkInterval: 200, // process markers for a maximum of ~ n milliseconds (then trigger the chunkProgress callback)\n\t\t\tchunkDelay: 50, // at the end of each interval, give n milliseconds back to system/browser\n\t\t\tchunkProgress: null, // progress callback: function(processed, total, elapsed) (e.g. for a progress indicator)\n\n\t\t\t//Options to pass to the L.Polygon constructor\n\t\t\tpolygonOptions: {}\n\t\t},\n\n\t\tinitialize: function (options) {\n\t\t\tL.Util.setOptions(this, options);\n\t\t\tif (!this.options.iconCreateFunction) {\n\t\t\t\tthis.options.iconCreateFunction = this._defaultIconCreateFunction;\n\t\t\t}\n\n\t\t\tthis._featureGroup = L.featureGroup();\n\t\t\tthis._featureGroup.addEventParent(this);\n\n\t\t\tthis._nonPointGroup = L.featureGroup();\n\t\t\tthis._nonPointGroup.addEventParent(this);\n\n\t\t\tthis._inZoomAnimation = 0;\n\t\t\tthis._needsClustering = [];\n\t\t\tthis._needsRemoving = []; //Markers removed while we aren't on the map need to be kept track of\n\t\t\t//The bounds of the currently shown area (from _getExpandedVisibleBounds) Updated on zoom/move\n\t\t\tthis._currentShownBounds = null;\n\n\t\t\tthis._queue = [];\n\n\t\t\tthis._childMarkerEventHandlers = {\n\t\t\t\t'dragstart': this._childMarkerDragStart,\n\t\t\t\t'move': this._childMarkerMoved,\n\t\t\t\t'dragend': this._childMarkerDragEnd,\n\t\t\t};\n\n\t\t\t// Hook the appropriate animation methods.\n\t\t\tvar animate = L.DomUtil.TRANSITION && this.options.animate;\n\t\t\tL.extend(this, animate ? this._withAnimation : this._noAnimation);\n\t\t\t// Remember which MarkerCluster class to instantiate (animated or not).\n\t\t\tthis._markerCluster = animate ? L.MarkerCluster : L.MarkerClusterNonAnimated;\n\t\t},\n\n\t\taddLayer: function (layer) {\n\n\t\t\tif (layer instanceof L.LayerGroup) {\n\t\t\t\treturn this.addLayers([layer]);\n\t\t\t}\n\n\t\t\t//Don't cluster non point data\n\t\t\tif (!layer.getLatLng) {\n\t\t\t\tthis._nonPointGroup.addLayer(layer);\n\t\t\t\tthis.fire('layeradd', { layer: layer });\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif (!this._map) {\n\t\t\t\tthis._needsClustering.push(layer);\n\t\t\t\tthis.fire('layeradd', { layer: layer });\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif (this.hasLayer(layer)) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\n\t\t\t//If we have already clustered we'll need to add this one to a cluster\n\n\t\t\tif (this._unspiderfy) {\n\t\t\t\tthis._unspiderfy();\n\t\t\t}\n\n\t\t\tthis._addLayer(layer, this._maxZoom);\n\t\t\tthis.fire('layeradd', { layer: layer });\n\n\t\t\t// Refresh bounds and weighted positions.\n\t\t\tthis._topClusterLevel._recalculateBounds();\n\n\t\t\tthis._refreshClustersIcons();\n\n\t\t\t//Work out what is visible\n\t\t\tvar visibleLayer = layer,\n\t\t\t    currentZoom = this._zoom;\n\t\t\tif (layer.__parent) {\n\t\t\t\twhile (visibleLayer.__parent._zoom >= currentZoom) {\n\t\t\t\t\tvisibleLayer = visibleLayer.__parent;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this._currentShownBounds.contains(visibleLayer.getLatLng())) {\n\t\t\t\tif (this.options.animateAddingMarkers) {\n\t\t\t\t\tthis._animationAddLayer(layer, visibleLayer);\n\t\t\t\t} else {\n\t\t\t\t\tthis._animationAddLayerNonAnimated(layer, visibleLayer);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\tremoveLayer: function (layer) {\n\n\t\t\tif (layer instanceof L.LayerGroup) {\n\t\t\t\treturn this.removeLayers([layer]);\n\t\t\t}\n\n\t\t\t//Non point layers\n\t\t\tif (!layer.getLatLng) {\n\t\t\t\tthis._nonPointGroup.removeLayer(layer);\n\t\t\t\tthis.fire('layerremove', { layer: layer });\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif (!this._map) {\n\t\t\t\tif (!this._arraySplice(this._needsClustering, layer) && this.hasLayer(layer)) {\n\t\t\t\t\tthis._needsRemoving.push({ layer: layer, latlng: layer._latlng });\n\t\t\t\t}\n\t\t\t\tthis.fire('layerremove', { layer: layer });\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif (!layer.__parent) {\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif (this._unspiderfy) {\n\t\t\t\tthis._unspiderfy();\n\t\t\t\tthis._unspiderfyLayer(layer);\n\t\t\t}\n\n\t\t\t//Remove the marker from clusters\n\t\t\tthis._removeLayer(layer, true);\n\t\t\tthis.fire('layerremove', { layer: layer });\n\n\t\t\t// Refresh bounds and weighted positions.\n\t\t\tthis._topClusterLevel._recalculateBounds();\n\n\t\t\tthis._refreshClustersIcons();\n\n\t\t\tlayer.off(this._childMarkerEventHandlers, this);\n\n\t\t\tif (this._featureGroup.hasLayer(layer)) {\n\t\t\t\tthis._featureGroup.removeLayer(layer);\n\t\t\t\tif (layer.clusterShow) {\n\t\t\t\t\tlayer.clusterShow();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\t//Takes an array of markers and adds them in bulk\n\t\taddLayers: function (layersArray, skipLayerAddEvent) {\n\t\t\tif (!L.Util.isArray(layersArray)) {\n\t\t\t\treturn this.addLayer(layersArray);\n\t\t\t}\n\n\t\t\tvar fg = this._featureGroup,\n\t\t\t    npg = this._nonPointGroup,\n\t\t\t    chunked = this.options.chunkedLoading,\n\t\t\t    chunkInterval = this.options.chunkInterval,\n\t\t\t    chunkProgress = this.options.chunkProgress,\n\t\t\t    l = layersArray.length,\n\t\t\t    offset = 0,\n\t\t\t    originalArray = true,\n\t\t\t    m;\n\n\t\t\tif (this._map) {\n\t\t\t\tvar started = (new Date()).getTime();\n\t\t\t\tvar process = L.bind(function () {\n\t\t\t\t\tvar start = (new Date()).getTime();\n\n\t\t\t\t\t// Make sure to unspiderfy before starting to add some layers\n\t\t\t\t\tif (this._map && this._unspiderfy) {\n\t\t\t\t\t\tthis._unspiderfy();\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (; offset < l; offset++) {\n\t\t\t\t\t\tif (chunked && offset % 200 === 0) {\n\t\t\t\t\t\t\t// every couple hundred markers, instrument the time elapsed since processing started:\n\t\t\t\t\t\t\tvar elapsed = (new Date()).getTime() - start;\n\t\t\t\t\t\t\tif (elapsed > chunkInterval) {\n\t\t\t\t\t\t\t\tbreak; // been working too hard, time to take a break :-)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tm = layersArray[offset];\n\n\t\t\t\t\t\t// Group of layers, append children to layersArray and skip.\n\t\t\t\t\t\t// Side effects:\n\t\t\t\t\t\t// - Total increases, so chunkProgress ratio jumps backward.\n\t\t\t\t\t\t// - Groups are not included in this group, only their non-group child layers (hasLayer).\n\t\t\t\t\t\t// Changing array length while looping does not affect performance in current browsers:\n\t\t\t\t\t\t// http://jsperf.com/for-loop-changing-length/6\n\t\t\t\t\t\tif (m instanceof L.LayerGroup) {\n\t\t\t\t\t\t\tif (originalArray) {\n\t\t\t\t\t\t\t\tlayersArray = layersArray.slice();\n\t\t\t\t\t\t\t\toriginalArray = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis._extractNonGroupLayers(m, layersArray);\n\t\t\t\t\t\t\tl = layersArray.length;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//Not point data, can't be clustered\n\t\t\t\t\t\tif (!m.getLatLng) {\n\t\t\t\t\t\t\tnpg.addLayer(m);\n\t\t\t\t\t\t\tif (!skipLayerAddEvent) {\n\t\t\t\t\t\t\t\tthis.fire('layeradd', { layer: m });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (this.hasLayer(m)) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._addLayer(m, this._maxZoom);\n\t\t\t\t\t\tif (!skipLayerAddEvent) {\n\t\t\t\t\t\t\tthis.fire('layeradd', { layer: m });\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//If we just made a cluster of size 2 then we need to remove the other marker from the map (if it is) or we never will\n\t\t\t\t\t\tif (m.__parent) {\n\t\t\t\t\t\t\tif (m.__parent.getChildCount() === 2) {\n\t\t\t\t\t\t\t\tvar markers = m.__parent.getAllChildMarkers(),\n\t\t\t\t\t\t\t\t    otherMarker = markers[0] === m ? markers[1] : markers[0];\n\t\t\t\t\t\t\t\tfg.removeLayer(otherMarker);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (chunkProgress) {\n\t\t\t\t\t\t// report progress and time elapsed:\n\t\t\t\t\t\tchunkProgress(offset, l, (new Date()).getTime() - started);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Completed processing all markers.\n\t\t\t\t\tif (offset === l) {\n\n\t\t\t\t\t\t// Refresh bounds and weighted positions.\n\t\t\t\t\t\tthis._topClusterLevel._recalculateBounds();\n\n\t\t\t\t\t\tthis._refreshClustersIcons();\n\n\t\t\t\t\t\tthis._topClusterLevel._recursivelyAddChildrenToMap(null, this._zoom, this._currentShownBounds);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetTimeout(process, this.options.chunkDelay);\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\n\t\t\t\tprocess();\n\t\t\t} else {\n\t\t\t\tvar needsClustering = this._needsClustering;\n\n\t\t\t\tfor (; offset < l; offset++) {\n\t\t\t\t\tm = layersArray[offset];\n\n\t\t\t\t\t// Group of layers, append children to layersArray and skip.\n\t\t\t\t\tif (m instanceof L.LayerGroup) {\n\t\t\t\t\t\tif (originalArray) {\n\t\t\t\t\t\t\tlayersArray = layersArray.slice();\n\t\t\t\t\t\t\toriginalArray = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._extractNonGroupLayers(m, layersArray);\n\t\t\t\t\t\tl = layersArray.length;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\t//Not point data, can't be clustered\n\t\t\t\t\tif (!m.getLatLng) {\n\t\t\t\t\t\tnpg.addLayer(m);\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.hasLayer(m)) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tneedsClustering.push(m);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\t//Takes an array of markers and removes them in bulk\n\t\tremoveLayers: function (layersArray) {\n\t\t\tvar i, m,\n\t\t\t    l = layersArray.length,\n\t\t\t    fg = this._featureGroup,\n\t\t\t    npg = this._nonPointGroup,\n\t\t\t    originalArray = true;\n\n\t\t\tif (!this._map) {\n\t\t\t\tfor (i = 0; i < l; i++) {\n\t\t\t\t\tm = layersArray[i];\n\n\t\t\t\t\t// Group of layers, append children to layersArray and skip.\n\t\t\t\t\tif (m instanceof L.LayerGroup) {\n\t\t\t\t\t\tif (originalArray) {\n\t\t\t\t\t\t\tlayersArray = layersArray.slice();\n\t\t\t\t\t\t\toriginalArray = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._extractNonGroupLayers(m, layersArray);\n\t\t\t\t\t\tl = layersArray.length;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._arraySplice(this._needsClustering, m);\n\t\t\t\t\tnpg.removeLayer(m);\n\t\t\t\t\tif (this.hasLayer(m)) {\n\t\t\t\t\t\tthis._needsRemoving.push({ layer: m, latlng: m._latlng });\n\t\t\t\t\t}\n\t\t\t\t\tthis.fire('layerremove', { layer: m });\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\n\t\t\tif (this._unspiderfy) {\n\t\t\t\tthis._unspiderfy();\n\n\t\t\t\t// Work on a copy of the array, so that next loop is not affected.\n\t\t\t\tvar layersArray2 = layersArray.slice(),\n\t\t\t\t    l2 = l;\n\t\t\t\tfor (i = 0; i < l2; i++) {\n\t\t\t\t\tm = layersArray2[i];\n\n\t\t\t\t\t// Group of layers, append children to layersArray and skip.\n\t\t\t\t\tif (m instanceof L.LayerGroup) {\n\t\t\t\t\t\tthis._extractNonGroupLayers(m, layersArray2);\n\t\t\t\t\t\tl2 = layersArray2.length;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._unspiderfyLayer(m);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (i = 0; i < l; i++) {\n\t\t\t\tm = layersArray[i];\n\n\t\t\t\t// Group of layers, append children to layersArray and skip.\n\t\t\t\tif (m instanceof L.LayerGroup) {\n\t\t\t\t\tif (originalArray) {\n\t\t\t\t\t\tlayersArray = layersArray.slice();\n\t\t\t\t\t\toriginalArray = false;\n\t\t\t\t\t}\n\t\t\t\t\tthis._extractNonGroupLayers(m, layersArray);\n\t\t\t\t\tl = layersArray.length;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (!m.__parent) {\n\t\t\t\t\tnpg.removeLayer(m);\n\t\t\t\t\tthis.fire('layerremove', { layer: m });\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tthis._removeLayer(m, true, true);\n\t\t\t\tthis.fire('layerremove', { layer: m });\n\n\t\t\t\tif (fg.hasLayer(m)) {\n\t\t\t\t\tfg.removeLayer(m);\n\t\t\t\t\tif (m.clusterShow) {\n\t\t\t\t\t\tm.clusterShow();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Refresh bounds and weighted positions.\n\t\t\tthis._topClusterLevel._recalculateBounds();\n\n\t\t\tthis._refreshClustersIcons();\n\n\t\t\t//Fix up the clusters and markers on the map\n\t\t\tthis._topClusterLevel._recursivelyAddChildrenToMap(null, this._zoom, this._currentShownBounds);\n\n\t\t\treturn this;\n\t\t},\n\n\t\t//Removes all layers from the MarkerClusterGroup\n\t\tclearLayers: function () {\n\t\t\t//Need our own special implementation as the LayerGroup one doesn't work for us\n\n\t\t\t//If we aren't on the map (yet), blow away the markers we know of\n\t\t\tif (!this._map) {\n\t\t\t\tthis._needsClustering = [];\n\t\t\t\tthis._needsRemoving = [];\n\t\t\t\tdelete this._gridClusters;\n\t\t\t\tdelete this._gridUnclustered;\n\t\t\t}\n\n\t\t\tif (this._noanimationUnspiderfy) {\n\t\t\t\tthis._noanimationUnspiderfy();\n\t\t\t}\n\n\t\t\t//Remove all the visible layers\n\t\t\tthis._featureGroup.clearLayers();\n\t\t\tthis._nonPointGroup.clearLayers();\n\n\t\t\tthis.eachLayer(function (marker) {\n\t\t\t\tmarker.off(this._childMarkerEventHandlers, this);\n\t\t\t\tdelete marker.__parent;\n\t\t\t}, this);\n\n\t\t\tif (this._map) {\n\t\t\t\t//Reset _topClusterLevel and the DistanceGrids\n\t\t\t\tthis._generateInitialClusters();\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\t//Override FeatureGroup.getBounds as it doesn't work\n\t\tgetBounds: function () {\n\t\t\tvar bounds = new L.LatLngBounds();\n\n\t\t\tif (this._topClusterLevel) {\n\t\t\t\tbounds.extend(this._topClusterLevel._bounds);\n\t\t\t}\n\n\t\t\tfor (var i = this._needsClustering.length - 1; i >= 0; i--) {\n\t\t\t\tbounds.extend(this._needsClustering[i].getLatLng());\n\t\t\t}\n\n\t\t\tbounds.extend(this._nonPointGroup.getBounds());\n\n\t\t\treturn bounds;\n\t\t},\n\n\t\t//Overrides LayerGroup.eachLayer\n\t\teachLayer: function (method, context) {\n\t\t\tvar markers = this._needsClustering.slice(),\n\t\t\t\tneedsRemoving = this._needsRemoving,\n\t\t\t\tthisNeedsRemoving, i, j;\n\n\t\t\tif (this._topClusterLevel) {\n\t\t\t\tthis._topClusterLevel.getAllChildMarkers(markers);\n\t\t\t}\n\n\t\t\tfor (i = markers.length - 1; i >= 0; i--) {\n\t\t\t\tthisNeedsRemoving = true;\n\n\t\t\t\tfor (j = needsRemoving.length - 1; j >= 0; j--) {\n\t\t\t\t\tif (needsRemoving[j].layer === markers[i]) {\n\t\t\t\t\t\tthisNeedsRemoving = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (thisNeedsRemoving) {\n\t\t\t\t\tmethod.call(context, markers[i]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._nonPointGroup.eachLayer(method, context);\n\t\t},\n\n\t\t//Overrides LayerGroup.getLayers\n\t\tgetLayers: function () {\n\t\t\tvar layers = [];\n\t\t\tthis.eachLayer(function (l) {\n\t\t\t\tlayers.push(l);\n\t\t\t});\n\t\t\treturn layers;\n\t\t},\n\n\t\t//Overrides LayerGroup.getLayer, WARNING: Really bad performance\n\t\tgetLayer: function (id) {\n\t\t\tvar result = null;\n\n\t\t\tid = parseInt(id, 10);\n\n\t\t\tthis.eachLayer(function (l) {\n\t\t\t\tif (L.stamp(l) === id) {\n\t\t\t\t\tresult = l;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn result;\n\t\t},\n\n\t\t//Returns true if the given layer is in this MarkerClusterGroup\n\t\thasLayer: function (layer) {\n\t\t\tif (!layer) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar i, anArray = this._needsClustering;\n\n\t\t\tfor (i = anArray.length - 1; i >= 0; i--) {\n\t\t\t\tif (anArray[i] === layer) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tanArray = this._needsRemoving;\n\t\t\tfor (i = anArray.length - 1; i >= 0; i--) {\n\t\t\t\tif (anArray[i].layer === layer) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn !!(layer.__parent && layer.__parent._group === this) || this._nonPointGroup.hasLayer(layer);\n\t\t},\n\n\t\t//Zoom down to show the given layer (spiderfying if necessary) then calls the callback\n\t\tzoomToShowLayer: function (layer, callback) {\n\n\t\t\tvar map = this._map;\n\n\t\t\tif (typeof callback !== 'function') {\n\t\t\t\tcallback = function () {};\n\t\t\t}\n\n\t\t\tvar showMarker = function () {\n\t\t\t\t// Assumes that map.hasLayer checks for direct appearance on map, not recursively calling\n\t\t\t\t// hasLayer on Layer Groups that are on map (typically not calling this MarkerClusterGroup.hasLayer, which would always return true)\n\t\t\t\tif ((map.hasLayer(layer) || map.hasLayer(layer.__parent)) && !this._inZoomAnimation) {\n\t\t\t\t\tthis._map.off('moveend', showMarker, this);\n\t\t\t\t\tthis.off('animationend', showMarker, this);\n\n\t\t\t\t\tif (map.hasLayer(layer)) {\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t} else if (layer.__parent._icon) {\n\t\t\t\t\t\tthis.once('spiderfied', callback, this);\n\t\t\t\t\t\tlayer.__parent.spiderfy();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif (layer._icon && this._map.getBounds().contains(layer.getLatLng())) {\n\t\t\t\t//Layer is visible ond on screen, immediate return\n\t\t\t\tcallback();\n\t\t\t} else if (layer.__parent._zoom < Math.round(this._map._zoom)) {\n\t\t\t\t//Layer should be visible at this zoom level. It must not be on screen so just pan over to it\n\t\t\t\tthis._map.on('moveend', showMarker, this);\n\t\t\t\tthis._map.panTo(layer.getLatLng());\n\t\t\t} else {\n\t\t\t\tthis._map.on('moveend', showMarker, this);\n\t\t\t\tthis.on('animationend', showMarker, this);\n\t\t\t\tlayer.__parent.zoomToBounds();\n\t\t\t}\n\t\t},\n\n\t\t//Overrides FeatureGroup.onAdd\n\t\tonAdd: function (map) {\n\t\t\tthis._map = map;\n\t\t\tvar i, l, layer;\n\n\t\t\tif (!isFinite(this._map.getMaxZoom())) {\n\t\t\t\tthrow \"Map has no maxZoom specified\";\n\t\t\t}\n\n\t\t\tthis._featureGroup.addTo(map);\n\t\t\tthis._nonPointGroup.addTo(map);\n\n\t\t\tif (!this._gridClusters) {\n\t\t\t\tthis._generateInitialClusters();\n\t\t\t}\n\n\t\t\tthis._maxLat = map.options.crs.projection.MAX_LATITUDE;\n\n\t\t\t//Restore all the positions as they are in the MCG before removing them\n\t\t\tfor (i = 0, l = this._needsRemoving.length; i < l; i++) {\n\t\t\t\tlayer = this._needsRemoving[i];\n\t\t\t\tlayer.newlatlng = layer.layer._latlng;\n\t\t\t\tlayer.layer._latlng = layer.latlng;\n\t\t\t}\n\t\t\t//Remove them, then restore their new positions\n\t\t\tfor (i = 0, l = this._needsRemoving.length; i < l; i++) {\n\t\t\t\tlayer = this._needsRemoving[i];\n\t\t\t\tthis._removeLayer(layer.layer, true);\n\t\t\t\tlayer.layer._latlng = layer.newlatlng;\n\t\t\t}\n\t\t\tthis._needsRemoving = [];\n\n\t\t\t//Remember the current zoom level and bounds\n\t\t\tthis._zoom = Math.round(this._map._zoom);\n\t\t\tthis._currentShownBounds = this._getExpandedVisibleBounds();\n\n\t\t\tthis._map.on('zoomend', this._zoomEnd, this);\n\t\t\tthis._map.on('moveend', this._moveEnd, this);\n\n\t\t\tif (this._spiderfierOnAdd) { //TODO FIXME: Not sure how to have spiderfier add something on here nicely\n\t\t\t\tthis._spiderfierOnAdd();\n\t\t\t}\n\n\t\t\tthis._bindEvents();\n\n\t\t\t//Actually add our markers to the map:\n\t\t\tl = this._needsClustering;\n\t\t\tthis._needsClustering = [];\n\t\t\tthis.addLayers(l, true);\n\t\t},\n\n\t\t//Overrides FeatureGroup.onRemove\n\t\tonRemove: function (map) {\n\t\t\tmap.off('zoomend', this._zoomEnd, this);\n\t\t\tmap.off('moveend', this._moveEnd, this);\n\n\t\t\tthis._unbindEvents();\n\n\t\t\t//In case we are in a cluster animation\n\t\t\tthis._map._mapPane.className = this._map._mapPane.className.replace(' leaflet-cluster-anim', '');\n\n\t\t\tif (this._spiderfierOnRemove) { //TODO FIXME: Not sure how to have spiderfier add something on here nicely\n\t\t\t\tthis._spiderfierOnRemove();\n\t\t\t}\n\n\t\t\tdelete this._maxLat;\n\n\t\t\t//Clean up all the layers we added to the map\n\t\t\tthis._hideCoverage();\n\t\t\tthis._featureGroup.remove();\n\t\t\tthis._nonPointGroup.remove();\n\n\t\t\tthis._featureGroup.clearLayers();\n\n\t\t\tthis._map = null;\n\t\t},\n\n\t\tgetVisibleParent: function (marker) {\n\t\t\tvar vMarker = marker;\n\t\t\twhile (vMarker && !vMarker._icon) {\n\t\t\t\tvMarker = vMarker.__parent;\n\t\t\t}\n\t\t\treturn vMarker || null;\n\t\t},\n\n\t\t//Remove the given object from the given array\n\t\t_arraySplice: function (anArray, obj) {\n\t\t\tfor (var i = anArray.length - 1; i >= 0; i--) {\n\t\t\t\tif (anArray[i] === obj) {\n\t\t\t\t\tanArray.splice(i, 1);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Removes a marker from all _gridUnclustered zoom levels, starting at the supplied zoom.\n\t\t * @param marker to be removed from _gridUnclustered.\n\t\t * @param z integer bottom start zoom level (included)\n\t\t * @private\n\t\t */\n\t\t_removeFromGridUnclustered: function (marker, z) {\n\t\t\tvar map = this._map,\n\t\t\t    gridUnclustered = this._gridUnclustered,\n\t\t\t\tminZoom = Math.floor(this._map.getMinZoom());\n\n\t\t\tfor (; z >= minZoom; z--) {\n\t\t\t\tif (!gridUnclustered[z].removeObject(marker, map.project(marker.getLatLng(), z))) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_childMarkerDragStart: function (e) {\n\t\t\te.target.__dragStart = e.target._latlng;\n\t\t},\n\n\t\t_childMarkerMoved: function (e) {\n\t\t\tif (!this._ignoreMove && !e.target.__dragStart) {\n\t\t\t\tvar isPopupOpen = e.target._popup && e.target._popup.isOpen();\n\n\t\t\t\tthis._moveChild(e.target, e.oldLatLng, e.latlng);\n\n\t\t\t\tif (isPopupOpen) {\n\t\t\t\t\te.target.openPopup();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_moveChild: function (layer, from, to) {\n\t\t\tlayer._latlng = from;\n\t\t\tthis.removeLayer(layer);\n\n\t\t\tlayer._latlng = to;\n\t\t\tthis.addLayer(layer);\n\t\t},\n\n\t\t_childMarkerDragEnd: function (e) {\n\t\t\tvar dragStart = e.target.__dragStart;\n\t\t\tdelete e.target.__dragStart;\n\t\t\tif (dragStart) {\n\t\t\t\tthis._moveChild(e.target, dragStart, e.target._latlng);\n\t\t\t}\t\t\n\t\t},\n\n\n\t\t//Internal function for removing a marker from everything.\n\t\t//dontUpdateMap: set to true if you will handle updating the map manually (for bulk functions)\n\t\t_removeLayer: function (marker, removeFromDistanceGrid, dontUpdateMap) {\n\t\t\tvar gridClusters = this._gridClusters,\n\t\t\t\tgridUnclustered = this._gridUnclustered,\n\t\t\t\tfg = this._featureGroup,\n\t\t\t\tmap = this._map,\n\t\t\t\tminZoom = Math.floor(this._map.getMinZoom());\n\n\t\t\t//Remove the marker from distance clusters it might be in\n\t\t\tif (removeFromDistanceGrid) {\n\t\t\t\tthis._removeFromGridUnclustered(marker, this._maxZoom);\n\t\t\t}\n\n\t\t\t//Work our way up the clusters removing them as we go if required\n\t\t\tvar cluster = marker.__parent,\n\t\t\t\tmarkers = cluster._markers,\n\t\t\t\totherMarker;\n\n\t\t\t//Remove the marker from the immediate parents marker list\n\t\t\tthis._arraySplice(markers, marker);\n\n\t\t\twhile (cluster) {\n\t\t\t\tcluster._childCount--;\n\t\t\t\tcluster._boundsNeedUpdate = true;\n\n\t\t\t\tif (cluster._zoom < minZoom) {\n\t\t\t\t\t//Top level, do nothing\n\t\t\t\t\tbreak;\n\t\t\t\t} else if (removeFromDistanceGrid && cluster._childCount <= 1) { //Cluster no longer required\n\t\t\t\t\t//We need to push the other marker up to the parent\n\t\t\t\t\totherMarker = cluster._markers[0] === marker ? cluster._markers[1] : cluster._markers[0];\n\n\t\t\t\t\t//Update distance grid\n\t\t\t\t\tgridClusters[cluster._zoom].removeObject(cluster, map.project(cluster._cLatLng, cluster._zoom));\n\t\t\t\t\tgridUnclustered[cluster._zoom].addObject(otherMarker, map.project(otherMarker.getLatLng(), cluster._zoom));\n\n\t\t\t\t\t//Move otherMarker up to parent\n\t\t\t\t\tthis._arraySplice(cluster.__parent._childClusters, cluster);\n\t\t\t\t\tcluster.__parent._markers.push(otherMarker);\n\t\t\t\t\totherMarker.__parent = cluster.__parent;\n\n\t\t\t\t\tif (cluster._icon) {\n\t\t\t\t\t\t//Cluster is currently on the map, need to put the marker on the map instead\n\t\t\t\t\t\tfg.removeLayer(cluster);\n\t\t\t\t\t\tif (!dontUpdateMap) {\n\t\t\t\t\t\t\tfg.addLayer(otherMarker);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tcluster._iconNeedsUpdate = true;\n\t\t\t\t}\n\n\t\t\t\tcluster = cluster.__parent;\n\t\t\t}\n\n\t\t\tdelete marker.__parent;\n\t\t},\n\n\t\t_isOrIsParent: function (el, oel) {\n\t\t\twhile (oel) {\n\t\t\t\tif (el === oel) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\toel = oel.parentNode;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\t//Override L.Evented.fire\n\t\tfire: function (type, data, propagate) {\n\t\t\tif (data && data.layer instanceof L.MarkerCluster) {\n\t\t\t\t//Prevent multiple clustermouseover/off events if the icon is made up of stacked divs (Doesn't work in ie <= 8, no relatedTarget)\n\t\t\t\tif (data.originalEvent && this._isOrIsParent(data.layer._icon, data.originalEvent.relatedTarget)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\ttype = 'cluster' + type;\n\t\t\t}\n\n\t\t\tL.FeatureGroup.prototype.fire.call(this, type, data, propagate);\n\t\t},\n\n\t\t//Override L.Evented.listens\n\t\tlistens: function (type, propagate) {\n\t\t\treturn L.FeatureGroup.prototype.listens.call(this, type, propagate) || L.FeatureGroup.prototype.listens.call(this, 'cluster' + type, propagate);\n\t\t},\n\n\t\t//Default functionality\n\t\t_defaultIconCreateFunction: function (cluster) {\n\t\t\tvar childCount = cluster.getChildCount();\n\n\t\t\tvar c = ' marker-cluster-';\n\t\t\tif (childCount < 10) {\n\t\t\t\tc += 'small';\n\t\t\t} else if (childCount < 100) {\n\t\t\t\tc += 'medium';\n\t\t\t} else {\n\t\t\t\tc += 'large';\n\t\t\t}\n\n\t\t\treturn new L.DivIcon({ html: '<div><span>' + childCount + '</span></div>', className: 'marker-cluster' + c, iconSize: new L.Point(40, 40) });\n\t\t},\n\n\t\t_bindEvents: function () {\n\t\t\tvar map = this._map,\n\t\t\t    spiderfyOnMaxZoom = this.options.spiderfyOnMaxZoom,\n\t\t\t    showCoverageOnHover = this.options.showCoverageOnHover,\n\t\t\t    zoomToBoundsOnClick = this.options.zoomToBoundsOnClick,\n\t\t\t    spiderfyOnEveryZoom = this.options.spiderfyOnEveryZoom;\n\n\t\t\t//Zoom on cluster click or spiderfy if we are at the lowest level\n\t\t\tif (spiderfyOnMaxZoom || zoomToBoundsOnClick || spiderfyOnEveryZoom) {\n\t\t\t\tthis.on('clusterclick clusterkeypress', this._zoomOrSpiderfy, this);\n\t\t\t}\n\n\t\t\t//Show convex hull (boundary) polygon on mouse over\n\t\t\tif (showCoverageOnHover) {\n\t\t\t\tthis.on('clustermouseover', this._showCoverage, this);\n\t\t\t\tthis.on('clustermouseout', this._hideCoverage, this);\n\t\t\t\tmap.on('zoomend', this._hideCoverage, this);\n\t\t\t}\n\t\t},\n\n\t\t_zoomOrSpiderfy: function (e) {\n\t\t\tvar cluster = e.layer,\n\t\t\t    bottomCluster = cluster;\n\n\t\t\tif (e.type === 'clusterkeypress' && e.originalEvent && e.originalEvent.keyCode !== 13) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\twhile (bottomCluster._childClusters.length === 1) {\n\t\t\t\tbottomCluster = bottomCluster._childClusters[0];\n\t\t\t}\n\n\t\t\tif (bottomCluster._zoom === this._maxZoom &&\n\t\t\t\tbottomCluster._childCount === cluster._childCount &&\n\t\t\t\tthis.options.spiderfyOnMaxZoom) {\n\n\t\t\t\t// All child markers are contained in a single cluster from this._maxZoom to this cluster.\n\t\t\t\tcluster.spiderfy();\n\t\t\t} else if (this.options.zoomToBoundsOnClick) {\n\t\t\t\tcluster.zoomToBounds();\n\t\t\t}\n\n\t\t\tif (this.options.spiderfyOnEveryZoom) {\n\t\t\t\tcluster.spiderfy();\n\t\t\t}\n\n\t\t\t// Focus the map again for keyboard users.\n\t\t\tif (e.originalEvent && e.originalEvent.keyCode === 13) {\n\t\t\t\tthis._map._container.focus();\n\t\t\t}\n\t\t},\n\n\t\t_showCoverage: function (e) {\n\t\t\tvar map = this._map;\n\t\t\tif (this._inZoomAnimation) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this._shownPolygon) {\n\t\t\t\tmap.removeLayer(this._shownPolygon);\n\t\t\t}\n\t\t\tif (e.layer.getChildCount() > 2 && e.layer !== this._spiderfied) {\n\t\t\t\tthis._shownPolygon = new L.Polygon(e.layer.getConvexHull(), this.options.polygonOptions);\n\t\t\t\tmap.addLayer(this._shownPolygon);\n\t\t\t}\n\t\t},\n\n\t\t_hideCoverage: function () {\n\t\t\tif (this._shownPolygon) {\n\t\t\t\tthis._map.removeLayer(this._shownPolygon);\n\t\t\t\tthis._shownPolygon = null;\n\t\t\t}\n\t\t},\n\n\t\t_unbindEvents: function () {\n\t\t\tvar spiderfyOnMaxZoom = this.options.spiderfyOnMaxZoom,\n\t\t\t\tshowCoverageOnHover = this.options.showCoverageOnHover,\n\t\t\t\tzoomToBoundsOnClick = this.options.zoomToBoundsOnClick,\n\t\t\t\tspiderfyOnEveryZoom = this.options.spiderfyOnEveryZoom,\n\t\t\t\tmap = this._map;\n\n\t\t\tif (spiderfyOnMaxZoom || zoomToBoundsOnClick || spiderfyOnEveryZoom) {\n\t\t\t\tthis.off('clusterclick clusterkeypress', this._zoomOrSpiderfy, this);\n\t\t\t}\n\t\t\tif (showCoverageOnHover) {\n\t\t\t\tthis.off('clustermouseover', this._showCoverage, this);\n\t\t\t\tthis.off('clustermouseout', this._hideCoverage, this);\n\t\t\t\tmap.off('zoomend', this._hideCoverage, this);\n\t\t\t}\n\t\t},\n\n\t\t_zoomEnd: function () {\n\t\t\tif (!this._map) { //May have been removed from the map by a zoomEnd handler\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._mergeSplitClusters();\n\n\t\t\tthis._zoom = Math.round(this._map._zoom);\n\t\t\tthis._currentShownBounds = this._getExpandedVisibleBounds();\n\t\t},\n\n\t\t_moveEnd: function () {\n\t\t\tif (this._inZoomAnimation) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar newBounds = this._getExpandedVisibleBounds();\n\n\t\t\tthis._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds, Math.floor(this._map.getMinZoom()), this._zoom, newBounds);\n\t\t\tthis._topClusterLevel._recursivelyAddChildrenToMap(null, Math.round(this._map._zoom), newBounds);\n\n\t\t\tthis._currentShownBounds = newBounds;\n\t\t\treturn;\n\t\t},\n\n\t\t_generateInitialClusters: function () {\n\t\t\tvar maxZoom = Math.ceil(this._map.getMaxZoom()),\n\t\t\t\tminZoom = Math.floor(this._map.getMinZoom()),\n\t\t\t\tradius = this.options.maxClusterRadius,\n\t\t\t\tradiusFn = radius;\n\n\t\t\t//If we just set maxClusterRadius to a single number, we need to create\n\t\t\t//a simple function to return that number. Otherwise, we just have to\n\t\t\t//use the function we've passed in.\n\t\t\tif (typeof radius !== \"function\") {\n\t\t\t\tradiusFn = function () { return radius; };\n\t\t\t}\n\n\t\t\tif (this.options.disableClusteringAtZoom !== null) {\n\t\t\t\tmaxZoom = this.options.disableClusteringAtZoom - 1;\n\t\t\t}\n\t\t\tthis._maxZoom = maxZoom;\n\t\t\tthis._gridClusters = {};\n\t\t\tthis._gridUnclustered = {};\n\n\t\t\t//Set up DistanceGrids for each zoom\n\t\t\tfor (var zoom = maxZoom; zoom >= minZoom; zoom--) {\n\t\t\t\tthis._gridClusters[zoom] = new L.DistanceGrid(radiusFn(zoom));\n\t\t\t\tthis._gridUnclustered[zoom] = new L.DistanceGrid(radiusFn(zoom));\n\t\t\t}\n\n\t\t\t// Instantiate the appropriate L.MarkerCluster class (animated or not).\n\t\t\tthis._topClusterLevel = new this._markerCluster(this, minZoom - 1);\n\t\t},\n\n\t\t//Zoom: Zoom to start adding at (Pass this._maxZoom to start at the bottom)\n\t\t_addLayer: function (layer, zoom) {\n\t\t\tvar gridClusters = this._gridClusters,\n\t\t\t    gridUnclustered = this._gridUnclustered,\n\t\t\t\tminZoom = Math.floor(this._map.getMinZoom()),\n\t\t\t    markerPoint, z;\n\n\t\t\tif (this.options.singleMarkerMode) {\n\t\t\t\tthis._overrideMarkerIcon(layer);\n\t\t\t}\n\n\t\t\tlayer.on(this._childMarkerEventHandlers, this);\n\n\t\t\t//Find the lowest zoom level to slot this one in\n\t\t\tfor (; zoom >= minZoom; zoom--) {\n\t\t\t\tmarkerPoint = this._map.project(layer.getLatLng(), zoom); // calculate pixel position\n\n\t\t\t\t//Try find a cluster close by\n\t\t\t\tvar closest = gridClusters[zoom].getNearObject(markerPoint);\n\t\t\t\tif (closest) {\n\t\t\t\t\tclosest._addChild(layer);\n\t\t\t\t\tlayer.__parent = closest;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t//Try find a marker close by to form a new cluster with\n\t\t\t\tclosest = gridUnclustered[zoom].getNearObject(markerPoint);\n\t\t\t\tif (closest) {\n\t\t\t\t\tvar parent = closest.__parent;\n\t\t\t\t\tif (parent) {\n\t\t\t\t\t\tthis._removeLayer(closest, false);\n\t\t\t\t\t}\n\n\t\t\t\t\t//Create new cluster with these 2 in it\n\n\t\t\t\t\tvar newCluster = new this._markerCluster(this, zoom, closest, layer);\n\t\t\t\t\tgridClusters[zoom].addObject(newCluster, this._map.project(newCluster._cLatLng, zoom));\n\t\t\t\t\tclosest.__parent = newCluster;\n\t\t\t\t\tlayer.__parent = newCluster;\n\n\t\t\t\t\t//First create any new intermediate parent clusters that don't exist\n\t\t\t\t\tvar lastParent = newCluster;\n\t\t\t\t\tfor (z = zoom - 1; z > parent._zoom; z--) {\n\t\t\t\t\t\tlastParent = new this._markerCluster(this, z, lastParent);\n\t\t\t\t\t\tgridClusters[z].addObject(lastParent, this._map.project(closest.getLatLng(), z));\n\t\t\t\t\t}\n\t\t\t\t\tparent._addChild(lastParent);\n\n\t\t\t\t\t//Remove closest from this zoom level and any above that it is in, replace with newCluster\n\t\t\t\t\tthis._removeFromGridUnclustered(closest, zoom);\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t//Didn't manage to cluster in at this zoom, record us as a marker here and continue upwards\n\t\t\t\tgridUnclustered[zoom].addObject(layer, markerPoint);\n\t\t\t}\n\n\t\t\t//Didn't get in anything, add us to the top\n\t\t\tthis._topClusterLevel._addChild(layer);\n\t\t\tlayer.__parent = this._topClusterLevel;\n\t\t\treturn;\n\t\t},\n\n\t\t/**\n\t\t * Refreshes the icon of all \"dirty\" visible clusters.\n\t\t * Non-visible \"dirty\" clusters will be updated when they are added to the map.\n\t\t * @private\n\t\t */\n\t\t_refreshClustersIcons: function () {\n\t\t\tthis._featureGroup.eachLayer(function (c) {\n\t\t\t\tif (c instanceof L.MarkerCluster && c._iconNeedsUpdate) {\n\t\t\t\t\tc._updateIcon();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t//Enqueue code to fire after the marker expand/contract has happened\n\t\t_enqueue: function (fn) {\n\t\t\tthis._queue.push(fn);\n\t\t\tif (!this._queueTimeout) {\n\t\t\t\tthis._queueTimeout = setTimeout(L.bind(this._processQueue, this), 300);\n\t\t\t}\n\t\t},\n\t\t_processQueue: function () {\n\t\t\tfor (var i = 0; i < this._queue.length; i++) {\n\t\t\t\tthis._queue[i].call(this);\n\t\t\t}\n\t\t\tthis._queue.length = 0;\n\t\t\tclearTimeout(this._queueTimeout);\n\t\t\tthis._queueTimeout = null;\n\t\t},\n\n\t\t//Merge and split any existing clusters that are too big or small\n\t\t_mergeSplitClusters: function () {\n\t\t\tvar mapZoom = Math.round(this._map._zoom);\n\n\t\t\t//In case we are starting to split before the animation finished\n\t\t\tthis._processQueue();\n\n\t\t\tif (this._zoom < mapZoom && this._currentShownBounds.intersects(this._getExpandedVisibleBounds())) { //Zoom in, split\n\t\t\t\tthis._animationStart();\n\t\t\t\t//Remove clusters now off screen\n\t\t\t\tthis._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds, Math.floor(this._map.getMinZoom()), this._zoom, this._getExpandedVisibleBounds());\n\n\t\t\t\tthis._animationZoomIn(this._zoom, mapZoom);\n\n\t\t\t} else if (this._zoom > mapZoom) { //Zoom out, merge\n\t\t\t\tthis._animationStart();\n\n\t\t\t\tthis._animationZoomOut(this._zoom, mapZoom);\n\t\t\t} else {\n\t\t\t\tthis._moveEnd();\n\t\t\t}\n\t\t},\n\n\t\t//Gets the maps visible bounds expanded in each direction by the size of the screen (so the user cannot see an area we do not cover in one pan)\n\t\t_getExpandedVisibleBounds: function () {\n\t\t\tif (!this.options.removeOutsideVisibleBounds) {\n\t\t\t\treturn this._mapBoundsInfinite;\n\t\t\t} else if (L.Browser.mobile) {\n\t\t\t\treturn this._checkBoundsMaxLat(this._map.getBounds());\n\t\t\t}\n\n\t\t\treturn this._checkBoundsMaxLat(this._map.getBounds().pad(1)); // Padding expands the bounds by its own dimensions but scaled with the given factor.\n\t\t},\n\n\t\t/**\n\t\t * Expands the latitude to Infinity (or -Infinity) if the input bounds reach the map projection maximum defined latitude\n\t\t * (in the case of Web/Spherical Mercator, it is 85.0511287798 / see https://en.wikipedia.org/wiki/Web_Mercator#Formulas).\n\t\t * Otherwise, the removeOutsideVisibleBounds option will remove markers beyond that limit, whereas the same markers without\n\t\t * this option (or outside MCG) will have their position floored (ceiled) by the projection and rendered at that limit,\n\t\t * making the user think that MCG \"eats\" them and never displays them again.\n\t\t * @param bounds L.LatLngBounds\n\t\t * @returns {L.LatLngBounds}\n\t\t * @private\n\t\t */\n\t\t_checkBoundsMaxLat: function (bounds) {\n\t\t\tvar maxLat = this._maxLat;\n\n\t\t\tif (maxLat !== undefined) {\n\t\t\t\tif (bounds.getNorth() >= maxLat) {\n\t\t\t\t\tbounds._northEast.lat = Infinity;\n\t\t\t\t}\n\t\t\t\tif (bounds.getSouth() <= -maxLat) {\n\t\t\t\t\tbounds._southWest.lat = -Infinity;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn bounds;\n\t\t},\n\n\t\t//Shared animation code\n\t\t_animationAddLayerNonAnimated: function (layer, newCluster) {\n\t\t\tif (newCluster === layer) {\n\t\t\t\tthis._featureGroup.addLayer(layer);\n\t\t\t} else if (newCluster._childCount === 2) {\n\t\t\t\tnewCluster._addToMap();\n\n\t\t\t\tvar markers = newCluster.getAllChildMarkers();\n\t\t\t\tthis._featureGroup.removeLayer(markers[0]);\n\t\t\t\tthis._featureGroup.removeLayer(markers[1]);\n\t\t\t} else {\n\t\t\t\tnewCluster._updateIcon();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Extracts individual (i.e. non-group) layers from a Layer Group.\n\t\t * @param group to extract layers from.\n\t\t * @param output {Array} in which to store the extracted layers.\n\t\t * @returns {*|Array}\n\t\t * @private\n\t\t */\n\t\t_extractNonGroupLayers: function (group, output) {\n\t\t\tvar layers = group.getLayers(),\n\t\t\t    i = 0,\n\t\t\t    layer;\n\n\t\t\toutput = output || [];\n\n\t\t\tfor (; i < layers.length; i++) {\n\t\t\t\tlayer = layers[i];\n\n\t\t\t\tif (layer instanceof L.LayerGroup) {\n\t\t\t\t\tthis._extractNonGroupLayers(layer, output);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\toutput.push(layer);\n\t\t\t}\n\n\t\t\treturn output;\n\t\t},\n\n\t\t/**\n\t\t * Implements the singleMarkerMode option.\n\t\t * @param layer Marker to re-style using the Clusters iconCreateFunction.\n\t\t * @returns {L.Icon} The newly created icon.\n\t\t * @private\n\t\t */\n\t\t_overrideMarkerIcon: function (layer) {\n\t\t\tvar icon = layer.options.icon = this.options.iconCreateFunction({\n\t\t\t\tgetChildCount: function () {\n\t\t\t\t\treturn 1;\n\t\t\t\t},\n\t\t\t\tgetAllChildMarkers: function () {\n\t\t\t\t\treturn [layer];\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn icon;\n\t\t}\n\t});\n\n\t// Constant bounds used in case option \"removeOutsideVisibleBounds\" is set to false.\n\tL.MarkerClusterGroup.include({\n\t\t_mapBoundsInfinite: new L.LatLngBounds(new L.LatLng(-Infinity, -Infinity), new L.LatLng(Infinity, Infinity))\n\t});\n\n\tL.MarkerClusterGroup.include({\n\t\t_noAnimation: {\n\t\t\t//Non Animated versions of everything\n\t\t\t_animationStart: function () {\n\t\t\t\t//Do nothing...\n\t\t\t},\n\t\t\t_animationZoomIn: function (previousZoomLevel, newZoomLevel) {\n\t\t\t\tthis._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds, Math.floor(this._map.getMinZoom()), previousZoomLevel);\n\t\t\t\tthis._topClusterLevel._recursivelyAddChildrenToMap(null, newZoomLevel, this._getExpandedVisibleBounds());\n\n\t\t\t\t//We didn't actually animate, but we use this event to mean \"clustering animations have finished\"\n\t\t\t\tthis.fire('animationend');\n\t\t\t},\n\t\t\t_animationZoomOut: function (previousZoomLevel, newZoomLevel) {\n\t\t\t\tthis._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds, Math.floor(this._map.getMinZoom()), previousZoomLevel);\n\t\t\t\tthis._topClusterLevel._recursivelyAddChildrenToMap(null, newZoomLevel, this._getExpandedVisibleBounds());\n\n\t\t\t\t//We didn't actually animate, but we use this event to mean \"clustering animations have finished\"\n\t\t\t\tthis.fire('animationend');\n\t\t\t},\n\t\t\t_animationAddLayer: function (layer, newCluster) {\n\t\t\t\tthis._animationAddLayerNonAnimated(layer, newCluster);\n\t\t\t}\n\t\t},\n\n\t\t_withAnimation: {\n\t\t\t//Animated versions here\n\t\t\t_animationStart: function () {\n\t\t\t\tthis._map._mapPane.className += ' leaflet-cluster-anim';\n\t\t\t\tthis._inZoomAnimation++;\n\t\t\t},\n\n\t\t\t_animationZoomIn: function (previousZoomLevel, newZoomLevel) {\n\t\t\t\tvar bounds = this._getExpandedVisibleBounds(),\n\t\t\t\t    fg = this._featureGroup,\n\t\t\t\t\tminZoom = Math.floor(this._map.getMinZoom()),\n\t\t\t\t    i;\n\n\t\t\t\tthis._ignoreMove = true;\n\n\t\t\t\t//Add all children of current clusters to map and remove those clusters from map\n\t\t\t\tthis._topClusterLevel._recursively(bounds, previousZoomLevel, minZoom, function (c) {\n\t\t\t\t\tvar startPos = c._latlng,\n\t\t\t\t\t    markers  = c._markers,\n\t\t\t\t\t    m;\n\n\t\t\t\t\tif (!bounds.contains(startPos)) {\n\t\t\t\t\t\tstartPos = null;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (c._isSingleParent() && previousZoomLevel + 1 === newZoomLevel) { //Immediately add the new child and remove us\n\t\t\t\t\t\tfg.removeLayer(c);\n\t\t\t\t\t\tc._recursivelyAddChildrenToMap(null, newZoomLevel, bounds);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//Fade out old cluster\n\t\t\t\t\t\tc.clusterHide();\n\t\t\t\t\t\tc._recursivelyAddChildrenToMap(startPos, newZoomLevel, bounds);\n\t\t\t\t\t}\n\n\t\t\t\t\t//Remove all markers that aren't visible any more\n\t\t\t\t\t//TODO: Do we actually need to do this on the higher levels too?\n\t\t\t\t\tfor (i = markers.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tm = markers[i];\n\t\t\t\t\t\tif (!bounds.contains(m._latlng)) {\n\t\t\t\t\t\t\tfg.removeLayer(m);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t});\n\n\t\t\t\tthis._forceLayout();\n\n\t\t\t\t//Update opacities\n\t\t\t\tthis._topClusterLevel._recursivelyBecomeVisible(bounds, newZoomLevel);\n\t\t\t\t//TODO Maybe? Update markers in _recursivelyBecomeVisible\n\t\t\t\tfg.eachLayer(function (n) {\n\t\t\t\t\tif (!(n instanceof L.MarkerCluster) && n._icon) {\n\t\t\t\t\t\tn.clusterShow();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t//update the positions of the just added clusters/markers\n\t\t\t\tthis._topClusterLevel._recursively(bounds, previousZoomLevel, newZoomLevel, function (c) {\n\t\t\t\t\tc._recursivelyRestoreChildPositions(newZoomLevel);\n\t\t\t\t});\n\n\t\t\t\tthis._ignoreMove = false;\n\n\t\t\t\t//Remove the old clusters and close the zoom animation\n\t\t\t\tthis._enqueue(function () {\n\t\t\t\t\t//update the positions of the just added clusters/markers\n\t\t\t\t\tthis._topClusterLevel._recursively(bounds, previousZoomLevel, minZoom, function (c) {\n\t\t\t\t\t\tfg.removeLayer(c);\n\t\t\t\t\t\tc.clusterShow();\n\t\t\t\t\t});\n\n\t\t\t\t\tthis._animationEnd();\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t_animationZoomOut: function (previousZoomLevel, newZoomLevel) {\n\t\t\t\tthis._animationZoomOutSingle(this._topClusterLevel, previousZoomLevel - 1, newZoomLevel);\n\n\t\t\t\t//Need to add markers for those that weren't on the map before but are now\n\t\t\t\tthis._topClusterLevel._recursivelyAddChildrenToMap(null, newZoomLevel, this._getExpandedVisibleBounds());\n\t\t\t\t//Remove markers that were on the map before but won't be now\n\t\t\t\tthis._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds, Math.floor(this._map.getMinZoom()), previousZoomLevel, this._getExpandedVisibleBounds());\n\t\t\t},\n\n\t\t\t_animationAddLayer: function (layer, newCluster) {\n\t\t\t\tvar me = this,\n\t\t\t\t    fg = this._featureGroup;\n\n\t\t\t\tfg.addLayer(layer);\n\t\t\t\tif (newCluster !== layer) {\n\t\t\t\t\tif (newCluster._childCount > 2) { //Was already a cluster\n\n\t\t\t\t\t\tnewCluster._updateIcon();\n\t\t\t\t\t\tthis._forceLayout();\n\t\t\t\t\t\tthis._animationStart();\n\n\t\t\t\t\t\tlayer._setPos(this._map.latLngToLayerPoint(newCluster.getLatLng()));\n\t\t\t\t\t\tlayer.clusterHide();\n\n\t\t\t\t\t\tthis._enqueue(function () {\n\t\t\t\t\t\t\tfg.removeLayer(layer);\n\t\t\t\t\t\t\tlayer.clusterShow();\n\n\t\t\t\t\t\t\tme._animationEnd();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t} else { //Just became a cluster\n\t\t\t\t\t\tthis._forceLayout();\n\n\t\t\t\t\t\tme._animationStart();\n\t\t\t\t\t\tme._animationZoomOutSingle(newCluster, this._map.getMaxZoom(), this._zoom);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Private methods for animated versions.\n\t\t_animationZoomOutSingle: function (cluster, previousZoomLevel, newZoomLevel) {\n\t\t\tvar bounds = this._getExpandedVisibleBounds(),\n\t\t\t\tminZoom = Math.floor(this._map.getMinZoom());\n\n\t\t\t//Animate all of the markers in the clusters to move to their cluster center point\n\t\t\tcluster._recursivelyAnimateChildrenInAndAddSelfToMap(bounds, minZoom, previousZoomLevel + 1, newZoomLevel);\n\n\t\t\tvar me = this;\n\n\t\t\t//Update the opacity (If we immediately set it they won't animate)\n\t\t\tthis._forceLayout();\n\t\t\tcluster._recursivelyBecomeVisible(bounds, newZoomLevel);\n\n\t\t\t//TODO: Maybe use the transition timing stuff to make this more reliable\n\t\t\t//When the animations are done, tidy up\n\t\t\tthis._enqueue(function () {\n\n\t\t\t\t//This cluster stopped being a cluster before the timeout fired\n\t\t\t\tif (cluster._childCount === 1) {\n\t\t\t\t\tvar m = cluster._markers[0];\n\t\t\t\t\t//If we were in a cluster animation at the time then the opacity and position of our child could be wrong now, so fix it\n\t\t\t\t\tthis._ignoreMove = true;\n\t\t\t\t\tm.setLatLng(m.getLatLng());\n\t\t\t\t\tthis._ignoreMove = false;\n\t\t\t\t\tif (m.clusterShow) {\n\t\t\t\t\t\tm.clusterShow();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tcluster._recursively(bounds, newZoomLevel, minZoom, function (c) {\n\t\t\t\t\t\tc._recursivelyRemoveChildrenFromMap(bounds, minZoom, previousZoomLevel + 1);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tme._animationEnd();\n\t\t\t});\n\t\t},\n\n\t\t_animationEnd: function () {\n\t\t\tif (this._map) {\n\t\t\t\tthis._map._mapPane.className = this._map._mapPane.className.replace(' leaflet-cluster-anim', '');\n\t\t\t}\n\t\t\tthis._inZoomAnimation--;\n\t\t\tthis.fire('animationend');\n\t\t},\n\n\t\t//Force a browser layout of stuff in the map\n\t\t// Should apply the current opacity and location to all elements so we can update them again for an animation\n\t\t_forceLayout: function () {\n\t\t\t//In my testing this works, infact offsetWidth of any element seems to work.\n\t\t\t//Could loop all this._layers and do this for each _icon if it stops working\n\n\t\t\tL.Util.falseFn(document.body.offsetWidth);\n\t\t}\n\t});\n\n\tL.markerClusterGroup = function (options) {\n\t\treturn new L.MarkerClusterGroup(options);\n\t};\n\n\tvar MarkerCluster = L.MarkerCluster = L.Marker.extend({\n\t\toptions: L.Icon.prototype.options,\n\n\t\tinitialize: function (group, zoom, a, b) {\n\n\t\t\tL.Marker.prototype.initialize.call(this, a ? (a._cLatLng || a.getLatLng()) : new L.LatLng(0, 0),\n\t            { icon: this, pane: group.options.clusterPane });\n\n\t\t\tthis._group = group;\n\t\t\tthis._zoom = zoom;\n\n\t\t\tthis._markers = [];\n\t\t\tthis._childClusters = [];\n\t\t\tthis._childCount = 0;\n\t\t\tthis._iconNeedsUpdate = true;\n\t\t\tthis._boundsNeedUpdate = true;\n\n\t\t\tthis._bounds = new L.LatLngBounds();\n\n\t\t\tif (a) {\n\t\t\t\tthis._addChild(a);\n\t\t\t}\n\t\t\tif (b) {\n\t\t\t\tthis._addChild(b);\n\t\t\t}\n\t\t},\n\n\t\t//Recursively retrieve all child markers of this cluster\n\t\tgetAllChildMarkers: function (storageArray, ignoreDraggedMarker) {\n\t\t\tstorageArray = storageArray || [];\n\n\t\t\tfor (var i = this._childClusters.length - 1; i >= 0; i--) {\n\t\t\t\tthis._childClusters[i].getAllChildMarkers(storageArray, ignoreDraggedMarker);\n\t\t\t}\n\n\t\t\tfor (var j = this._markers.length - 1; j >= 0; j--) {\n\t\t\t\tif (ignoreDraggedMarker && this._markers[j].__dragStart) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstorageArray.push(this._markers[j]);\n\t\t\t}\n\n\t\t\treturn storageArray;\n\t\t},\n\n\t\t//Returns the count of how many child markers we have\n\t\tgetChildCount: function () {\n\t\t\treturn this._childCount;\n\t\t},\n\n\t\t//Zoom to the minimum of showing all of the child markers, or the extents of this cluster\n\t\tzoomToBounds: function (fitBoundsOptions) {\n\t\t\tvar childClusters = this._childClusters.slice(),\n\t\t\t\tmap = this._group._map,\n\t\t\t\tboundsZoom = map.getBoundsZoom(this._bounds),\n\t\t\t\tzoom = this._zoom + 1,\n\t\t\t\tmapZoom = map.getZoom(),\n\t\t\t\ti;\n\n\t\t\t//calculate how far we need to zoom down to see all of the markers\n\t\t\twhile (childClusters.length > 0 && boundsZoom > zoom) {\n\t\t\t\tzoom++;\n\t\t\t\tvar newClusters = [];\n\t\t\t\tfor (i = 0; i < childClusters.length; i++) {\n\t\t\t\t\tnewClusters = newClusters.concat(childClusters[i]._childClusters);\n\t\t\t\t}\n\t\t\t\tchildClusters = newClusters;\n\t\t\t}\n\n\t\t\tif (boundsZoom > zoom) {\n\t\t\t\tthis._group._map.setView(this._latlng, zoom);\n\t\t\t} else if (boundsZoom <= mapZoom) { //If fitBounds wouldn't zoom us down, zoom us down instead\n\t\t\t\tthis._group._map.setView(this._latlng, mapZoom + 1);\n\t\t\t} else {\n\t\t\t\tthis._group._map.fitBounds(this._bounds, fitBoundsOptions);\n\t\t\t}\n\t\t},\n\n\t\tgetBounds: function () {\n\t\t\tvar bounds = new L.LatLngBounds();\n\t\t\tbounds.extend(this._bounds);\n\t\t\treturn bounds;\n\t\t},\n\n\t\t_updateIcon: function () {\n\t\t\tthis._iconNeedsUpdate = true;\n\t\t\tif (this._icon) {\n\t\t\t\tthis.setIcon(this);\n\t\t\t}\n\t\t},\n\n\t\t//Cludge for Icon, we pretend to be an icon for performance\n\t\tcreateIcon: function () {\n\t\t\tif (this._iconNeedsUpdate) {\n\t\t\t\tthis._iconObj = this._group.options.iconCreateFunction(this);\n\t\t\t\tthis._iconNeedsUpdate = false;\n\t\t\t}\n\t\t\treturn this._iconObj.createIcon();\n\t\t},\n\t\tcreateShadow: function () {\n\t\t\treturn this._iconObj.createShadow();\n\t\t},\n\n\n\t\t_addChild: function (new1, isNotificationFromChild) {\n\n\t\t\tthis._iconNeedsUpdate = true;\n\n\t\t\tthis._boundsNeedUpdate = true;\n\t\t\tthis._setClusterCenter(new1);\n\n\t\t\tif (new1 instanceof L.MarkerCluster) {\n\t\t\t\tif (!isNotificationFromChild) {\n\t\t\t\t\tthis._childClusters.push(new1);\n\t\t\t\t\tnew1.__parent = this;\n\t\t\t\t}\n\t\t\t\tthis._childCount += new1._childCount;\n\t\t\t} else {\n\t\t\t\tif (!isNotificationFromChild) {\n\t\t\t\t\tthis._markers.push(new1);\n\t\t\t\t}\n\t\t\t\tthis._childCount++;\n\t\t\t}\n\n\t\t\tif (this.__parent) {\n\t\t\t\tthis.__parent._addChild(new1, true);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Makes sure the cluster center is set. If not, uses the child center if it is a cluster, or the marker position.\n\t\t * @param child L.MarkerCluster|L.Marker that will be used as cluster center if not defined yet.\n\t\t * @private\n\t\t */\n\t\t_setClusterCenter: function (child) {\n\t\t\tif (!this._cLatLng) {\n\t\t\t\t// when clustering, take position of the first point as the cluster center\n\t\t\t\tthis._cLatLng = child._cLatLng || child._latlng;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Assigns impossible bounding values so that the next extend entirely determines the new bounds.\n\t\t * This method avoids having to trash the previous L.LatLngBounds object and to create a new one, which is much slower for this class.\n\t\t * As long as the bounds are not extended, most other methods would probably fail, as they would with bounds initialized but not extended.\n\t\t * @private\n\t\t */\n\t\t_resetBounds: function () {\n\t\t\tvar bounds = this._bounds;\n\n\t\t\tif (bounds._southWest) {\n\t\t\t\tbounds._southWest.lat = Infinity;\n\t\t\t\tbounds._southWest.lng = Infinity;\n\t\t\t}\n\t\t\tif (bounds._northEast) {\n\t\t\t\tbounds._northEast.lat = -Infinity;\n\t\t\t\tbounds._northEast.lng = -Infinity;\n\t\t\t}\n\t\t},\n\n\t\t_recalculateBounds: function () {\n\t\t\tvar markers = this._markers,\n\t\t\t    childClusters = this._childClusters,\n\t\t\t    latSum = 0,\n\t\t\t    lngSum = 0,\n\t\t\t    totalCount = this._childCount,\n\t\t\t    i, child, childLatLng, childCount;\n\n\t\t\t// Case where all markers are removed from the map and we are left with just an empty _topClusterLevel.\n\t\t\tif (totalCount === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Reset rather than creating a new object, for performance.\n\t\t\tthis._resetBounds();\n\n\t\t\t// Child markers.\n\t\t\tfor (i = 0; i < markers.length; i++) {\n\t\t\t\tchildLatLng = markers[i]._latlng;\n\n\t\t\t\tthis._bounds.extend(childLatLng);\n\n\t\t\t\tlatSum += childLatLng.lat;\n\t\t\t\tlngSum += childLatLng.lng;\n\t\t\t}\n\n\t\t\t// Child clusters.\n\t\t\tfor (i = 0; i < childClusters.length; i++) {\n\t\t\t\tchild = childClusters[i];\n\n\t\t\t\t// Re-compute child bounds and weighted position first if necessary.\n\t\t\t\tif (child._boundsNeedUpdate) {\n\t\t\t\t\tchild._recalculateBounds();\n\t\t\t\t}\n\n\t\t\t\tthis._bounds.extend(child._bounds);\n\n\t\t\t\tchildLatLng = child._wLatLng;\n\t\t\t\tchildCount = child._childCount;\n\n\t\t\t\tlatSum += childLatLng.lat * childCount;\n\t\t\t\tlngSum += childLatLng.lng * childCount;\n\t\t\t}\n\n\t\t\tthis._latlng = this._wLatLng = new L.LatLng(latSum / totalCount, lngSum / totalCount);\n\n\t\t\t// Reset dirty flag.\n\t\t\tthis._boundsNeedUpdate = false;\n\t\t},\n\n\t\t//Set our markers position as given and add it to the map\n\t\t_addToMap: function (startPos) {\n\t\t\tif (startPos) {\n\t\t\t\tthis._backupLatlng = this._latlng;\n\t\t\t\tthis.setLatLng(startPos);\n\t\t\t}\n\t\t\tthis._group._featureGroup.addLayer(this);\n\t\t},\n\n\t\t_recursivelyAnimateChildrenIn: function (bounds, center, maxZoom) {\n\t\t\tthis._recursively(bounds, this._group._map.getMinZoom(), maxZoom - 1,\n\t\t\t\tfunction (c) {\n\t\t\t\t\tvar markers = c._markers,\n\t\t\t\t\t\ti, m;\n\t\t\t\t\tfor (i = markers.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tm = markers[i];\n\n\t\t\t\t\t\t//Only do it if the icon is still on the map\n\t\t\t\t\t\tif (m._icon) {\n\t\t\t\t\t\t\tm._setPos(center);\n\t\t\t\t\t\t\tm.clusterHide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfunction (c) {\n\t\t\t\t\tvar childClusters = c._childClusters,\n\t\t\t\t\t\tj, cm;\n\t\t\t\t\tfor (j = childClusters.length - 1; j >= 0; j--) {\n\t\t\t\t\t\tcm = childClusters[j];\n\t\t\t\t\t\tif (cm._icon) {\n\t\t\t\t\t\t\tcm._setPos(center);\n\t\t\t\t\t\t\tcm.clusterHide();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\n\t\t_recursivelyAnimateChildrenInAndAddSelfToMap: function (bounds, mapMinZoom, previousZoomLevel, newZoomLevel) {\n\t\t\tthis._recursively(bounds, newZoomLevel, mapMinZoom,\n\t\t\t\tfunction (c) {\n\t\t\t\t\tc._recursivelyAnimateChildrenIn(bounds, c._group._map.latLngToLayerPoint(c.getLatLng()).round(), previousZoomLevel);\n\n\t\t\t\t\t//TODO: depthToAnimateIn affects _isSingleParent, if there is a multizoom we may/may not be.\n\t\t\t\t\t//As a hack we only do a animation free zoom on a single level zoom, if someone does multiple levels then we always animate\n\t\t\t\t\tif (c._isSingleParent() && previousZoomLevel - 1 === newZoomLevel) {\n\t\t\t\t\t\tc.clusterShow();\n\t\t\t\t\t\tc._recursivelyRemoveChildrenFromMap(bounds, mapMinZoom, previousZoomLevel); //Immediately remove our children as we are replacing them. TODO previousBounds not bounds\n\t\t\t\t\t} else {\n\t\t\t\t\t\tc.clusterHide();\n\t\t\t\t\t}\n\n\t\t\t\t\tc._addToMap();\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\n\t\t_recursivelyBecomeVisible: function (bounds, zoomLevel) {\n\t\t\tthis._recursively(bounds, this._group._map.getMinZoom(), zoomLevel, null, function (c) {\n\t\t\t\tc.clusterShow();\n\t\t\t});\n\t\t},\n\n\t\t_recursivelyAddChildrenToMap: function (startPos, zoomLevel, bounds) {\n\t\t\tthis._recursively(bounds, this._group._map.getMinZoom() - 1, zoomLevel,\n\t\t\t\tfunction (c) {\n\t\t\t\t\tif (zoomLevel === c._zoom) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t//Add our child markers at startPos (so they can be animated out)\n\t\t\t\t\tfor (var i = c._markers.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tvar nm = c._markers[i];\n\n\t\t\t\t\t\tif (!bounds.contains(nm._latlng)) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (startPos) {\n\t\t\t\t\t\t\tnm._backupLatlng = nm.getLatLng();\n\n\t\t\t\t\t\t\tnm.setLatLng(startPos);\n\t\t\t\t\t\t\tif (nm.clusterHide) {\n\t\t\t\t\t\t\t\tnm.clusterHide();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tc._group._featureGroup.addLayer(nm);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfunction (c) {\n\t\t\t\t\tc._addToMap(startPos);\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\n\t\t_recursivelyRestoreChildPositions: function (zoomLevel) {\n\t\t\t//Fix positions of child markers\n\t\t\tfor (var i = this._markers.length - 1; i >= 0; i--) {\n\t\t\t\tvar nm = this._markers[i];\n\t\t\t\tif (nm._backupLatlng) {\n\t\t\t\t\tnm.setLatLng(nm._backupLatlng);\n\t\t\t\t\tdelete nm._backupLatlng;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (zoomLevel - 1 === this._zoom) {\n\t\t\t\t//Reposition child clusters\n\t\t\t\tfor (var j = this._childClusters.length - 1; j >= 0; j--) {\n\t\t\t\t\tthis._childClusters[j]._restorePosition();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (var k = this._childClusters.length - 1; k >= 0; k--) {\n\t\t\t\t\tthis._childClusters[k]._recursivelyRestoreChildPositions(zoomLevel);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_restorePosition: function () {\n\t\t\tif (this._backupLatlng) {\n\t\t\t\tthis.setLatLng(this._backupLatlng);\n\t\t\t\tdelete this._backupLatlng;\n\t\t\t}\n\t\t},\n\n\t\t//exceptBounds: If set, don't remove any markers/clusters in it\n\t\t_recursivelyRemoveChildrenFromMap: function (previousBounds, mapMinZoom, zoomLevel, exceptBounds) {\n\t\t\tvar m, i;\n\t\t\tthis._recursively(previousBounds, mapMinZoom - 1, zoomLevel - 1,\n\t\t\t\tfunction (c) {\n\t\t\t\t\t//Remove markers at every level\n\t\t\t\t\tfor (i = c._markers.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tm = c._markers[i];\n\t\t\t\t\t\tif (!exceptBounds || !exceptBounds.contains(m._latlng)) {\n\t\t\t\t\t\t\tc._group._featureGroup.removeLayer(m);\n\t\t\t\t\t\t\tif (m.clusterShow) {\n\t\t\t\t\t\t\t\tm.clusterShow();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfunction (c) {\n\t\t\t\t\t//Remove child clusters at just the bottom level\n\t\t\t\t\tfor (i = c._childClusters.length - 1; i >= 0; i--) {\n\t\t\t\t\t\tm = c._childClusters[i];\n\t\t\t\t\t\tif (!exceptBounds || !exceptBounds.contains(m._latlng)) {\n\t\t\t\t\t\t\tc._group._featureGroup.removeLayer(m);\n\t\t\t\t\t\t\tif (m.clusterShow) {\n\t\t\t\t\t\t\t\tm.clusterShow();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\n\t\t//Run the given functions recursively to this and child clusters\n\t\t// boundsToApplyTo: a L.LatLngBounds representing the bounds of what clusters to recurse in to\n\t\t// zoomLevelToStart: zoom level to start running functions (inclusive)\n\t\t// zoomLevelToStop: zoom level to stop running functions (inclusive)\n\t\t// runAtEveryLevel: function that takes an L.MarkerCluster as an argument that should be applied on every level\n\t\t// runAtBottomLevel: function that takes an L.MarkerCluster as an argument that should be applied at only the bottom level\n\t\t_recursively: function (boundsToApplyTo, zoomLevelToStart, zoomLevelToStop, runAtEveryLevel, runAtBottomLevel) {\n\t\t\tvar childClusters = this._childClusters,\n\t\t\t    zoom = this._zoom,\n\t\t\t    i, c;\n\n\t\t\tif (zoomLevelToStart <= zoom) {\n\t\t\t\tif (runAtEveryLevel) {\n\t\t\t\t\trunAtEveryLevel(this);\n\t\t\t\t}\n\t\t\t\tif (runAtBottomLevel && zoom === zoomLevelToStop) {\n\t\t\t\t\trunAtBottomLevel(this);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (zoom < zoomLevelToStart || zoom < zoomLevelToStop) {\n\t\t\t\tfor (i = childClusters.length - 1; i >= 0; i--) {\n\t\t\t\t\tc = childClusters[i];\n\t\t\t\t\tif (c._boundsNeedUpdate) {\n\t\t\t\t\t\tc._recalculateBounds();\n\t\t\t\t\t}\n\t\t\t\t\tif (boundsToApplyTo.intersects(c._bounds)) {\n\t\t\t\t\t\tc._recursively(boundsToApplyTo, zoomLevelToStart, zoomLevelToStop, runAtEveryLevel, runAtBottomLevel);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t//Returns true if we are the parent of only one cluster and that cluster is the same as us\n\t\t_isSingleParent: function () {\n\t\t\t//Don't need to check this._markers as the rest won't work if there are any\n\t\t\treturn this._childClusters.length > 0 && this._childClusters[0]._childCount === this._childCount;\n\t\t}\n\t});\n\n\t/*\n\t* Extends L.Marker to include two extra methods: clusterHide and clusterShow.\n\t* \n\t* They work as setOpacity(0) and setOpacity(1) respectively, but\n\t* don't overwrite the options.opacity\n\t* \n\t*/\n\n\tL.Marker.include({\n\t\tclusterHide: function () {\n\t\t\tvar backup = this.options.opacity;\n\t\t\tthis.setOpacity(0);\n\t\t\tthis.options.opacity = backup;\n\t\t\treturn this;\n\t\t},\n\t\t\n\t\tclusterShow: function () {\n\t\t\treturn this.setOpacity(this.options.opacity);\n\t\t}\n\t});\n\n\tL.DistanceGrid = function (cellSize) {\n\t\tthis._cellSize = cellSize;\n\t\tthis._sqCellSize = cellSize * cellSize;\n\t\tthis._grid = {};\n\t\tthis._objectPoint = { };\n\t};\n\n\tL.DistanceGrid.prototype = {\n\n\t\taddObject: function (obj, point) {\n\t\t\tvar x = this._getCoord(point.x),\n\t\t\t    y = this._getCoord(point.y),\n\t\t\t    grid = this._grid,\n\t\t\t    row = grid[y] = grid[y] || {},\n\t\t\t    cell = row[x] = row[x] || [],\n\t\t\t    stamp = L.Util.stamp(obj);\n\n\t\t\tthis._objectPoint[stamp] = point;\n\n\t\t\tcell.push(obj);\n\t\t},\n\n\t\tupdateObject: function (obj, point) {\n\t\t\tthis.removeObject(obj);\n\t\t\tthis.addObject(obj, point);\n\t\t},\n\n\t\t//Returns true if the object was found\n\t\tremoveObject: function (obj, point) {\n\t\t\tvar x = this._getCoord(point.x),\n\t\t\t    y = this._getCoord(point.y),\n\t\t\t    grid = this._grid,\n\t\t\t    row = grid[y] = grid[y] || {},\n\t\t\t    cell = row[x] = row[x] || [],\n\t\t\t    i, len;\n\n\t\t\tdelete this._objectPoint[L.Util.stamp(obj)];\n\n\t\t\tfor (i = 0, len = cell.length; i < len; i++) {\n\t\t\t\tif (cell[i] === obj) {\n\n\t\t\t\t\tcell.splice(i, 1);\n\n\t\t\t\t\tif (len === 1) {\n\t\t\t\t\t\tdelete row[x];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\n\t\teachObject: function (fn, context) {\n\t\t\tvar i, j, k, len, row, cell, removed,\n\t\t\t    grid = this._grid;\n\n\t\t\tfor (i in grid) {\n\t\t\t\trow = grid[i];\n\n\t\t\t\tfor (j in row) {\n\t\t\t\t\tcell = row[j];\n\n\t\t\t\t\tfor (k = 0, len = cell.length; k < len; k++) {\n\t\t\t\t\t\tremoved = fn.call(context, cell[k]);\n\t\t\t\t\t\tif (removed) {\n\t\t\t\t\t\t\tk--;\n\t\t\t\t\t\t\tlen--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgetNearObject: function (point) {\n\t\t\tvar x = this._getCoord(point.x),\n\t\t\t    y = this._getCoord(point.y),\n\t\t\t    i, j, k, row, cell, len, obj, dist,\n\t\t\t    objectPoint = this._objectPoint,\n\t\t\t    closestDistSq = this._sqCellSize,\n\t\t\t    closest = null;\n\n\t\t\tfor (i = y - 1; i <= y + 1; i++) {\n\t\t\t\trow = this._grid[i];\n\t\t\t\tif (row) {\n\n\t\t\t\t\tfor (j = x - 1; j <= x + 1; j++) {\n\t\t\t\t\t\tcell = row[j];\n\t\t\t\t\t\tif (cell) {\n\n\t\t\t\t\t\t\tfor (k = 0, len = cell.length; k < len; k++) {\n\t\t\t\t\t\t\t\tobj = cell[k];\n\t\t\t\t\t\t\t\tdist = this._sqDist(objectPoint[L.Util.stamp(obj)], point);\n\t\t\t\t\t\t\t\tif (dist < closestDistSq ||\n\t\t\t\t\t\t\t\t\tdist <= closestDistSq && closest === null) {\n\t\t\t\t\t\t\t\t\tclosestDistSq = dist;\n\t\t\t\t\t\t\t\t\tclosest = obj;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn closest;\n\t\t},\n\n\t\t_getCoord: function (x) {\n\t\t\tvar coord = Math.floor(x / this._cellSize);\n\t\t\treturn isFinite(coord) ? coord : x;\n\t\t},\n\n\t\t_sqDist: function (p, p2) {\n\t\t\tvar dx = p2.x - p.x,\n\t\t\t    dy = p2.y - p.y;\n\t\t\treturn dx * dx + dy * dy;\n\t\t}\n\t};\n\n\t/* Copyright (c) 2012 the authors listed at the following URL, and/or\n\tthe authors of referenced articles or incorporated external code:\n\thttp://en.literateprograms.org/Quickhull_(Javascript)?action=history&offset=20120410175256\n\n\tPermission is hereby granted, free of charge, to any person obtaining\n\ta copy of this software and associated documentation files (the\n\t\"Software\"), to deal in the Software without restriction, including\n\twithout limitation the rights to use, copy, modify, merge, publish,\n\tdistribute, sublicense, and/or sell copies of the Software, and to\n\tpermit persons to whom the Software is furnished to do so, subject to\n\tthe following conditions:\n\n\tThe above copyright notice and this permission notice shall be\n\tincluded in all copies or substantial portions of the Software.\n\n\tTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n\tEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n\tMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n\tIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n\tCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n\tTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n\tSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\tRetrieved from: http://en.literateprograms.org/Quickhull_(Javascript)?oldid=18434\n\t*/\n\n\t(function () {\n\t\tL.QuickHull = {\n\n\t\t\t/*\n\t\t\t * @param {Object} cpt a point to be measured from the baseline\n\t\t\t * @param {Array} bl the baseline, as represented by a two-element\n\t\t\t *   array of latlng objects.\n\t\t\t * @returns {Number} an approximate distance measure\n\t\t\t */\n\t\t\tgetDistant: function (cpt, bl) {\n\t\t\t\tvar vY = bl[1].lat - bl[0].lat,\n\t\t\t\t\tvX = bl[0].lng - bl[1].lng;\n\t\t\t\treturn (vX * (cpt.lat - bl[0].lat) + vY * (cpt.lng - bl[0].lng));\n\t\t\t},\n\n\t\t\t/*\n\t\t\t * @param {Array} baseLine a two-element array of latlng objects\n\t\t\t *   representing the baseline to project from\n\t\t\t * @param {Array} latLngs an array of latlng objects\n\t\t\t * @returns {Object} the maximum point and all new points to stay\n\t\t\t *   in consideration for the hull.\n\t\t\t */\n\t\t\tfindMostDistantPointFromBaseLine: function (baseLine, latLngs) {\n\t\t\t\tvar maxD = 0,\n\t\t\t\t\tmaxPt = null,\n\t\t\t\t\tnewPoints = [],\n\t\t\t\t\ti, pt, d;\n\n\t\t\t\tfor (i = latLngs.length - 1; i >= 0; i--) {\n\t\t\t\t\tpt = latLngs[i];\n\t\t\t\t\td = this.getDistant(pt, baseLine);\n\n\t\t\t\t\tif (d > 0) {\n\t\t\t\t\t\tnewPoints.push(pt);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (d > maxD) {\n\t\t\t\t\t\tmaxD = d;\n\t\t\t\t\t\tmaxPt = pt;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn { maxPoint: maxPt, newPoints: newPoints };\n\t\t\t},\n\n\n\t\t\t/*\n\t\t\t * Given a baseline, compute the convex hull of latLngs as an array\n\t\t\t * of latLngs.\n\t\t\t *\n\t\t\t * @param {Array} latLngs\n\t\t\t * @returns {Array}\n\t\t\t */\n\t\t\tbuildConvexHull: function (baseLine, latLngs) {\n\t\t\t\tvar convexHullBaseLines = [],\n\t\t\t\t\tt = this.findMostDistantPointFromBaseLine(baseLine, latLngs);\n\n\t\t\t\tif (t.maxPoint) { // if there is still a point \"outside\" the base line\n\t\t\t\t\tconvexHullBaseLines =\n\t\t\t\t\t\tconvexHullBaseLines.concat(\n\t\t\t\t\t\t\tthis.buildConvexHull([baseLine[0], t.maxPoint], t.newPoints)\n\t\t\t\t\t\t);\n\t\t\t\t\tconvexHullBaseLines =\n\t\t\t\t\t\tconvexHullBaseLines.concat(\n\t\t\t\t\t\t\tthis.buildConvexHull([t.maxPoint, baseLine[1]], t.newPoints)\n\t\t\t\t\t\t);\n\t\t\t\t\treturn convexHullBaseLines;\n\t\t\t\t} else {  // if there is no more point \"outside\" the base line, the current base line is part of the convex hull\n\t\t\t\t\treturn [baseLine[0]];\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/*\n\t\t\t * Given an array of latlngs, compute a convex hull as an array\n\t\t\t * of latlngs\n\t\t\t *\n\t\t\t * @param {Array} latLngs\n\t\t\t * @returns {Array}\n\t\t\t */\n\t\t\tgetConvexHull: function (latLngs) {\n\t\t\t\t// find first baseline\n\t\t\t\tvar maxLat = false, minLat = false,\n\t\t\t\t\tmaxLng = false, minLng = false,\n\t\t\t\t\tmaxLatPt = null, minLatPt = null,\n\t\t\t\t\tmaxLngPt = null, minLngPt = null,\n\t\t\t\t\tmaxPt = null, minPt = null,\n\t\t\t\t\ti;\n\n\t\t\t\tfor (i = latLngs.length - 1; i >= 0; i--) {\n\t\t\t\t\tvar pt = latLngs[i];\n\t\t\t\t\tif (maxLat === false || pt.lat > maxLat) {\n\t\t\t\t\t\tmaxLatPt = pt;\n\t\t\t\t\t\tmaxLat = pt.lat;\n\t\t\t\t\t}\n\t\t\t\t\tif (minLat === false || pt.lat < minLat) {\n\t\t\t\t\t\tminLatPt = pt;\n\t\t\t\t\t\tminLat = pt.lat;\n\t\t\t\t\t}\n\t\t\t\t\tif (maxLng === false || pt.lng > maxLng) {\n\t\t\t\t\t\tmaxLngPt = pt;\n\t\t\t\t\t\tmaxLng = pt.lng;\n\t\t\t\t\t}\n\t\t\t\t\tif (minLng === false || pt.lng < minLng) {\n\t\t\t\t\t\tminLngPt = pt;\n\t\t\t\t\t\tminLng = pt.lng;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (minLat !== maxLat) {\n\t\t\t\t\tminPt = minLatPt;\n\t\t\t\t\tmaxPt = maxLatPt;\n\t\t\t\t} else {\n\t\t\t\t\tminPt = minLngPt;\n\t\t\t\t\tmaxPt = maxLngPt;\n\t\t\t\t}\n\n\t\t\t\tvar ch = [].concat(this.buildConvexHull([minPt, maxPt], latLngs),\n\t\t\t\t\t\t\t\t\tthis.buildConvexHull([maxPt, minPt], latLngs));\n\t\t\t\treturn ch;\n\t\t\t}\n\t\t};\n\t}());\n\n\tL.MarkerCluster.include({\n\t\tgetConvexHull: function () {\n\t\t\tvar childMarkers = this.getAllChildMarkers(),\n\t\t\t\tpoints = [],\n\t\t\t\tp, i;\n\n\t\t\tfor (i = childMarkers.length - 1; i >= 0; i--) {\n\t\t\t\tp = childMarkers[i].getLatLng();\n\t\t\t\tpoints.push(p);\n\t\t\t}\n\n\t\t\treturn L.QuickHull.getConvexHull(points);\n\t\t}\n\t});\n\n\t//This code is 100% based on https://github.com/jawj/OverlappingMarkerSpiderfier-Leaflet\n\t//Huge thanks to jawj for implementing it first to make my job easy :-)\n\n\tL.MarkerCluster.include({\n\n\t\t_2PI: Math.PI * 2,\n\t\t_circleFootSeparation: 25, //related to circumference of circle\n\t\t_circleStartAngle: 0,\n\n\t\t_spiralFootSeparation:  28, //related to size of spiral (experiment!)\n\t\t_spiralLengthStart: 11,\n\t\t_spiralLengthFactor: 5,\n\n\t\t_circleSpiralSwitchover: 9, //show spiral instead of circle from this marker count upwards.\n\t\t\t\t\t\t\t\t\t// 0 -> always spiral; Infinity -> always circle\n\n\t\tspiderfy: function () {\n\t\t\tif (this._group._spiderfied === this || this._group._inZoomAnimation) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar childMarkers = this.getAllChildMarkers(null, true),\n\t\t\t\tgroup = this._group,\n\t\t\t\tmap = group._map,\n\t\t\t\tcenter = map.latLngToLayerPoint(this._latlng),\n\t\t\t\tpositions;\n\n\t\t\tthis._group._unspiderfy();\n\t\t\tthis._group._spiderfied = this;\n\n\t\t\t//TODO Maybe: childMarkers order by distance to center\n\n\t\t\tif (this._group.options.spiderfyShapePositions) {\n\t\t\t\tpositions = this._group.options.spiderfyShapePositions(childMarkers.length, center);\n\t\t\t} else if (childMarkers.length >= this._circleSpiralSwitchover) {\n\t\t\t\tpositions = this._generatePointsSpiral(childMarkers.length, center);\n\t\t\t} else {\n\t\t\t\tcenter.y += 10; // Otherwise circles look wrong => hack for standard blue icon, renders differently for other icons.\n\t\t\t\tpositions = this._generatePointsCircle(childMarkers.length, center);\n\t\t\t}\n\n\t\t\tthis._animationSpiderfy(childMarkers, positions);\n\t\t},\n\n\t\tunspiderfy: function (zoomDetails) {\n\t\t\t/// <param Name=\"zoomDetails\">Argument from zoomanim if being called in a zoom animation or null otherwise</param>\n\t\t\tif (this._group._inZoomAnimation) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._animationUnspiderfy(zoomDetails);\n\n\t\t\tthis._group._spiderfied = null;\n\t\t},\n\n\t\t_generatePointsCircle: function (count, centerPt) {\n\t\t\tvar circumference = this._group.options.spiderfyDistanceMultiplier * this._circleFootSeparation * (2 + count),\n\t\t\t\tlegLength = circumference / this._2PI,  //radius from circumference\n\t\t\t\tangleStep = this._2PI / count,\n\t\t\t\tres = [],\n\t\t\t\ti, angle;\n\n\t\t\tlegLength = Math.max(legLength, 35); // Minimum distance to get outside the cluster icon.\n\n\t\t\tres.length = count;\n\n\t\t\tfor (i = 0; i < count; i++) { // Clockwise, like spiral.\n\t\t\t\tangle = this._circleStartAngle + i * angleStep;\n\t\t\t\tres[i] = new L.Point(centerPt.x + legLength * Math.cos(angle), centerPt.y + legLength * Math.sin(angle))._round();\n\t\t\t}\n\n\t\t\treturn res;\n\t\t},\n\n\t\t_generatePointsSpiral: function (count, centerPt) {\n\t\t\tvar spiderfyDistanceMultiplier = this._group.options.spiderfyDistanceMultiplier,\n\t\t\t\tlegLength = spiderfyDistanceMultiplier * this._spiralLengthStart,\n\t\t\t\tseparation = spiderfyDistanceMultiplier * this._spiralFootSeparation,\n\t\t\t\tlengthFactor = spiderfyDistanceMultiplier * this._spiralLengthFactor * this._2PI,\n\t\t\t\tangle = 0,\n\t\t\t\tres = [],\n\t\t\t\ti;\n\n\t\t\tres.length = count;\n\n\t\t\t// Higher index, closer position to cluster center.\n\t\t\tfor (i = count; i >= 0; i--) {\n\t\t\t\t// Skip the first position, so that we are already farther from center and we avoid\n\t\t\t\t// being under the default cluster icon (especially important for Circle Markers).\n\t\t\t\tif (i < count) {\n\t\t\t\t\tres[i] = new L.Point(centerPt.x + legLength * Math.cos(angle), centerPt.y + legLength * Math.sin(angle))._round();\n\t\t\t\t}\n\t\t\t\tangle += separation / legLength + i * 0.0005;\n\t\t\t\tlegLength += lengthFactor / angle;\n\t\t\t}\n\t\t\treturn res;\n\t\t},\n\n\t\t_noanimationUnspiderfy: function () {\n\t\t\tvar group = this._group,\n\t\t\t\tmap = group._map,\n\t\t\t\tfg = group._featureGroup,\n\t\t\t\tchildMarkers = this.getAllChildMarkers(null, true),\n\t\t\t\tm, i;\n\n\t\t\tgroup._ignoreMove = true;\n\n\t\t\tthis.setOpacity(1);\n\t\t\tfor (i = childMarkers.length - 1; i >= 0; i--) {\n\t\t\t\tm = childMarkers[i];\n\n\t\t\t\tfg.removeLayer(m);\n\n\t\t\t\tif (m._preSpiderfyLatlng) {\n\t\t\t\t\tm.setLatLng(m._preSpiderfyLatlng);\n\t\t\t\t\tdelete m._preSpiderfyLatlng;\n\t\t\t\t}\n\t\t\t\tif (m.setZIndexOffset) {\n\t\t\t\t\tm.setZIndexOffset(0);\n\t\t\t\t}\n\n\t\t\t\tif (m._spiderLeg) {\n\t\t\t\t\tmap.removeLayer(m._spiderLeg);\n\t\t\t\t\tdelete m._spiderLeg;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tgroup.fire('unspiderfied', {\n\t\t\t\tcluster: this,\n\t\t\t\tmarkers: childMarkers\n\t\t\t});\n\t\t\tgroup._ignoreMove = false;\n\t\t\tgroup._spiderfied = null;\n\t\t}\n\t});\n\n\t//Non Animated versions of everything\n\tL.MarkerClusterNonAnimated = L.MarkerCluster.extend({\n\t\t_animationSpiderfy: function (childMarkers, positions) {\n\t\t\tvar group = this._group,\n\t\t\t\tmap = group._map,\n\t\t\t\tfg = group._featureGroup,\n\t\t\t\tlegOptions = this._group.options.spiderLegPolylineOptions,\n\t\t\t\ti, m, leg, newPos;\n\n\t\t\tgroup._ignoreMove = true;\n\n\t\t\t// Traverse in ascending order to make sure that inner circleMarkers are on top of further legs. Normal markers are re-ordered by newPosition.\n\t\t\t// The reverse order trick no longer improves performance on modern browsers.\n\t\t\tfor (i = 0; i < childMarkers.length; i++) {\n\t\t\t\tnewPos = map.layerPointToLatLng(positions[i]);\n\t\t\t\tm = childMarkers[i];\n\n\t\t\t\t// Add the leg before the marker, so that in case the latter is a circleMarker, the leg is behind it.\n\t\t\t\tleg = new L.Polyline([this._latlng, newPos], legOptions);\n\t\t\t\tmap.addLayer(leg);\n\t\t\t\tm._spiderLeg = leg;\n\n\t\t\t\t// Now add the marker.\n\t\t\t\tm._preSpiderfyLatlng = m._latlng;\n\t\t\t\tm.setLatLng(newPos);\n\t\t\t\tif (m.setZIndexOffset) {\n\t\t\t\t\tm.setZIndexOffset(1000000); //Make these appear on top of EVERYTHING\n\t\t\t\t}\n\n\t\t\t\tfg.addLayer(m);\n\t\t\t}\n\t\t\tthis.setOpacity(0.3);\n\n\t\t\tgroup._ignoreMove = false;\n\t\t\tgroup.fire('spiderfied', {\n\t\t\t\tcluster: this,\n\t\t\t\tmarkers: childMarkers\n\t\t\t});\n\t\t},\n\n\t\t_animationUnspiderfy: function () {\n\t\t\tthis._noanimationUnspiderfy();\n\t\t}\n\t});\n\n\t//Animated versions here\n\tL.MarkerCluster.include({\n\n\t\t_animationSpiderfy: function (childMarkers, positions) {\n\t\t\tvar me = this,\n\t\t\t\tgroup = this._group,\n\t\t\t\tmap = group._map,\n\t\t\t\tfg = group._featureGroup,\n\t\t\t\tthisLayerLatLng = this._latlng,\n\t\t\t\tthisLayerPos = map.latLngToLayerPoint(thisLayerLatLng),\n\t\t\t\tsvg = L.Path.SVG,\n\t\t\t\tlegOptions = L.extend({}, this._group.options.spiderLegPolylineOptions), // Copy the options so that we can modify them for animation.\n\t\t\t\tfinalLegOpacity = legOptions.opacity,\n\t\t\t\ti, m, leg, legPath, legLength, newPos;\n\n\t\t\tif (finalLegOpacity === undefined) {\n\t\t\t\tfinalLegOpacity = L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity;\n\t\t\t}\n\n\t\t\tif (svg) {\n\t\t\t\t// If the initial opacity of the spider leg is not 0 then it appears before the animation starts.\n\t\t\t\tlegOptions.opacity = 0;\n\n\t\t\t\t// Add the class for CSS transitions.\n\t\t\t\tlegOptions.className = (legOptions.className || '') + ' leaflet-cluster-spider-leg';\n\t\t\t} else {\n\t\t\t\t// Make sure we have a defined opacity.\n\t\t\t\tlegOptions.opacity = finalLegOpacity;\n\t\t\t}\n\n\t\t\tgroup._ignoreMove = true;\n\n\t\t\t// Add markers and spider legs to map, hidden at our center point.\n\t\t\t// Traverse in ascending order to make sure that inner circleMarkers are on top of further legs. Normal markers are re-ordered by newPosition.\n\t\t\t// The reverse order trick no longer improves performance on modern browsers.\n\t\t\tfor (i = 0; i < childMarkers.length; i++) {\n\t\t\t\tm = childMarkers[i];\n\n\t\t\t\tnewPos = map.layerPointToLatLng(positions[i]);\n\n\t\t\t\t// Add the leg before the marker, so that in case the latter is a circleMarker, the leg is behind it.\n\t\t\t\tleg = new L.Polyline([thisLayerLatLng, newPos], legOptions);\n\t\t\t\tmap.addLayer(leg);\n\t\t\t\tm._spiderLeg = leg;\n\n\t\t\t\t// Explanations: https://jakearchibald.com/2013/animated-line-drawing-svg/\n\t\t\t\t// In our case the transition property is declared in the CSS file.\n\t\t\t\tif (svg) {\n\t\t\t\t\tlegPath = leg._path;\n\t\t\t\t\tlegLength = legPath.getTotalLength() + 0.1; // Need a small extra length to avoid remaining dot in Firefox.\n\t\t\t\t\tlegPath.style.strokeDasharray = legLength; // Just 1 length is enough, it will be duplicated.\n\t\t\t\t\tlegPath.style.strokeDashoffset = legLength;\n\t\t\t\t}\n\n\t\t\t\t// If it is a marker, add it now and we'll animate it out\n\t\t\t\tif (m.setZIndexOffset) {\n\t\t\t\t\tm.setZIndexOffset(1000000); // Make normal markers appear on top of EVERYTHING\n\t\t\t\t}\n\t\t\t\tif (m.clusterHide) {\n\t\t\t\t\tm.clusterHide();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// Vectors just get immediately added\n\t\t\t\tfg.addLayer(m);\n\n\t\t\t\tif (m._setPos) {\n\t\t\t\t\tm._setPos(thisLayerPos);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tgroup._forceLayout();\n\t\t\tgroup._animationStart();\n\n\t\t\t// Reveal markers and spider legs.\n\t\t\tfor (i = childMarkers.length - 1; i >= 0; i--) {\n\t\t\t\tnewPos = map.layerPointToLatLng(positions[i]);\n\t\t\t\tm = childMarkers[i];\n\n\t\t\t\t//Move marker to new position\n\t\t\t\tm._preSpiderfyLatlng = m._latlng;\n\t\t\t\tm.setLatLng(newPos);\n\t\t\t\t\n\t\t\t\tif (m.clusterShow) {\n\t\t\t\t\tm.clusterShow();\n\t\t\t\t}\n\n\t\t\t\t// Animate leg (animation is actually delegated to CSS transition).\n\t\t\t\tif (svg) {\n\t\t\t\t\tleg = m._spiderLeg;\n\t\t\t\t\tlegPath = leg._path;\n\t\t\t\t\tlegPath.style.strokeDashoffset = 0;\n\t\t\t\t\t//legPath.style.strokeOpacity = finalLegOpacity;\n\t\t\t\t\tleg.setStyle({opacity: finalLegOpacity});\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.setOpacity(0.3);\n\n\t\t\tgroup._ignoreMove = false;\n\n\t\t\tsetTimeout(function () {\n\t\t\t\tgroup._animationEnd();\n\t\t\t\tgroup.fire('spiderfied', {\n\t\t\t\t\tcluster: me,\n\t\t\t\t\tmarkers: childMarkers\n\t\t\t\t});\n\t\t\t}, 200);\n\t\t},\n\n\t\t_animationUnspiderfy: function (zoomDetails) {\n\t\t\tvar me = this,\n\t\t\t\tgroup = this._group,\n\t\t\t\tmap = group._map,\n\t\t\t\tfg = group._featureGroup,\n\t\t\t\tthisLayerPos = zoomDetails ? map._latLngToNewLayerPoint(this._latlng, zoomDetails.zoom, zoomDetails.center) : map.latLngToLayerPoint(this._latlng),\n\t\t\t\tchildMarkers = this.getAllChildMarkers(null, true),\n\t\t\t\tsvg = L.Path.SVG,\n\t\t\t\tm, i, leg, legPath, legLength, nonAnimatable;\n\n\t\t\tgroup._ignoreMove = true;\n\t\t\tgroup._animationStart();\n\n\t\t\t//Make us visible and bring the child markers back in\n\t\t\tthis.setOpacity(1);\n\t\t\tfor (i = childMarkers.length - 1; i >= 0; i--) {\n\t\t\t\tm = childMarkers[i];\n\n\t\t\t\t//Marker was added to us after we were spiderfied\n\t\t\t\tif (!m._preSpiderfyLatlng) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t//Close any popup on the marker first, otherwise setting the location of the marker will make the map scroll\n\t\t\t\tm.closePopup();\n\n\t\t\t\t//Fix up the location to the real one\n\t\t\t\tm.setLatLng(m._preSpiderfyLatlng);\n\t\t\t\tdelete m._preSpiderfyLatlng;\n\n\t\t\t\t//Hack override the location to be our center\n\t\t\t\tnonAnimatable = true;\n\t\t\t\tif (m._setPos) {\n\t\t\t\t\tm._setPos(thisLayerPos);\n\t\t\t\t\tnonAnimatable = false;\n\t\t\t\t}\n\t\t\t\tif (m.clusterHide) {\n\t\t\t\t\tm.clusterHide();\n\t\t\t\t\tnonAnimatable = false;\n\t\t\t\t}\n\t\t\t\tif (nonAnimatable) {\n\t\t\t\t\tfg.removeLayer(m);\n\t\t\t\t}\n\n\t\t\t\t// Animate the spider leg back in (animation is actually delegated to CSS transition).\n\t\t\t\tif (svg) {\n\t\t\t\t\tleg = m._spiderLeg;\n\t\t\t\t\tlegPath = leg._path;\n\t\t\t\t\tlegLength = legPath.getTotalLength() + 0.1;\n\t\t\t\t\tlegPath.style.strokeDashoffset = legLength;\n\t\t\t\t\tleg.setStyle({opacity: 0});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tgroup._ignoreMove = false;\n\n\t\t\tsetTimeout(function () {\n\t\t\t\t//If we have only <= one child left then that marker will be shown on the map so don't remove it!\n\t\t\t\tvar stillThereChildCount = 0;\n\t\t\t\tfor (i = childMarkers.length - 1; i >= 0; i--) {\n\t\t\t\t\tm = childMarkers[i];\n\t\t\t\t\tif (m._spiderLeg) {\n\t\t\t\t\t\tstillThereChildCount++;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\n\t\t\t\tfor (i = childMarkers.length - 1; i >= 0; i--) {\n\t\t\t\t\tm = childMarkers[i];\n\n\t\t\t\t\tif (!m._spiderLeg) { //Has already been unspiderfied\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (m.clusterShow) {\n\t\t\t\t\t\tm.clusterShow();\n\t\t\t\t\t}\n\t\t\t\t\tif (m.setZIndexOffset) {\n\t\t\t\t\t\tm.setZIndexOffset(0);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (stillThereChildCount > 1) {\n\t\t\t\t\t\tfg.removeLayer(m);\n\t\t\t\t\t}\n\n\t\t\t\t\tmap.removeLayer(m._spiderLeg);\n\t\t\t\t\tdelete m._spiderLeg;\n\t\t\t\t}\n\t\t\t\tgroup._animationEnd();\n\t\t\t\tgroup.fire('unspiderfied', {\n\t\t\t\t\tcluster: me,\n\t\t\t\t\tmarkers: childMarkers\n\t\t\t\t});\n\t\t\t}, 200);\n\t\t}\n\t});\n\n\n\tL.MarkerClusterGroup.include({\n\t\t//The MarkerCluster currently spiderfied (if any)\n\t\t_spiderfied: null,\n\n\t\tunspiderfy: function () {\n\t\t\tthis._unspiderfy.apply(this, arguments);\n\t\t},\n\n\t\t_spiderfierOnAdd: function () {\n\t\t\tthis._map.on('click', this._unspiderfyWrapper, this);\n\n\t\t\tif (this._map.options.zoomAnimation) {\n\t\t\t\tthis._map.on('zoomstart', this._unspiderfyZoomStart, this);\n\t\t\t}\n\t\t\t//Browsers without zoomAnimation or a big zoom don't fire zoomstart\n\t\t\tthis._map.on('zoomend', this._noanimationUnspiderfy, this);\n\n\t\t\tif (!L.Browser.touch) {\n\t\t\t\tthis._map.getRenderer(this);\n\t\t\t\t//Needs to happen in the pageload, not after, or animations don't work in webkit\n\t\t\t\t//  http://stackoverflow.com/questions/8455200/svg-animate-with-dynamically-added-elements\n\t\t\t\t//Disable on touch browsers as the animation messes up on a touch zoom and isn't very noticable\n\t\t\t}\n\t\t},\n\n\t\t_spiderfierOnRemove: function () {\n\t\t\tthis._map.off('click', this._unspiderfyWrapper, this);\n\t\t\tthis._map.off('zoomstart', this._unspiderfyZoomStart, this);\n\t\t\tthis._map.off('zoomanim', this._unspiderfyZoomAnim, this);\n\t\t\tthis._map.off('zoomend', this._noanimationUnspiderfy, this);\n\n\t\t\t//Ensure that markers are back where they should be\n\t\t\t// Use no animation to avoid a sticky leaflet-cluster-anim class on mapPane\n\t\t\tthis._noanimationUnspiderfy();\n\t\t},\n\n\t\t//On zoom start we add a zoomanim handler so that we are guaranteed to be last (after markers are animated)\n\t\t//This means we can define the animation they do rather than Markers doing an animation to their actual location\n\t\t_unspiderfyZoomStart: function () {\n\t\t\tif (!this._map) { //May have been removed from the map by a zoomEnd handler\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._map.on('zoomanim', this._unspiderfyZoomAnim, this);\n\t\t},\n\n\t\t_unspiderfyZoomAnim: function (zoomDetails) {\n\t\t\t//Wait until the first zoomanim after the user has finished touch-zooming before running the animation\n\t\t\tif (L.DomUtil.hasClass(this._map._mapPane, 'leaflet-touching')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._map.off('zoomanim', this._unspiderfyZoomAnim, this);\n\t\t\tthis._unspiderfy(zoomDetails);\n\t\t},\n\n\t\t_unspiderfyWrapper: function () {\n\t\t\t/// <summary>_unspiderfy but passes no arguments</summary>\n\t\t\tthis._unspiderfy();\n\t\t},\n\n\t\t_unspiderfy: function (zoomDetails) {\n\t\t\tif (this._spiderfied) {\n\t\t\t\tthis._spiderfied.unspiderfy(zoomDetails);\n\t\t\t}\n\t\t},\n\n\t\t_noanimationUnspiderfy: function () {\n\t\t\tif (this._spiderfied) {\n\t\t\t\tthis._spiderfied._noanimationUnspiderfy();\n\t\t\t}\n\t\t},\n\n\t\t//If the given layer is currently being spiderfied then we unspiderfy it so it isn't on the map anymore etc\n\t\t_unspiderfyLayer: function (layer) {\n\t\t\tif (layer._spiderLeg) {\n\t\t\t\tthis._featureGroup.removeLayer(layer);\n\n\t\t\t\tif (layer.clusterShow) {\n\t\t\t\t\tlayer.clusterShow();\n\t\t\t\t}\n\t\t\t\t\t//Position will be fixed up immediately in _animationUnspiderfy\n\t\t\t\tif (layer.setZIndexOffset) {\n\t\t\t\t\tlayer.setZIndexOffset(0);\n\t\t\t\t}\n\n\t\t\t\tthis._map.removeLayer(layer._spiderLeg);\n\t\t\t\tdelete layer._spiderLeg;\n\t\t\t}\n\t\t}\n\t});\n\n\t/**\n\t * Adds 1 public method to MCG and 1 to L.Marker to facilitate changing\n\t * markers' icon options and refreshing their icon and their parent clusters\n\t * accordingly (case where their iconCreateFunction uses data of childMarkers\n\t * to make up the cluster icon).\n\t */\n\n\n\tL.MarkerClusterGroup.include({\n\t\t/**\n\t\t * Updates the icon of all clusters which are parents of the given marker(s).\n\t\t * In singleMarkerMode, also updates the given marker(s) icon.\n\t\t * @param layers L.MarkerClusterGroup|L.LayerGroup|Array(L.Marker)|Map(L.Marker)|\n\t\t * L.MarkerCluster|L.Marker (optional) list of markers (or single marker) whose parent\n\t\t * clusters need to be updated. If not provided, retrieves all child markers of this.\n\t\t * @returns {L.MarkerClusterGroup}\n\t\t */\n\t\trefreshClusters: function (layers) {\n\t\t\tif (!layers) {\n\t\t\t\tlayers = this._topClusterLevel.getAllChildMarkers();\n\t\t\t} else if (layers instanceof L.MarkerClusterGroup) {\n\t\t\t\tlayers = layers._topClusterLevel.getAllChildMarkers();\n\t\t\t} else if (layers instanceof L.LayerGroup) {\n\t\t\t\tlayers = layers._layers;\n\t\t\t} else if (layers instanceof L.MarkerCluster) {\n\t\t\t\tlayers = layers.getAllChildMarkers();\n\t\t\t} else if (layers instanceof L.Marker) {\n\t\t\t\tlayers = [layers];\n\t\t\t} // else: must be an Array(L.Marker)|Map(L.Marker)\n\t\t\tthis._flagParentsIconsNeedUpdate(layers);\n\t\t\tthis._refreshClustersIcons();\n\n\t\t\t// In case of singleMarkerMode, also re-draw the markers.\n\t\t\tif (this.options.singleMarkerMode) {\n\t\t\t\tthis._refreshSingleMarkerModeMarkers(layers);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Simply flags all parent clusters of the given markers as having a \"dirty\" icon.\n\t\t * @param layers Array(L.Marker)|Map(L.Marker) list of markers.\n\t\t * @private\n\t\t */\n\t\t_flagParentsIconsNeedUpdate: function (layers) {\n\t\t\tvar id, parent;\n\n\t\t\t// Assumes layers is an Array or an Object whose prototype is non-enumerable.\n\t\t\tfor (id in layers) {\n\t\t\t\t// Flag parent clusters' icon as \"dirty\", all the way up.\n\t\t\t\t// Dumb process that flags multiple times upper parents, but still\n\t\t\t\t// much more efficient than trying to be smart and make short lists,\n\t\t\t\t// at least in the case of a hierarchy following a power law:\n\t\t\t\t// http://jsperf.com/flag-nodes-in-power-hierarchy/2\n\t\t\t\tparent = layers[id].__parent;\n\t\t\t\twhile (parent) {\n\t\t\t\t\tparent._iconNeedsUpdate = true;\n\t\t\t\t\tparent = parent.__parent;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Re-draws the icon of the supplied markers.\n\t\t * To be used in singleMarkerMode only.\n\t\t * @param layers Array(L.Marker)|Map(L.Marker) list of markers.\n\t\t * @private\n\t\t */\n\t\t_refreshSingleMarkerModeMarkers: function (layers) {\n\t\t\tvar id, layer;\n\n\t\t\tfor (id in layers) {\n\t\t\t\tlayer = layers[id];\n\n\t\t\t\t// Make sure we do not override markers that do not belong to THIS group.\n\t\t\t\tif (this.hasLayer(layer)) {\n\t\t\t\t\t// Need to re-create the icon first, then re-draw the marker.\n\t\t\t\t\tlayer.setIcon(this._overrideMarkerIcon(layer));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\tL.Marker.include({\n\t\t/**\n\t\t * Updates the given options in the marker's icon and refreshes the marker.\n\t\t * @param options map object of icon options.\n\t\t * @param directlyRefreshClusters boolean (optional) true to trigger\n\t\t * MCG.refreshClustersOf() right away with this single marker.\n\t\t * @returns {L.Marker}\n\t\t */\n\t\trefreshIconOptions: function (options, directlyRefreshClusters) {\n\t\t\tvar icon = this.options.icon;\n\n\t\t\tL.setOptions(icon, options);\n\n\t\t\tthis.setIcon(icon);\n\n\t\t\t// Shortcut to refresh the associated MCG clusters right away.\n\t\t\t// To be used when refreshing a single marker.\n\t\t\t// Otherwise, better use MCG.refreshClusters() once at the end with\n\t\t\t// the list of modified markers.\n\t\t\tif (directlyRefreshClusters && this.__parent) {\n\t\t\t\tthis.__parent._group.refreshClusters(this);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\t});\n\n\texports.MarkerClusterGroup = MarkerClusterGroup;\n\texports.MarkerCluster = MarkerCluster;\n\n\tObject.defineProperty(exports, '__esModule', { value: true });\n\n}));\n//# sourceMappingURL=leaflet.markercluster-src.js.map\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@react-leaflet/core\");\nvar leaflet_1 = __importDefault(require(\"leaflet\"));\nrequire(\"leaflet.markercluster\");\nrequire(\"./assets/MarkerCluster.css\");\nrequire(\"./assets/MarkerCluster.Default.css\");\ndelete leaflet_1.default.Icon.Default.prototype._getIconUrl;\nleaflet_1.default.Icon.Default.mergeOptions({\n    iconRetinaUrl: require('./assets/marker-icon-2x.png').default,\n    iconUrl: require('./assets/marker-icon.png').default,\n    shadowUrl: require('./assets/marker-shadow.png').default,\n});\nfunction getPropsAndEvents(props) {\n    var clusterProps = {};\n    var clusterEvents = {};\n    var children = props.children, rest = __rest(props\n    // Splitting props and events to different objects\n    , [\"children\"]);\n    // Splitting props and events to different objects\n    Object.entries(rest).forEach(function (_a) {\n        var _b, _c;\n        var propName = _a[0], prop = _a[1];\n        if (propName.startsWith('on')) {\n            clusterEvents = __assign(__assign({}, clusterEvents), (_b = {}, _b[propName] = prop, _b));\n        }\n        else {\n            clusterProps = __assign(__assign({}, clusterProps), (_c = {}, _c[propName] = prop, _c));\n        }\n    });\n    return { clusterProps: clusterProps, clusterEvents: clusterEvents };\n}\nfunction createMarkerClusterGroup(props, context) {\n    var _a = getPropsAndEvents(props), clusterProps = _a.clusterProps, clusterEvents = _a.clusterEvents;\n    var markerClusterGroup = new leaflet_1.default.MarkerClusterGroup(clusterProps);\n    Object.entries(clusterEvents).forEach(function (_a) {\n        var eventAsProp = _a[0], callback = _a[1];\n        var clusterEvent = \"cluster\".concat(eventAsProp.substring(2).toLowerCase());\n        markerClusterGroup.on(clusterEvent, callback);\n    });\n    return (0, core_1.createElementObject)(markerClusterGroup, (0, core_1.extendContext)(context, { layerContainer: markerClusterGroup }));\n}\nvar updateMarkerCluster = function (instance, props, prevProps) {\n    //TODO when prop change update instance\n    //   if (props. !== prevProps.center || props.size !== prevProps.size) {\n    //   instance.setBounds(getBounds(props))\n    // }\n};\nvar MarkerClusterGroup = (0, core_1.createPathComponent)(createMarkerClusterGroup, updateMarkerCluster);\nexports.default = MarkerClusterGroup;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.bodyOpenClassName = exports.portalClassName = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require(\"react-dom\");\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _ModalPortal = require(\"./ModalPortal\");\n\nvar _ModalPortal2 = _interopRequireDefault(_ModalPortal);\n\nvar _ariaAppHider = require(\"../helpers/ariaAppHider\");\n\nvar ariaAppHider = _interopRequireWildcard(_ariaAppHider);\n\nvar _safeHTMLElement = require(\"../helpers/safeHTMLElement\");\n\nvar _safeHTMLElement2 = _interopRequireDefault(_safeHTMLElement);\n\nvar _reactLifecyclesCompat = require(\"react-lifecycles-compat\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar portalClassName = exports.portalClassName = \"ReactModalPortal\";\nvar bodyOpenClassName = exports.bodyOpenClassName = \"ReactModal__Body--open\";\n\nvar isReact16 = _safeHTMLElement.canUseDOM && _reactDom2.default.createPortal !== undefined;\n\nvar createHTMLElement = function createHTMLElement(name) {\n  return document.createElement(name);\n};\n\nvar getCreatePortal = function getCreatePortal() {\n  return isReact16 ? _reactDom2.default.createPortal : _reactDom2.default.unstable_renderSubtreeIntoContainer;\n};\n\nfunction getParentElement(parentSelector) {\n  return parentSelector();\n}\n\nvar Modal = function (_Component) {\n  _inherits(Modal, _Component);\n\n  function Modal() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Modal);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Modal.__proto__ || Object.getPrototypeOf(Modal)).call.apply(_ref, [this].concat(args))), _this), _this.removePortal = function () {\n      !isReact16 && _reactDom2.default.unmountComponentAtNode(_this.node);\n      var parent = getParentElement(_this.props.parentSelector);\n      if (parent && parent.contains(_this.node)) {\n        parent.removeChild(_this.node);\n      } else {\n        // eslint-disable-next-line no-console\n        console.warn('React-Modal: \"parentSelector\" prop did not returned any DOM ' + \"element. Make sure that the parent element is unmounted to \" + \"avoid any memory leaks.\");\n      }\n    }, _this.portalRef = function (ref) {\n      _this.portal = ref;\n    }, _this.renderPortal = function (props) {\n      var createPortal = getCreatePortal();\n      var portal = createPortal(_this, _react2.default.createElement(_ModalPortal2.default, _extends({ defaultStyles: Modal.defaultStyles }, props)), _this.node);\n      _this.portalRef(portal);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Modal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (!_safeHTMLElement.canUseDOM) return;\n\n      if (!isReact16) {\n        this.node = createHTMLElement(\"div\");\n      }\n      this.node.className = this.props.portalClassName;\n\n      var parent = getParentElement(this.props.parentSelector);\n      parent.appendChild(this.node);\n\n      !isReact16 && this.renderPortal(this.props);\n    }\n  }, {\n    key: \"getSnapshotBeforeUpdate\",\n    value: function getSnapshotBeforeUpdate(prevProps) {\n      var prevParent = getParentElement(prevProps.parentSelector);\n      var nextParent = getParentElement(this.props.parentSelector);\n      return { prevParent: prevParent, nextParent: nextParent };\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, _, snapshot) {\n      if (!_safeHTMLElement.canUseDOM) return;\n      var _props = this.props,\n          isOpen = _props.isOpen,\n          portalClassName = _props.portalClassName;\n\n\n      if (prevProps.portalClassName !== portalClassName) {\n        this.node.className = portalClassName;\n      }\n\n      var prevParent = snapshot.prevParent,\n          nextParent = snapshot.nextParent;\n\n      if (nextParent !== prevParent) {\n        prevParent.removeChild(this.node);\n        nextParent.appendChild(this.node);\n      }\n\n      // Stop unnecessary renders if modal is remaining closed\n      if (!prevProps.isOpen && !isOpen) return;\n\n      !isReact16 && this.renderPortal(this.props);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (!_safeHTMLElement.canUseDOM || !this.node || !this.portal) return;\n\n      var state = this.portal.state;\n      var now = Date.now();\n      var closesAt = state.isOpen && this.props.closeTimeoutMS && (state.closesAt || now + this.props.closeTimeoutMS);\n\n      if (closesAt) {\n        if (!state.beforeClose) {\n          this.portal.closeWithTimeout();\n        }\n\n        setTimeout(this.removePortal, closesAt - now);\n      } else {\n        this.removePortal();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!_safeHTMLElement.canUseDOM || !isReact16) {\n        return null;\n      }\n\n      if (!this.node && isReact16) {\n        this.node = createHTMLElement(\"div\");\n      }\n\n      var createPortal = getCreatePortal();\n      return createPortal(_react2.default.createElement(_ModalPortal2.default, _extends({\n        ref: this.portalRef,\n        defaultStyles: Modal.defaultStyles\n      }, this.props)), this.node);\n    }\n  }], [{\n    key: \"setAppElement\",\n    value: function setAppElement(element) {\n      ariaAppHider.setElement(element);\n    }\n\n    /* eslint-disable react/no-unused-prop-types */\n\n    /* eslint-enable react/no-unused-prop-types */\n\n  }]);\n\n  return Modal;\n}(_react.Component);\n\nModal.propTypes = {\n  isOpen: _propTypes2.default.bool.isRequired,\n  style: _propTypes2.default.shape({\n    content: _propTypes2.default.object,\n    overlay: _propTypes2.default.object\n  }),\n  portalClassName: _propTypes2.default.string,\n  bodyOpenClassName: _propTypes2.default.string,\n  htmlOpenClassName: _propTypes2.default.string,\n  className: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.shape({\n    base: _propTypes2.default.string.isRequired,\n    afterOpen: _propTypes2.default.string.isRequired,\n    beforeClose: _propTypes2.default.string.isRequired\n  })]),\n  overlayClassName: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.shape({\n    base: _propTypes2.default.string.isRequired,\n    afterOpen: _propTypes2.default.string.isRequired,\n    beforeClose: _propTypes2.default.string.isRequired\n  })]),\n  appElement: _propTypes2.default.oneOfType([_propTypes2.default.instanceOf(_safeHTMLElement2.default), _propTypes2.default.instanceOf(_safeHTMLElement.SafeHTMLCollection), _propTypes2.default.instanceOf(_safeHTMLElement.SafeNodeList), _propTypes2.default.arrayOf(_propTypes2.default.instanceOf(_safeHTMLElement2.default))]),\n  onAfterOpen: _propTypes2.default.func,\n  onRequestClose: _propTypes2.default.func,\n  closeTimeoutMS: _propTypes2.default.number,\n  ariaHideApp: _propTypes2.default.bool,\n  shouldFocusAfterRender: _propTypes2.default.bool,\n  shouldCloseOnOverlayClick: _propTypes2.default.bool,\n  shouldReturnFocusAfterClose: _propTypes2.default.bool,\n  preventScroll: _propTypes2.default.bool,\n  parentSelector: _propTypes2.default.func,\n  aria: _propTypes2.default.object,\n  data: _propTypes2.default.object,\n  role: _propTypes2.default.string,\n  contentLabel: _propTypes2.default.string,\n  shouldCloseOnEsc: _propTypes2.default.bool,\n  overlayRef: _propTypes2.default.func,\n  contentRef: _propTypes2.default.func,\n  id: _propTypes2.default.string,\n  overlayElement: _propTypes2.default.func,\n  contentElement: _propTypes2.default.func\n};\nModal.defaultProps = {\n  isOpen: false,\n  portalClassName: portalClassName,\n  bodyOpenClassName: bodyOpenClassName,\n  role: \"dialog\",\n  ariaHideApp: true,\n  closeTimeoutMS: 0,\n  shouldFocusAfterRender: true,\n  shouldCloseOnEsc: true,\n  shouldCloseOnOverlayClick: true,\n  shouldReturnFocusAfterClose: true,\n  preventScroll: false,\n  parentSelector: function parentSelector() {\n    return document.body;\n  },\n  overlayElement: function overlayElement(props, contentEl) {\n    return _react2.default.createElement(\n      \"div\",\n      props,\n      contentEl\n    );\n  },\n  contentElement: function contentElement(props, children) {\n    return _react2.default.createElement(\n      \"div\",\n      props,\n      children\n    );\n  }\n};\nModal.defaultStyles = {\n  overlay: {\n    position: \"fixed\",\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: \"rgba(255, 255, 255, 0.75)\"\n  },\n  content: {\n    position: \"absolute\",\n    top: \"40px\",\n    left: \"40px\",\n    right: \"40px\",\n    bottom: \"40px\",\n    border: \"1px solid #ccc\",\n    background: \"#fff\",\n    overflow: \"auto\",\n    WebkitOverflowScrolling: \"touch\",\n    borderRadius: \"4px\",\n    outline: \"none\",\n    padding: \"20px\"\n  }\n};\n\n\n(0, _reactLifecyclesCompat.polyfill)(Modal);\n\nif (process.env.NODE_ENV !== \"production\") {\n  Modal.setCreateHTMLElement = function (fn) {\n    return createHTMLElement = fn;\n  };\n}\n\nexports.default = Modal;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _focusManager = require(\"../helpers/focusManager\");\n\nvar focusManager = _interopRequireWildcard(_focusManager);\n\nvar _scopeTab = require(\"../helpers/scopeTab\");\n\nvar _scopeTab2 = _interopRequireDefault(_scopeTab);\n\nvar _ariaAppHider = require(\"../helpers/ariaAppHider\");\n\nvar ariaAppHider = _interopRequireWildcard(_ariaAppHider);\n\nvar _classList = require(\"../helpers/classList\");\n\nvar classList = _interopRequireWildcard(_classList);\n\nvar _safeHTMLElement = require(\"../helpers/safeHTMLElement\");\n\nvar _safeHTMLElement2 = _interopRequireDefault(_safeHTMLElement);\n\nvar _portalOpenInstances = require(\"../helpers/portalOpenInstances\");\n\nvar _portalOpenInstances2 = _interopRequireDefault(_portalOpenInstances);\n\nrequire(\"../helpers/bodyTrap\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// so that our CSS is statically analyzable\nvar CLASS_NAMES = {\n  overlay: \"ReactModal__Overlay\",\n  content: \"ReactModal__Content\"\n};\n\n/**\n * We need to support the deprecated `KeyboardEvent.keyCode` in addition to\n * `KeyboardEvent.code` for apps that still support IE11. Can be removed when\n * `react-modal` only supports React >18 (which dropped IE support).\n */\nvar isTabKey = function isTabKey(event) {\n  return event.code === \"Tab\" || event.keyCode === 9;\n};\nvar isEscKey = function isEscKey(event) {\n  return event.code === \"Escape\" || event.keyCode === 27;\n};\n\nvar ariaHiddenInstances = 0;\n\nvar ModalPortal = function (_Component) {\n  _inherits(ModalPortal, _Component);\n\n  function ModalPortal(props) {\n    _classCallCheck(this, ModalPortal);\n\n    var _this = _possibleConstructorReturn(this, (ModalPortal.__proto__ || Object.getPrototypeOf(ModalPortal)).call(this, props));\n\n    _this.setOverlayRef = function (overlay) {\n      _this.overlay = overlay;\n      _this.props.overlayRef && _this.props.overlayRef(overlay);\n    };\n\n    _this.setContentRef = function (content) {\n      _this.content = content;\n      _this.props.contentRef && _this.props.contentRef(content);\n    };\n\n    _this.afterClose = function () {\n      var _this$props = _this.props,\n          appElement = _this$props.appElement,\n          ariaHideApp = _this$props.ariaHideApp,\n          htmlOpenClassName = _this$props.htmlOpenClassName,\n          bodyOpenClassName = _this$props.bodyOpenClassName,\n          parentSelector = _this$props.parentSelector;\n\n\n      var parentDocument = parentSelector && parentSelector().ownerDocument || document;\n\n      // Remove classes.\n      bodyOpenClassName && classList.remove(parentDocument.body, bodyOpenClassName);\n\n      htmlOpenClassName && classList.remove(parentDocument.getElementsByTagName(\"html\")[0], htmlOpenClassName);\n\n      // Reset aria-hidden attribute if all modals have been removed\n      if (ariaHideApp && ariaHiddenInstances > 0) {\n        ariaHiddenInstances -= 1;\n\n        if (ariaHiddenInstances === 0) {\n          ariaAppHider.show(appElement);\n        }\n      }\n\n      if (_this.props.shouldFocusAfterRender) {\n        if (_this.props.shouldReturnFocusAfterClose) {\n          focusManager.returnFocus(_this.props.preventScroll);\n          focusManager.teardownScopedFocus();\n        } else {\n          focusManager.popWithoutFocus();\n        }\n      }\n\n      if (_this.props.onAfterClose) {\n        _this.props.onAfterClose();\n      }\n\n      _portalOpenInstances2.default.deregister(_this);\n    };\n\n    _this.open = function () {\n      _this.beforeOpen();\n      if (_this.state.afterOpen && _this.state.beforeClose) {\n        clearTimeout(_this.closeTimer);\n        _this.setState({ beforeClose: false });\n      } else {\n        if (_this.props.shouldFocusAfterRender) {\n          focusManager.setupScopedFocus(_this.node);\n          focusManager.markForFocusLater();\n        }\n\n        _this.setState({ isOpen: true }, function () {\n          _this.openAnimationFrame = requestAnimationFrame(function () {\n            _this.setState({ afterOpen: true });\n\n            if (_this.props.isOpen && _this.props.onAfterOpen) {\n              _this.props.onAfterOpen({\n                overlayEl: _this.overlay,\n                contentEl: _this.content\n              });\n            }\n          });\n        });\n      }\n    };\n\n    _this.close = function () {\n      if (_this.props.closeTimeoutMS > 0) {\n        _this.closeWithTimeout();\n      } else {\n        _this.closeWithoutTimeout();\n      }\n    };\n\n    _this.focusContent = function () {\n      return _this.content && !_this.contentHasFocus() && _this.content.focus({ preventScroll: true });\n    };\n\n    _this.closeWithTimeout = function () {\n      var closesAt = Date.now() + _this.props.closeTimeoutMS;\n      _this.setState({ beforeClose: true, closesAt: closesAt }, function () {\n        _this.closeTimer = setTimeout(_this.closeWithoutTimeout, _this.state.closesAt - Date.now());\n      });\n    };\n\n    _this.closeWithoutTimeout = function () {\n      _this.setState({\n        beforeClose: false,\n        isOpen: false,\n        afterOpen: false,\n        closesAt: null\n      }, _this.afterClose);\n    };\n\n    _this.handleKeyDown = function (event) {\n      if (isTabKey(event)) {\n        (0, _scopeTab2.default)(_this.content, event);\n      }\n\n      if (_this.props.shouldCloseOnEsc && isEscKey(event)) {\n        event.stopPropagation();\n        _this.requestClose(event);\n      }\n    };\n\n    _this.handleOverlayOnClick = function (event) {\n      if (_this.shouldClose === null) {\n        _this.shouldClose = true;\n      }\n\n      if (_this.shouldClose && _this.props.shouldCloseOnOverlayClick) {\n        if (_this.ownerHandlesClose()) {\n          _this.requestClose(event);\n        } else {\n          _this.focusContent();\n        }\n      }\n      _this.shouldClose = null;\n    };\n\n    _this.handleContentOnMouseUp = function () {\n      _this.shouldClose = false;\n    };\n\n    _this.handleOverlayOnMouseDown = function (event) {\n      if (!_this.props.shouldCloseOnOverlayClick && event.target == _this.overlay) {\n        event.preventDefault();\n      }\n    };\n\n    _this.handleContentOnClick = function () {\n      _this.shouldClose = false;\n    };\n\n    _this.handleContentOnMouseDown = function () {\n      _this.shouldClose = false;\n    };\n\n    _this.requestClose = function (event) {\n      return _this.ownerHandlesClose() && _this.props.onRequestClose(event);\n    };\n\n    _this.ownerHandlesClose = function () {\n      return _this.props.onRequestClose;\n    };\n\n    _this.shouldBeClosed = function () {\n      return !_this.state.isOpen && !_this.state.beforeClose;\n    };\n\n    _this.contentHasFocus = function () {\n      return document.activeElement === _this.content || _this.content.contains(document.activeElement);\n    };\n\n    _this.buildClassName = function (which, additional) {\n      var classNames = (typeof additional === \"undefined\" ? \"undefined\" : _typeof(additional)) === \"object\" ? additional : {\n        base: CLASS_NAMES[which],\n        afterOpen: CLASS_NAMES[which] + \"--after-open\",\n        beforeClose: CLASS_NAMES[which] + \"--before-close\"\n      };\n      var className = classNames.base;\n      if (_this.state.afterOpen) {\n        className = className + \" \" + classNames.afterOpen;\n      }\n      if (_this.state.beforeClose) {\n        className = className + \" \" + classNames.beforeClose;\n      }\n      return typeof additional === \"string\" && additional ? className + \" \" + additional : className;\n    };\n\n    _this.attributesFromObject = function (prefix, items) {\n      return Object.keys(items).reduce(function (acc, name) {\n        acc[prefix + \"-\" + name] = items[name];\n        return acc;\n      }, {});\n    };\n\n    _this.state = {\n      afterOpen: false,\n      beforeClose: false\n    };\n\n    _this.shouldClose = null;\n    _this.moveFromContentToOverlay = null;\n    return _this;\n  }\n\n  _createClass(ModalPortal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.isOpen) {\n        this.open();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (prevProps.bodyOpenClassName !== this.props.bodyOpenClassName) {\n          // eslint-disable-next-line no-console\n          console.warn('React-Modal: \"bodyOpenClassName\" prop has been modified. ' + \"This may cause unexpected behavior when multiple modals are open.\");\n        }\n        if (prevProps.htmlOpenClassName !== this.props.htmlOpenClassName) {\n          // eslint-disable-next-line no-console\n          console.warn('React-Modal: \"htmlOpenClassName\" prop has been modified. ' + \"This may cause unexpected behavior when multiple modals are open.\");\n        }\n      }\n\n      if (this.props.isOpen && !prevProps.isOpen) {\n        this.open();\n      } else if (!this.props.isOpen && prevProps.isOpen) {\n        this.close();\n      }\n\n      // Focus only needs to be set once when the modal is being opened\n      if (this.props.shouldFocusAfterRender && this.state.isOpen && !prevState.isOpen) {\n        this.focusContent();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.state.isOpen) {\n        this.afterClose();\n      }\n      clearTimeout(this.closeTimer);\n      cancelAnimationFrame(this.openAnimationFrame);\n    }\n  }, {\n    key: \"beforeOpen\",\n    value: function beforeOpen() {\n      var _props = this.props,\n          appElement = _props.appElement,\n          ariaHideApp = _props.ariaHideApp,\n          htmlOpenClassName = _props.htmlOpenClassName,\n          bodyOpenClassName = _props.bodyOpenClassName,\n          parentSelector = _props.parentSelector;\n\n\n      var parentDocument = parentSelector && parentSelector().ownerDocument || document;\n\n      // Add classes.\n      bodyOpenClassName && classList.add(parentDocument.body, bodyOpenClassName);\n\n      htmlOpenClassName && classList.add(parentDocument.getElementsByTagName(\"html\")[0], htmlOpenClassName);\n\n      if (ariaHideApp) {\n        ariaHiddenInstances += 1;\n        ariaAppHider.hide(appElement);\n      }\n\n      _portalOpenInstances2.default.register(this);\n    }\n\n    // Don't steal focus from inner elements\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _props2 = this.props,\n          id = _props2.id,\n          className = _props2.className,\n          overlayClassName = _props2.overlayClassName,\n          defaultStyles = _props2.defaultStyles,\n          children = _props2.children;\n\n      var contentStyles = className ? {} : defaultStyles.content;\n      var overlayStyles = overlayClassName ? {} : defaultStyles.overlay;\n\n      if (this.shouldBeClosed()) {\n        return null;\n      }\n\n      var overlayProps = {\n        ref: this.setOverlayRef,\n        className: this.buildClassName(\"overlay\", overlayClassName),\n        style: _extends({}, overlayStyles, this.props.style.overlay),\n        onClick: this.handleOverlayOnClick,\n        onMouseDown: this.handleOverlayOnMouseDown\n      };\n\n      var contentProps = _extends({\n        id: id,\n        ref: this.setContentRef,\n        style: _extends({}, contentStyles, this.props.style.content),\n        className: this.buildClassName(\"content\", className),\n        tabIndex: \"-1\",\n        onKeyDown: this.handleKeyDown,\n        onMouseDown: this.handleContentOnMouseDown,\n        onMouseUp: this.handleContentOnMouseUp,\n        onClick: this.handleContentOnClick,\n        role: this.props.role,\n        \"aria-label\": this.props.contentLabel\n      }, this.attributesFromObject(\"aria\", _extends({ modal: true }, this.props.aria)), this.attributesFromObject(\"data\", this.props.data || {}), {\n        \"data-testid\": this.props.testId\n      });\n\n      var contentElement = this.props.contentElement(contentProps, children);\n      return this.props.overlayElement(overlayProps, contentElement);\n    }\n  }]);\n\n  return ModalPortal;\n}(_react.Component);\n\nModalPortal.defaultProps = {\n  style: {\n    overlay: {},\n    content: {}\n  },\n  defaultStyles: {}\n};\nModalPortal.propTypes = {\n  isOpen: _propTypes2.default.bool.isRequired,\n  defaultStyles: _propTypes2.default.shape({\n    content: _propTypes2.default.object,\n    overlay: _propTypes2.default.object\n  }),\n  style: _propTypes2.default.shape({\n    content: _propTypes2.default.object,\n    overlay: _propTypes2.default.object\n  }),\n  className: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object]),\n  overlayClassName: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object]),\n  parentSelector: _propTypes2.default.func,\n  bodyOpenClassName: _propTypes2.default.string,\n  htmlOpenClassName: _propTypes2.default.string,\n  ariaHideApp: _propTypes2.default.bool,\n  appElement: _propTypes2.default.oneOfType([_propTypes2.default.instanceOf(_safeHTMLElement2.default), _propTypes2.default.instanceOf(_safeHTMLElement.SafeHTMLCollection), _propTypes2.default.instanceOf(_safeHTMLElement.SafeNodeList), _propTypes2.default.arrayOf(_propTypes2.default.instanceOf(_safeHTMLElement2.default))]),\n  onAfterOpen: _propTypes2.default.func,\n  onAfterClose: _propTypes2.default.func,\n  onRequestClose: _propTypes2.default.func,\n  closeTimeoutMS: _propTypes2.default.number,\n  shouldFocusAfterRender: _propTypes2.default.bool,\n  shouldCloseOnOverlayClick: _propTypes2.default.bool,\n  shouldReturnFocusAfterClose: _propTypes2.default.bool,\n  preventScroll: _propTypes2.default.bool,\n  role: _propTypes2.default.string,\n  contentLabel: _propTypes2.default.string,\n  aria: _propTypes2.default.object,\n  data: _propTypes2.default.object,\n  children: _propTypes2.default.node,\n  shouldCloseOnEsc: _propTypes2.default.bool,\n  overlayRef: _propTypes2.default.func,\n  contentRef: _propTypes2.default.func,\n  id: _propTypes2.default.string,\n  overlayElement: _propTypes2.default.func,\n  contentElement: _propTypes2.default.func,\n  testId: _propTypes2.default.string\n};\nexports.default = ModalPortal;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resetState = resetState;\nexports.log = log;\nexports.assertNodeList = assertNodeList;\nexports.setElement = setElement;\nexports.validateElement = validateElement;\nexports.hide = hide;\nexports.show = show;\nexports.documentNotReadyOrSSRTesting = documentNotReadyOrSSRTesting;\n\nvar _warning = require(\"warning\");\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _safeHTMLElement = require(\"./safeHTMLElement\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar globalElement = null;\n\n/* eslint-disable no-console */\n/* istanbul ignore next */\nfunction resetState() {\n  if (globalElement) {\n    if (globalElement.removeAttribute) {\n      globalElement.removeAttribute(\"aria-hidden\");\n    } else if (globalElement.length != null) {\n      globalElement.forEach(function (element) {\n        return element.removeAttribute(\"aria-hidden\");\n      });\n    } else {\n      document.querySelectorAll(globalElement).forEach(function (element) {\n        return element.removeAttribute(\"aria-hidden\");\n      });\n    }\n  }\n  globalElement = null;\n}\n\n/* istanbul ignore next */\nfunction log() {\n  if (process.env.NODE_ENV !== \"production\") {\n    var check = globalElement || {};\n    console.log(\"ariaAppHider ----------\");\n    console.log(check.nodeName, check.className, check.id);\n    console.log(\"end ariaAppHider ----------\");\n  }\n}\n/* eslint-enable no-console */\n\nfunction assertNodeList(nodeList, selector) {\n  if (!nodeList || !nodeList.length) {\n    throw new Error(\"react-modal: No elements were found for selector \" + selector + \".\");\n  }\n}\n\nfunction setElement(element) {\n  var useElement = element;\n  if (typeof useElement === \"string\" && _safeHTMLElement.canUseDOM) {\n    var el = document.querySelectorAll(useElement);\n    assertNodeList(el, useElement);\n    useElement = el;\n  }\n  globalElement = useElement || globalElement;\n  return globalElement;\n}\n\nfunction validateElement(appElement) {\n  var el = appElement || globalElement;\n  if (el) {\n    return Array.isArray(el) || el instanceof HTMLCollection || el instanceof NodeList ? el : [el];\n  } else {\n    (0, _warning2.default)(false, [\"react-modal: App element is not defined.\", \"Please use `Modal.setAppElement(el)` or set `appElement={el}`.\", \"This is needed so screen readers don't see main content\", \"when modal is opened. It is not recommended, but you can opt-out\", \"by setting `ariaHideApp={false}`.\"].join(\" \"));\n\n    return [];\n  }\n}\n\nfunction hide(appElement) {\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = validateElement(appElement)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var el = _step.value;\n\n      el.setAttribute(\"aria-hidden\", \"true\");\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n}\n\nfunction show(appElement) {\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = validateElement(appElement)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var el = _step2.value;\n\n      el.removeAttribute(\"aria-hidden\");\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n}\n\nfunction documentNotReadyOrSSRTesting() {\n  globalElement = null;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resetState = resetState;\nexports.log = log;\n\nvar _portalOpenInstances = require(\"./portalOpenInstances\");\n\nvar _portalOpenInstances2 = _interopRequireDefault(_portalOpenInstances);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Body focus trap see Issue #742\n\nvar before = void 0,\n    after = void 0,\n    instances = [];\n\n/* eslint-disable no-console */\n/* istanbul ignore next */\nfunction resetState() {\n  var _arr = [before, after];\n\n  for (var _i = 0; _i < _arr.length; _i++) {\n    var item = _arr[_i];\n    if (!item) continue;\n    item.parentNode && item.parentNode.removeChild(item);\n  }\n  before = after = null;\n  instances = [];\n}\n\n/* istanbul ignore next */\nfunction log() {\n  console.log(\"bodyTrap ----------\");\n  console.log(instances.length);\n  var _arr2 = [before, after];\n  for (var _i2 = 0; _i2 < _arr2.length; _i2++) {\n    var item = _arr2[_i2];\n    var check = item || {};\n    console.log(check.nodeName, check.className, check.id);\n  }\n  console.log(\"edn bodyTrap ----------\");\n}\n/* eslint-enable no-console */\n\nfunction focusContent() {\n  if (instances.length === 0) {\n    if (process.env.NODE_ENV !== \"production\") {\n      // eslint-disable-next-line no-console\n      console.warn(\"React-Modal: Open instances > 0 expected\");\n    }\n    return;\n  }\n  instances[instances.length - 1].focusContent();\n}\n\nfunction bodyTrap(eventType, openInstances) {\n  if (!before && !after) {\n    before = document.createElement(\"div\");\n    before.setAttribute(\"data-react-modal-body-trap\", \"\");\n    before.style.position = \"absolute\";\n    before.style.opacity = \"0\";\n    before.setAttribute(\"tabindex\", \"0\");\n    before.addEventListener(\"focus\", focusContent);\n    after = before.cloneNode();\n    after.addEventListener(\"focus\", focusContent);\n  }\n\n  instances = openInstances;\n\n  if (instances.length > 0) {\n    // Add focus trap\n    if (document.body.firstChild !== before) {\n      document.body.insertBefore(before, document.body.firstChild);\n    }\n    if (document.body.lastChild !== after) {\n      document.body.appendChild(after);\n    }\n  } else {\n    // Remove focus trap\n    if (before.parentElement) {\n      before.parentElement.removeChild(before);\n    }\n    if (after.parentElement) {\n      after.parentElement.removeChild(after);\n    }\n  }\n}\n\n_portalOpenInstances2.default.subscribe(bodyTrap);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resetState = resetState;\nexports.log = log;\nvar htmlClassList = {};\nvar docBodyClassList = {};\n\n/* eslint-disable no-console */\n/* istanbul ignore next */\nfunction removeClass(at, cls) {\n  at.classList.remove(cls);\n}\n\n/* istanbul ignore next */\nfunction resetState() {\n  var htmlElement = document.getElementsByTagName(\"html\")[0];\n  for (var cls in htmlClassList) {\n    removeClass(htmlElement, htmlClassList[cls]);\n  }\n\n  var body = document.body;\n  for (var _cls in docBodyClassList) {\n    removeClass(body, docBodyClassList[_cls]);\n  }\n\n  htmlClassList = {};\n  docBodyClassList = {};\n}\n\n/* istanbul ignore next */\nfunction log() {\n  if (process.env.NODE_ENV !== \"production\") {\n    var classes = document.getElementsByTagName(\"html\")[0].className;\n    var buffer = \"Show tracked classes:\\n\\n\";\n\n    buffer += \"<html /> (\" + classes + \"):\\n  \";\n    for (var x in htmlClassList) {\n      buffer += \"  \" + x + \" \" + htmlClassList[x] + \"\\n  \";\n    }\n\n    classes = document.body.className;\n\n    buffer += \"\\n\\ndoc.body (\" + classes + \"):\\n  \";\n    for (var _x in docBodyClassList) {\n      buffer += \"  \" + _x + \" \" + docBodyClassList[_x] + \"\\n  \";\n    }\n\n    buffer += \"\\n\";\n\n    console.log(buffer);\n  }\n}\n/* eslint-enable no-console */\n\n/**\n * Track the number of reference of a class.\n * @param {object} poll The poll to receive the reference.\n * @param {string} className The class name.\n * @return {string}\n */\nvar incrementReference = function incrementReference(poll, className) {\n  if (!poll[className]) {\n    poll[className] = 0;\n  }\n  poll[className] += 1;\n  return className;\n};\n\n/**\n * Drop the reference of a class.\n * @param {object} poll The poll to receive the reference.\n * @param {string} className The class name.\n * @return {string}\n */\nvar decrementReference = function decrementReference(poll, className) {\n  if (poll[className]) {\n    poll[className] -= 1;\n  }\n  return className;\n};\n\n/**\n * Track a class and add to the given class list.\n * @param {Object} classListRef A class list of an element.\n * @param {Object} poll         The poll to be used.\n * @param {Array}  classes      The list of classes to be tracked.\n */\nvar trackClass = function trackClass(classListRef, poll, classes) {\n  classes.forEach(function (className) {\n    incrementReference(poll, className);\n    classListRef.add(className);\n  });\n};\n\n/**\n * Untrack a class and remove from the given class list if the reference\n * reaches 0.\n * @param {Object} classListRef A class list of an element.\n * @param {Object} poll         The poll to be used.\n * @param {Array}  classes      The list of classes to be untracked.\n */\nvar untrackClass = function untrackClass(classListRef, poll, classes) {\n  classes.forEach(function (className) {\n    decrementReference(poll, className);\n    poll[className] === 0 && classListRef.remove(className);\n  });\n};\n\n/**\n * Public inferface to add classes to the document.body.\n * @param {string} bodyClass The class string to be added.\n *                           It may contain more then one class\n *                           with ' ' as separator.\n */\nvar add = exports.add = function add(element, classString) {\n  return trackClass(element.classList, element.nodeName.toLowerCase() == \"html\" ? htmlClassList : docBodyClassList, classString.split(\" \"));\n};\n\n/**\n * Public inferface to remove classes from the document.body.\n * @param {string} bodyClass The class string to be added.\n *                           It may contain more then one class\n *                           with ' ' as separator.\n */\nvar remove = exports.remove = function remove(element, classString) {\n  return untrackClass(element.classList, element.nodeName.toLowerCase() == \"html\" ? htmlClassList : docBodyClassList, classString.split(\" \"));\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resetState = resetState;\nexports.log = log;\nexports.handleBlur = handleBlur;\nexports.handleFocus = handleFocus;\nexports.markForFocusLater = markForFocusLater;\nexports.returnFocus = returnFocus;\nexports.popWithoutFocus = popWithoutFocus;\nexports.setupScopedFocus = setupScopedFocus;\nexports.teardownScopedFocus = teardownScopedFocus;\n\nvar _tabbable = require(\"../helpers/tabbable\");\n\nvar _tabbable2 = _interopRequireDefault(_tabbable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar focusLaterElements = [];\nvar modalElement = null;\nvar needToFocus = false;\n\n/* eslint-disable no-console */\n/* istanbul ignore next */\nfunction resetState() {\n  focusLaterElements = [];\n}\n\n/* istanbul ignore next */\nfunction log() {\n  if (process.env.NODE_ENV !== \"production\") {\n    console.log(\"focusManager ----------\");\n    focusLaterElements.forEach(function (f) {\n      var check = f || {};\n      console.log(check.nodeName, check.className, check.id);\n    });\n    console.log(\"end focusManager ----------\");\n  }\n}\n/* eslint-enable no-console */\n\nfunction handleBlur() {\n  needToFocus = true;\n}\n\nfunction handleFocus() {\n  if (needToFocus) {\n    needToFocus = false;\n    if (!modalElement) {\n      return;\n    }\n    // need to see how jQuery shims document.on('focusin') so we don't need the\n    // setTimeout, firefox doesn't support focusin, if it did, we could focus\n    // the element outside of a setTimeout. Side-effect of this implementation\n    // is that the document.body gets focus, and then we focus our element right\n    // after, seems fine.\n    setTimeout(function () {\n      if (modalElement.contains(document.activeElement)) {\n        return;\n      }\n      var el = (0, _tabbable2.default)(modalElement)[0] || modalElement;\n      el.focus();\n    }, 0);\n  }\n}\n\nfunction markForFocusLater() {\n  focusLaterElements.push(document.activeElement);\n}\n\n/* eslint-disable no-console */\nfunction returnFocus() {\n  var preventScroll = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  var toFocus = null;\n  try {\n    if (focusLaterElements.length !== 0) {\n      toFocus = focusLaterElements.pop();\n      toFocus.focus({ preventScroll: preventScroll });\n    }\n    return;\n  } catch (e) {\n    console.warn([\"You tried to return focus to\", toFocus, \"but it is not in the DOM anymore\"].join(\" \"));\n  }\n}\n/* eslint-enable no-console */\n\nfunction popWithoutFocus() {\n  focusLaterElements.length > 0 && focusLaterElements.pop();\n}\n\nfunction setupScopedFocus(element) {\n  modalElement = element;\n\n  if (window.addEventListener) {\n    window.addEventListener(\"blur\", handleBlur, false);\n    document.addEventListener(\"focus\", handleFocus, true);\n  } else {\n    window.attachEvent(\"onBlur\", handleBlur);\n    document.attachEvent(\"onFocus\", handleFocus);\n  }\n}\n\nfunction teardownScopedFocus() {\n  modalElement = null;\n\n  if (window.addEventListener) {\n    window.removeEventListener(\"blur\", handleBlur);\n    document.removeEventListener(\"focus\", handleFocus);\n  } else {\n    window.detachEvent(\"onBlur\", handleBlur);\n    document.detachEvent(\"onFocus\", handleFocus);\n  }\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.log = log;\nexports.resetState = resetState;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// Tracks portals that are open and emits events to subscribers\n\nvar PortalOpenInstances = function PortalOpenInstances() {\n  var _this = this;\n\n  _classCallCheck(this, PortalOpenInstances);\n\n  this.register = function (openInstance) {\n    if (_this.openInstances.indexOf(openInstance) !== -1) {\n      if (process.env.NODE_ENV !== \"production\") {\n        // eslint-disable-next-line no-console\n        console.warn(\"React-Modal: Cannot register modal instance that's already open\");\n      }\n      return;\n    }\n    _this.openInstances.push(openInstance);\n    _this.emit(\"register\");\n  };\n\n  this.deregister = function (openInstance) {\n    var index = _this.openInstances.indexOf(openInstance);\n    if (index === -1) {\n      if (process.env.NODE_ENV !== \"production\") {\n        // eslint-disable-next-line no-console\n        console.warn(\"React-Modal: Unable to deregister \" + openInstance + \" as \" + \"it was never registered\");\n      }\n      return;\n    }\n    _this.openInstances.splice(index, 1);\n    _this.emit(\"deregister\");\n  };\n\n  this.subscribe = function (callback) {\n    _this.subscribers.push(callback);\n  };\n\n  this.emit = function (eventType) {\n    _this.subscribers.forEach(function (subscriber) {\n      return subscriber(eventType,\n      // shallow copy to avoid accidental mutation\n      _this.openInstances.slice());\n    });\n  };\n\n  this.openInstances = [];\n  this.subscribers = [];\n};\n\nvar portalOpenInstances = new PortalOpenInstances();\n\n/* eslint-disable no-console */\n/* istanbul ignore next */\nfunction log() {\n  console.log(\"portalOpenInstances ----------\");\n  console.log(portalOpenInstances.openInstances.length);\n  portalOpenInstances.openInstances.forEach(function (p) {\n    return console.log(p);\n  });\n  console.log(\"end portalOpenInstances ----------\");\n}\n\n/* istanbul ignore next */\nfunction resetState() {\n  portalOpenInstances = new PortalOpenInstances();\n}\n/* eslint-enable no-console */\n\nexports.default = portalOpenInstances;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.canUseDOM = exports.SafeNodeList = exports.SafeHTMLCollection = undefined;\n\nvar _exenv = require(\"exenv\");\n\nvar _exenv2 = _interopRequireDefault(_exenv);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar EE = _exenv2.default;\n\nvar SafeHTMLElement = EE.canUseDOM ? window.HTMLElement : {};\n\nvar SafeHTMLCollection = exports.SafeHTMLCollection = EE.canUseDOM ? window.HTMLCollection : {};\n\nvar SafeNodeList = exports.SafeNodeList = EE.canUseDOM ? window.NodeList : {};\n\nvar canUseDOM = exports.canUseDOM = EE.canUseDOM;\n\nexports.default = SafeHTMLElement;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = scopeTab;\n\nvar _tabbable = require(\"./tabbable\");\n\nvar _tabbable2 = _interopRequireDefault(_tabbable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getActiveElement() {\n  var el = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n\n  return el.activeElement.shadowRoot ? getActiveElement(el.activeElement.shadowRoot) : el.activeElement;\n}\n\nfunction scopeTab(node, event) {\n  var tabbable = (0, _tabbable2.default)(node);\n\n  if (!tabbable.length) {\n    // Do nothing, since there are no elements that can receive focus.\n    event.preventDefault();\n    return;\n  }\n\n  var target = void 0;\n\n  var shiftKey = event.shiftKey;\n  var head = tabbable[0];\n  var tail = tabbable[tabbable.length - 1];\n  var activeElement = getActiveElement();\n\n  // proceed with default browser behavior on tab.\n  // Focus on last element on shift + tab.\n  if (node === activeElement) {\n    if (!shiftKey) return;\n    target = tail;\n  }\n\n  if (tail === activeElement && !shiftKey) {\n    target = head;\n  }\n\n  if (head === activeElement && shiftKey) {\n    target = tail;\n  }\n\n  if (target) {\n    event.preventDefault();\n    target.focus();\n    return;\n  }\n\n  // Safari radio issue.\n  //\n  // Safari does not move the focus to the radio button,\n  // so we need to force it to really walk through all elements.\n  //\n  // This is very error prone, since we are trying to guess\n  // if it is a safari browser from the first occurence between\n  // chrome or safari.\n  //\n  // The chrome user agent contains the first ocurrence\n  // as the 'chrome/version' and later the 'safari/version'.\n  var checkSafari = /(\\bChrome\\b|\\bSafari\\b)\\//.exec(navigator.userAgent);\n  var isSafariDesktop = checkSafari != null && checkSafari[1] != \"Chrome\" && /\\biPod\\b|\\biPad\\b/g.exec(navigator.userAgent) == null;\n\n  // If we are not in safari desktop, let the browser control\n  // the focus\n  if (!isSafariDesktop) return;\n\n  var x = tabbable.indexOf(activeElement);\n\n  if (x > -1) {\n    x += shiftKey ? -1 : 1;\n  }\n\n  target = tabbable[x];\n\n  // If the tabbable element does not exist,\n  // focus head/tail based on shiftKey\n  if (typeof target === \"undefined\") {\n    event.preventDefault();\n    target = shiftKey ? tail : head;\n    target.focus();\n    return;\n  }\n\n  event.preventDefault();\n\n  target.focus();\n}\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = findTabbableDescendants;\n/*!\n * Adapted from jQuery UI core\n *\n * http://jqueryui.com\n *\n * Copyright 2014 jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/category/ui-core/\n */\n\nvar DISPLAY_NONE = \"none\";\nvar DISPLAY_CONTENTS = \"contents\";\n\n// match the whole word to prevent fuzzy searching\nvar tabbableNode = /^(input|select|textarea|button|object|iframe)$/;\n\nfunction isNotOverflowing(element, style) {\n  return style.getPropertyValue(\"overflow\") !== \"visible\" ||\n  // if 'overflow: visible' set, check if there is actually any overflow\n  element.scrollWidth <= 0 && element.scrollHeight <= 0;\n}\n\nfunction hidesContents(element) {\n  var zeroSize = element.offsetWidth <= 0 && element.offsetHeight <= 0;\n\n  // If the node is empty, this is good enough\n  if (zeroSize && !element.innerHTML) return true;\n\n  try {\n    // Otherwise we need to check some styles\n    var style = window.getComputedStyle(element);\n    var displayValue = style.getPropertyValue(\"display\");\n    return zeroSize ? displayValue !== DISPLAY_CONTENTS && isNotOverflowing(element, style) : displayValue === DISPLAY_NONE;\n  } catch (exception) {\n    // eslint-disable-next-line no-console\n    console.warn(\"Failed to inspect element style\");\n    return false;\n  }\n}\n\nfunction visible(element) {\n  var parentElement = element;\n  var rootNode = element.getRootNode && element.getRootNode();\n  while (parentElement) {\n    if (parentElement === document.body) break;\n\n    // if we are not hidden yet, skip to checking outside the Web Component\n    if (rootNode && parentElement === rootNode) parentElement = rootNode.host.parentNode;\n\n    if (hidesContents(parentElement)) return false;\n    parentElement = parentElement.parentNode;\n  }\n  return true;\n}\n\nfunction focusable(element, isTabIndexNotNaN) {\n  var nodeName = element.nodeName.toLowerCase();\n  var res = tabbableNode.test(nodeName) && !element.disabled || (nodeName === \"a\" ? element.href || isTabIndexNotNaN : isTabIndexNotNaN);\n  return res && visible(element);\n}\n\nfunction tabbable(element) {\n  var tabIndex = element.getAttribute(\"tabindex\");\n  if (tabIndex === null) tabIndex = undefined;\n  var isTabIndexNaN = isNaN(tabIndex);\n  return (isTabIndexNaN || tabIndex >= 0) && focusable(element, !isTabIndexNaN);\n}\n\nfunction findTabbableDescendants(element) {\n  var descendants = [].slice.call(element.querySelectorAll(\"*\"), 0).reduce(function (finished, el) {\n    return finished.concat(!el.shadowRoot ? [el] : findTabbableDescendants(el.shadowRoot));\n  }, []);\n  return descendants.filter(tabbable);\n}\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Modal = require(\"./components/Modal\");\n\nvar _Modal2 = _interopRequireDefault(_Modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _Modal2.default;\nmodule.exports = exports[\"default\"];","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcY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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC\"","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\nvar warning = function() {};\n\nif (__DEV__) {\n  var printWarning = function printWarning(format, args) {\n    var len = arguments.length;\n    args = new Array(len > 1 ? len - 1 : 0);\n    for (var key = 1; key < len; key++) {\n      args[key - 1] = arguments[key];\n    }\n    var argIndex = 0;\n    var message = 'Warning: ' +\n      format.replace(/%s/g, function() {\n        return args[argIndex++];\n      });\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  }\n\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n          '`warning(condition, format, ...args)` requires a warning ' +\n          'message argument'\n      );\n    }\n    if (!condition) {\n      printWarning.apply(null, [format].concat(args));\n    }\n  };\n}\n\nmodule.exports = warning;\n","import { useEffect, useRef } from 'react';\nexport function useAttribution(map, attribution) {\n    const attributionRef = useRef(attribution);\n    useEffect(function updateAttribution() {\n        if (attribution !== attributionRef.current && map.attributionControl != null) {\n            if (attributionRef.current != null) {\n                map.attributionControl.removeAttribution(attributionRef.current);\n            }\n            if (attribution != null) {\n                map.attributionControl.addAttribution(attribution);\n            }\n        }\n        attributionRef.current = attribution;\n    }, [\n        map,\n        attribution\n    ]);\n}\n","export function updateCircle(layer, props, prevProps) {\n    if (props.center !== prevProps.center) {\n        layer.setLatLng(props.center);\n    }\n    if (props.radius != null && props.radius !== prevProps.radius) {\n        layer.setRadius(props.radius);\n    }\n}\n","import React, { forwardRef, useEffect, useImperativeHandle, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { LeafletProvider } from './context.js';\nexport function createContainerComponent(useElement) {\n    function ContainerComponent(props, forwardedRef) {\n        const { instance , context  } = useElement(props).current;\n        useImperativeHandle(forwardedRef, ()=>instance);\n        return props.children == null ? null : /*#__PURE__*/ React.createElement(LeafletProvider, {\n            value: context\n        }, props.children);\n    }\n    return /*#__PURE__*/ forwardRef(ContainerComponent);\n}\nexport function createDivOverlayComponent(useElement) {\n    function OverlayComponent(props, forwardedRef) {\n        const [isOpen, setOpen] = useState(false);\n        const { instance  } = useElement(props, setOpen).current;\n        useImperativeHandle(forwardedRef, ()=>instance);\n        useEffect(function updateOverlay() {\n            if (isOpen) {\n                instance.update();\n            }\n        }, [\n            instance,\n            isOpen,\n            props.children\n        ]);\n        // @ts-ignore _contentNode missing in type definition\n        const contentNode = instance._contentNode;\n        return contentNode ? /*#__PURE__*/ createPortal(props.children, contentNode) : null;\n    }\n    return /*#__PURE__*/ forwardRef(OverlayComponent);\n}\nexport function createLeafComponent(useElement) {\n    function LeafComponent(props, forwardedRef) {\n        const { instance  } = useElement(props).current;\n        useImperativeHandle(forwardedRef, ()=>instance);\n        return null;\n    }\n    return /*#__PURE__*/ forwardRef(LeafComponent);\n}\n","import { createContext, useContext } from 'react';\nexport const CONTEXT_VERSION = 1;\nexport function createLeafletContext(map) {\n    return Object.freeze({\n        __version: CONTEXT_VERSION,\n        map\n    });\n}\nexport function extendContext(source, extra) {\n    return Object.freeze({\n        ...source,\n        ...extra\n    });\n}\nexport const LeafletContext = createContext(null);\nexport const LeafletProvider = LeafletContext.Provider;\nexport function useLeafletContext() {\n    const context = useContext(LeafletContext);\n    if (context == null) {\n        throw new Error('No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>');\n    }\n    return context;\n}\n","import { useEffect, useRef } from 'react';\nimport { useLeafletContext } from './context.js';\nexport function createControlHook(useElement) {\n    return function useLeafletControl(props) {\n        const context = useLeafletContext();\n        const elementRef = useElement(props, context);\n        const { instance  } = elementRef.current;\n        const positionRef = useRef(props.position);\n        const { position  } = props;\n        useEffect(function addControl() {\n            instance.addTo(context.map);\n            return function removeControl() {\n                instance.remove();\n            };\n        }, [\n            context.map,\n            instance\n        ]);\n        useEffect(function updateControl() {\n            if (position != null && position !== positionRef.current) {\n                instance.setPosition(position);\n                positionRef.current = position;\n            }\n        }, [\n            instance,\n            position\n        ]);\n        return elementRef;\n    };\n}\n","import { useAttribution } from './attribution.js';\nimport { useLeafletContext } from './context.js';\nimport { useEventHandlers } from './events.js';\nimport { withPane } from './pane.js';\nexport function createDivOverlayHook(useElement, useLifecycle) {\n    return function useDivOverlay(props, setOpen) {\n        const context = useLeafletContext();\n        const elementRef = useElement(withPane(props, context), context);\n        useAttribution(context.map, props.attribution);\n        useEventHandlers(elementRef.current, props.eventHandlers);\n        useLifecycle(elementRef.current, context, props, setOpen);\n        return elementRef;\n    };\n}\n","import { useEffect, useRef } from 'react';\nexport function createElementObject(instance, context, container) {\n    return Object.freeze({\n        instance,\n        context,\n        container\n    });\n}\nexport function createElementHook(createElement, updateElement) {\n    if (updateElement == null) {\n        return function useImmutableLeafletElement(props, context) {\n            const elementRef = useRef();\n            if (!elementRef.current) elementRef.current = createElement(props, context);\n            return elementRef;\n        };\n    }\n    return function useMutableLeafletElement(props, context) {\n        const elementRef = useRef();\n        if (!elementRef.current) elementRef.current = createElement(props, context);\n        const propsRef = useRef(props);\n        const { instance  } = elementRef.current;\n        useEffect(function updateElementProps() {\n            if (propsRef.current !== props) {\n                updateElement(instance, props, propsRef.current);\n                propsRef.current = props;\n            }\n        }, [\n            instance,\n            props,\n            context\n        ]);\n        return elementRef;\n    };\n}\n","import { useEffect, useRef } from 'react';\nexport function useEventHandlers(element, eventHandlers) {\n    const eventHandlersRef = useRef();\n    useEffect(function addEventHandlers() {\n        if (eventHandlers != null) {\n            element.instance.on(eventHandlers);\n        }\n        eventHandlersRef.current = eventHandlers;\n        return function removeEventHandlers() {\n            if (eventHandlersRef.current != null) {\n                element.instance.off(eventHandlersRef.current);\n            }\n            eventHandlersRef.current = null;\n        };\n    }, [\n        element,\n        eventHandlers\n    ]);\n}\n","import { createContainerComponent, createDivOverlayComponent, createLeafComponent } from './component.js';\nimport { createControlHook } from './control.js';\nimport { createElementHook, createElementObject } from './element.js';\nimport { createLayerHook } from './layer.js';\nimport { createDivOverlayHook } from './div-overlay.js';\nimport { createPathHook } from './path.js';\nexport function createControlComponent(createInstance) {\n    function createElement(props, context) {\n        return createElementObject(createInstance(props), context);\n    }\n    const useElement = createElementHook(createElement);\n    const useControl = createControlHook(useElement);\n    return createLeafComponent(useControl);\n}\nexport function createLayerComponent(createElement, updateElement) {\n    const useElement = createElementHook(createElement, updateElement);\n    const useLayer = createLayerHook(useElement);\n    return createContainerComponent(useLayer);\n}\nexport function createOverlayComponent(createElement, useLifecycle) {\n    const useElement = createElementHook(createElement);\n    const useOverlay = createDivOverlayHook(useElement, useLifecycle);\n    return createDivOverlayComponent(useOverlay);\n}\nexport function createPathComponent(createElement, updateElement) {\n    const useElement = createElementHook(createElement, updateElement);\n    const usePath = createPathHook(useElement);\n    return createContainerComponent(usePath);\n}\nexport function createTileLayerComponent(createElement, updateElement) {\n    const useElement = createElementHook(createElement, updateElement);\n    const useLayer = createLayerHook(useElement);\n    return createLeafComponent(useLayer);\n}\n","export function updateGridLayer(layer, props, prevProps) {\n    const { opacity , zIndex  } = props;\n    if (opacity != null && opacity !== prevProps.opacity) {\n        layer.setOpacity(opacity);\n    }\n    if (zIndex != null && zIndex !== prevProps.zIndex) {\n        layer.setZIndex(zIndex);\n    }\n}\n","import { DomUtil } from 'leaflet';\nfunction splitClassName(className) {\n    return className.split(' ').filter(Boolean);\n}\nexport function addClassName(element, className) {\n    splitClassName(className).forEach((cls)=>{\n        DomUtil.addClass(element, cls);\n    });\n}\nexport function removeClassName(element, className) {\n    splitClassName(className).forEach((cls)=>{\n        DomUtil.removeClass(element, cls);\n    });\n}\nexport function updateClassName(element, prevClassName, nextClassName) {\n    if (element != null && nextClassName !== prevClassName) {\n        if (prevClassName != null && prevClassName.length > 0) {\n            removeClassName(element, prevClassName);\n        }\n        if (nextClassName != null && nextClassName.length > 0) {\n            addClassName(element, nextClassName);\n        }\n    }\n}\n","import { LatLngBounds } from 'leaflet';\nexport function updateMediaOverlay(overlay, props, prevProps) {\n    if (props.bounds instanceof LatLngBounds && props.bounds !== prevProps.bounds) {\n        overlay.setBounds(props.bounds);\n    }\n    if (props.opacity != null && props.opacity !== prevProps.opacity) {\n        overlay.setOpacity(props.opacity);\n    }\n    if (props.zIndex != null && props.zIndex !== prevProps.zIndex) {\n        // @ts-ignore missing in definition but inherited from ImageOverlay\n        overlay.setZIndex(props.zIndex);\n    }\n}\n","import { useEffect } from 'react';\nimport { useAttribution } from './attribution.js';\nimport { useLeafletContext } from './context.js';\nimport { useEventHandlers } from './events.js';\nimport { withPane } from './pane.js';\nexport function useLayerLifecycle(element, context) {\n    useEffect(function addLayer() {\n        const container = context.layerContainer ?? context.map;\n        container.addLayer(element.instance);\n        return function removeLayer() {\n            context.layerContainer?.removeLayer(element.instance);\n            context.map.removeLayer(element.instance);\n        };\n    }, [\n        context,\n        element\n    ]);\n}\nexport function createLayerHook(useElement) {\n    return function useLayer(props) {\n        const context = useLeafletContext();\n        const elementRef = useElement(withPane(props, context), context);\n        useAttribution(context.map, props.attribution);\n        useEventHandlers(elementRef.current, props.eventHandlers);\n        useLayerLifecycle(elementRef.current, context);\n        return elementRef;\n    };\n}\n","export function withPane(props, context) {\n    const pane = props.pane ?? context.pane;\n    return pane ? {\n        ...props,\n        pane\n    } : props;\n}\n","import { useEffect, useRef } from 'react';\nimport { useLeafletContext } from './context.js';\nimport { useEventHandlers } from './events.js';\nimport { useLayerLifecycle } from './layer.js';\nimport { withPane } from './pane.js';\nexport function usePathOptions(element, props) {\n    const optionsRef = useRef();\n    useEffect(function updatePathOptions() {\n        if (props.pathOptions !== optionsRef.current) {\n            const options = props.pathOptions ?? {};\n            element.instance.setStyle(options);\n            optionsRef.current = options;\n        }\n    }, [\n        element,\n        props\n    ]);\n}\nexport function createPathHook(useElement) {\n    return function usePath(props) {\n        const context = useLeafletContext();\n        const elementRef = useElement(withPane(props, context), context);\n        useEventHandlers(elementRef.current, props.eventHandlers);\n        useLayerLifecycle(elementRef.current, context);\n        usePathOptions(elementRef.current, props);\n        return elementRef;\n    };\n}\n"],"names":["UPPERCASE","LOWERCASE","LEADING_CAPITAL","IDENTIFIER","SEPARATORS","LEADING_SEPARATORS","RegExp","source","SEPARATORS_AND_IDENTIFIER","NUMBERS_AND_IDENTIFIER","camelCase","input","options","Array","isArray","TypeError","pascalCase","preserveConsecutiveUppercase","map","x","trim","filter","length","join","toLowerCase","locale","string","toLocaleLowerCase","toUpperCase","toLocaleUpperCase","isLastCharLower","isLastCharUpper","isLastLastCharUpper","i","character","test","slice","preserveCamelCase","replace","lastIndex","m1","charAt","_","identifier","m","postProcess","module","exports","canUseDOM","window","document","createElement","ExecutionEnvironment","canUseWorkers","Worker","canUseEventListeners","addEventListener","attachEvent","canUseViewport","screen","polyfill","Component","W","hasNativeLazyLoadSupport","HTMLImageElement","prototype","z","e","t","a","s","width","height","className","style","P","h","loading","shouldLoad","opacity","A","r","n","o","l","backgroundColor","position","top","left","bottom","right","objectFit","objectPosition","d","transition","H","F","_ref5","layout","paddingTop","maxWidth","display","alt","role","src","G","children","u","V","B","U","srcSet","decoding","Y","fallback","sources","sizes","_ref6","media","type","key","X","propTypes","isRequired","displayName","J","Z","Error","K","Q","ee","te","ae","_len","arguments","_key","c","apply","concat","ie","image","se","re","ne","Set","oe","le","de","as","class","g","onStartLoad","p","onLoad","onError","f","w","y","b","v","E","k","S","M","N","$","JSON","stringify","images","I","then","_ref7","renderImageToString","swapPlaceholderImage","current","querySelector","complete","wasCached","setTimeout","removeAttribute","removeEventListener","add","has","_ref8","innerHTML","isLoading","isLoaded","requestAnimationFrame","cancelAnimationFrame","ref","dangerouslySetInnerHTML","__html","suppressHydrationWarning","ce","he","ue","__imageData","__error","console","warn","ge","imgClassName","imgStyle","placeholder","pe","_len2","_key2","me","fe","we","useMap","GeoJSON","data","ctx","geoJSON","overlayContainer","layer","props","prevProps","resetStyle","setStyle","CircleMarker","center","_c","marker","Marker","setLatLng","icon","setIcon","zIndexOffset","setZIndexOffset","setOpacity","dragging","draggable","enable","disable","_extends","Object","assign","target","hasOwnProperty","call","this","MapContainerComponent","bounds","boundsOptions","id","whenReady","zoom","forwardedRef","useState","context","setContext","useImperativeHandle","mapRef","useCallback","node","setView","fitBounds","useEffect","remove","contents","value","MapContainer","forwardRef","TileLayer","url","setUrl","MDXContext","useMDXComponents","components","contextComponents","_createMdxContent","_components","h3","em","_provideComponents","React","href","wrapper","MDXLayout","__defProp","defineProperty","__publicField","obj","enumerable","configurable","writable","__defNormalProp","observerMap","Map","RootIds","WeakMap","rootId","unsupportedValue","optionsToId","keys","sort","root","set","toString","get","observe","element","callback","fallbackInView","IntersectionObserver","getBoundingClientRect","isIntersecting","intersectionRatio","threshold","time","boundingClientRect","intersectionRect","rootBounds","observer","elements","instance","thresholds","entries","forEach","entry","_a","inView","some","trackVisibility","isVisible","createObserver","callbacks","push","splice","indexOf","delete","unobserve","size","disconnect","ActiveEntryContext","createContext","undefined","isActiveEntry","activeEntryContext","useContext","activeEntry","activeDate","Date","toLocaleDateString","timeZone","entryTimeZone","activateOnFocus","setActiveEntry","delay","rootMargin","triggerOnce","skip","initialInView","onChange","setRef","state","setState","entryTarget","previousEntryTarget","result","useInView","_inView","intersectionObserverEntry","GeoJSONForUrl","_ref","_geoJson$properties","publicURL","name","geoJson","setGeoJson","date","_activityType","split","isActive","properties","activityType","color","LatLngBounds","bbox","flyToBounds","duration","fetch","resp","json","eventHandlers","click","getElementById","scrollIntoView","coords","geometry","coordinates","radius","pathOptions","fillOpacity","lastCoord","lastCoordinateCenter","MediaAtLocation","_ref2","fields","isOpen","setOpen","createDate","latitude","longitude","Modal","overlay","justifyContent","content","margin","onRequestClose","ImageAtLocation","_ref3","childImageSharp","GatsbyImage","gatsbyImageData","maxHeight","toLocaleString","MovieAtLocation","_ref4","mediaProps","autoPlay","controls","Preface","metadata","StaticImage","gridArea","aspectRatio","require","title","description","Entry","frontmatter","html","previous","linkRef","useRef","focusRef","miles","traveled","end","toFixed","start","onClick","_linkRef$current","today","yesterday","startLocation","daySummary","destination","endLocation","day","sleep","sleepScore","garminFeedback","mood","trainingReadiness","ScreenListener","flyTo","IndexPage","geojsonComponents","geojson","nodes","movies","Provider","scrollWheelZoom","attribution","MarkerClusterGroup","maxClusterRadius","showCoverageOnHover","_toConsumableArray","marginLeft","padding","site","siteMetadata","allMarkdownRemark","edges","Epilogue","Head","_ref9","L","FeatureGroup","extend","iconCreateFunction","clusterPane","pane","spiderfyOnEveryZoom","spiderfyOnMaxZoom","zoomToBoundsOnClick","singleMarkerMode","disableClusteringAtZoom","removeOutsideVisibleBounds","animate","animateAddingMarkers","spiderfyShapePositions","spiderfyDistanceMultiplier","spiderLegPolylineOptions","weight","chunkedLoading","chunkInterval","chunkDelay","chunkProgress","polygonOptions","initialize","Util","setOptions","_defaultIconCreateFunction","_featureGroup","featureGroup","addEventParent","_nonPointGroup","_inZoomAnimation","_needsClustering","_needsRemoving","_currentShownBounds","_queue","_childMarkerEventHandlers","_childMarkerDragStart","_childMarkerMoved","_childMarkerDragEnd","DomUtil","TRANSITION","_withAnimation","_noAnimation","_markerCluster","MarkerCluster","MarkerClusterNonAnimated","addLayer","LayerGroup","addLayers","getLatLng","fire","_map","hasLayer","_unspiderfy","_addLayer","_maxZoom","_topClusterLevel","_recalculateBounds","_refreshClustersIcons","visibleLayer","currentZoom","_zoom","__parent","contains","_animationAddLayer","_animationAddLayerNonAnimated","removeLayer","removeLayers","_unspiderfyLayer","_removeLayer","off","clusterShow","_arraySplice","latlng","_latlng","layersArray","skipLayerAddEvent","fg","npg","chunked","offset","originalArray","started","getTime","process","bind","_extractNonGroupLayers","getChildCount","markers","getAllChildMarkers","otherMarker","_recursivelyAddChildrenToMap","needsClustering","layersArray2","l2","clearLayers","_gridClusters","_gridUnclustered","_noanimationUnspiderfy","eachLayer","_generateInitialClusters","getBounds","_bounds","method","thisNeedsRemoving","j","needsRemoving","getLayers","layers","getLayer","parseInt","stamp","anArray","_group","zoomToShowLayer","showMarker","_icon","once","spiderfy","Math","round","on","panTo","zoomToBounds","onAdd","isFinite","getMaxZoom","addTo","_maxLat","crs","projection","MAX_LATITUDE","newlatlng","_getExpandedVisibleBounds","_zoomEnd","_moveEnd","_spiderfierOnAdd","_bindEvents","onRemove","_unbindEvents","_mapPane","_spiderfierOnRemove","_hideCoverage","getVisibleParent","vMarker","_removeFromGridUnclustered","gridUnclustered","minZoom","floor","getMinZoom","removeObject","project","__dragStart","_ignoreMove","isPopupOpen","_popup","_moveChild","oldLatLng","openPopup","from","to","dragStart","removeFromDistanceGrid","dontUpdateMap","gridClusters","cluster","_markers","_childCount","_boundsNeedUpdate","_cLatLng","addObject","_childClusters","_iconNeedsUpdate","_isOrIsParent","el","oel","parentNode","propagate","originalEvent","relatedTarget","listens","childCount","DivIcon","iconSize","Point","_zoomOrSpiderfy","_showCoverage","bottomCluster","keyCode","_container","focus","_shownPolygon","_spiderfied","Polygon","getConvexHull","_mergeSplitClusters","newBounds","_recursivelyRemoveChildrenFromMap","maxZoom","ceil","radiusFn","DistanceGrid","markerPoint","_overrideMarkerIcon","closest","getNearObject","_addChild","parent","newCluster","lastParent","_updateIcon","_enqueue","fn","_queueTimeout","_processQueue","clearTimeout","mapZoom","intersects","_animationStart","_animationZoomIn","_animationZoomOut","Browser","mobile","_checkBoundsMaxLat","pad","_mapBoundsInfinite","maxLat","getNorth","_northEast","lat","Infinity","getSouth","_southWest","_addToMap","group","output","include","LatLng","previousZoomLevel","newZoomLevel","_recursively","startPos","_isSingleParent","clusterHide","_forceLayout","_recursivelyBecomeVisible","_recursivelyRestoreChildPositions","_animationEnd","_animationZoomOutSingle","_setPos","latLngToLayerPoint","_recursivelyAnimateChildrenInAndAddSelfToMap","falseFn","body","offsetWidth","markerClusterGroup","Icon","storageArray","ignoreDraggedMarker","fitBoundsOptions","childClusters","boundsZoom","getBoundsZoom","getZoom","newClusters","createIcon","_iconObj","createShadow","new1","isNotificationFromChild","_setClusterCenter","child","_resetBounds","lng","childLatLng","latSum","lngSum","totalCount","_wLatLng","_backupLatlng","_recursivelyAnimateChildrenIn","cm","mapMinZoom","zoomLevel","nm","_restorePosition","previousBounds","exceptBounds","boundsToApplyTo","zoomLevelToStart","zoomLevelToStop","runAtEveryLevel","runAtBottomLevel","backup","cellSize","_cellSize","_sqCellSize","_grid","_objectPoint","point","_getCoord","grid","row","cell","updateObject","len","eachObject","dist","objectPoint","closestDistSq","_sqDist","coord","p2","dx","dy","QuickHull","getDistant","cpt","bl","vY","findMostDistantPointFromBaseLine","baseLine","latLngs","pt","maxD","maxPt","newPoints","maxPoint","buildConvexHull","convexHullBaseLines","minLat","maxLng","minLng","maxLatPt","minLatPt","maxLngPt","minLngPt","minPt","childMarkers","points","_2PI","PI","_circleFootSeparation","_circleStartAngle","_spiralFootSeparation","_spiralLengthStart","_spiralLengthFactor","_circleSpiralSwitchover","positions","_generatePointsSpiral","_generatePointsCircle","_animationSpiderfy","unspiderfy","zoomDetails","_animationUnspiderfy","count","centerPt","angle","legLength","angleStep","res","max","cos","sin","_round","separation","lengthFactor","_preSpiderfyLatlng","_spiderLeg","leg","newPos","legOptions","layerPointToLatLng","Polyline","legPath","thisLayerLatLng","thisLayerPos","svg","Path","SVG","finalLegOpacity","_path","getTotalLength","strokeDasharray","strokeDashoffset","nonAnimatable","_latLngToNewLayerPoint","closePopup","stillThereChildCount","_unspiderfyWrapper","zoomAnimation","_unspiderfyZoomStart","touch","getRenderer","_unspiderfyZoomAnim","hasClass","refreshClusters","_layers","_flagParentsIconsNeedUpdate","_refreshSingleMarkerModeMarkers","refreshIconOptions","directlyRefreshClusters","factory","__assign","__rest","getOwnPropertySymbols","propertyIsEnumerable","__importDefault","mod","__esModule","core_1","leaflet_1","default","Default","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","createPathComponent","clusterProps","clusterEvents","rest","_b","propName","prop","startsWith","getPropsAndEvents","eventAsProp","clusterEvent","substring","createElementObject","extendContext","layerContainer","bodyOpenClassName","portalClassName","_createClass","defineProperties","descriptor","Constructor","protoProps","staticProps","_react","_react2","_interopRequireDefault","_reactDom2","_propTypes2","_ModalPortal2","ariaAppHider","newObj","_interopRequireWildcard","_safeHTMLElement","_safeHTMLElement2","_reactLifecyclesCompat","_possibleConstructorReturn","self","ReferenceError","isReact16","createPortal","createHTMLElement","getCreatePortal","unstable_renderSubtreeIntoContainer","getParentElement","parentSelector","_Component","_temp","_this","_classCallCheck","args","__proto__","getPrototypeOf","removePortal","unmountComponentAtNode","removeChild","portalRef","portal","renderPortal","defaultStyles","subClass","superClass","create","constructor","setPrototypeOf","_inherits","appendChild","prevParent","nextParent","snapshot","_props","now","closesAt","closeTimeoutMS","beforeClose","closeWithTimeout","setElement","bool","shape","object","htmlOpenClassName","oneOfType","base","afterOpen","overlayClassName","appElement","instanceOf","SafeHTMLCollection","SafeNodeList","arrayOf","onAfterOpen","func","number","ariaHideApp","shouldFocusAfterRender","shouldCloseOnOverlayClick","shouldReturnFocusAfterClose","preventScroll","aria","contentLabel","shouldCloseOnEsc","overlayRef","contentRef","overlayElement","contentElement","defaultProps","contentEl","border","background","overflow","WebkitOverflowScrolling","borderRadius","outline","_typeof","Symbol","iterator","focusManager","_scopeTab2","classList","_portalOpenInstances2","CLASS_NAMES","ariaHiddenInstances","ModalPortal","setOverlayRef","setContentRef","afterClose","_this$props","parentDocument","ownerDocument","getElementsByTagName","show","returnFocus","teardownScopedFocus","popWithoutFocus","onAfterClose","deregister","open","beforeOpen","closeTimer","setupScopedFocus","markForFocusLater","openAnimationFrame","overlayEl","close","closeWithoutTimeout","focusContent","contentHasFocus","handleKeyDown","event","code","isTabKey","isEscKey","stopPropagation","requestClose","handleOverlayOnClick","shouldClose","ownerHandlesClose","handleContentOnMouseUp","handleOverlayOnMouseDown","preventDefault","handleContentOnClick","handleContentOnMouseDown","shouldBeClosed","activeElement","buildClassName","which","additional","classNames","attributesFromObject","prefix","items","reduce","acc","moveFromContentToOverlay","prevState","hide","register","_props2","contentStyles","overlayStyles","overlayProps","onMouseDown","contentProps","tabIndex","onKeyDown","onMouseUp","modal","testId","resetState","globalElement","querySelectorAll","log","assertNodeList","useElement","validateElement","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","next","done","setAttribute","err","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","documentNotReadyOrSSRTesting","_warning","_warning2","nodeList","selector","HTMLCollection","NodeList","_arr","before","after","_i","item","instances","_arr2","_i2","check","nodeName","_portalOpenInstances","subscribe","eventType","openInstances","cloneNode","firstChild","insertBefore","lastChild","parentElement","htmlElement","cls","htmlClassList","removeClass","_cls","docBodyClassList","at","classString","classListRef","poll","incrementReference","decrementReference","focusLaterElements","handleBlur","handleFocus","toFocus","pop","modalElement","detachEvent","_tabbable","_tabbable2","needToFocus","portalOpenInstances","PortalOpenInstances","openInstance","emit","index","subscribers","subscriber","_exenv","EE","SafeHTMLElement","HTMLElement","tabbable","shiftKey","head","tail","getActiveElement","checkSafari","exec","navigator","userAgent","shadowRoot","findTabbableDescendants","descendants","finished","DISPLAY_NONE","DISPLAY_CONTENTS","tabbableNode","hidesContents","zeroSize","offsetHeight","getComputedStyle","displayValue","getPropertyValue","scrollWidth","scrollHeight","isNotOverflowing","exception","focusable","isTabIndexNotNaN","disabled","rootNode","getRootNode","host","visible","getAttribute","isTabIndexNaN","isNaN","_Modal","_Modal2","warning","useAttribution","attributionRef","attributionControl","removeAttribution","addAttribution","updateCircle","setRadius","createContainerComponent","ContainerComponent","createDivOverlayComponent","OverlayComponent","update","contentNode","_contentNode","createLeafComponent","LeafComponent","CONTEXT_VERSION","createLeafletContext","freeze","__version","extra","LeafletContext","LeafletProvider","useLeafletContext","createControlHook","elementRef","positionRef","setPosition","createDivOverlayHook","useLifecycle","container","createElementHook","updateElement","propsRef","useEventHandlers","eventHandlersRef","createControlComponent","createInstance","useControl","createLayerComponent","useLayer","createOverlayComponent","useOverlay","usePath","createTileLayerComponent","updateGridLayer","zIndex","setZIndex","splitClassName","Boolean","addClassName","addClass","removeClassName","updateClassName","prevClassName","nextClassName","updateMediaOverlay","setBounds","useLayerLifecycle","createLayerHook","withPane","usePathOptions","optionsRef","createPathHook"],"sourceRoot":""}